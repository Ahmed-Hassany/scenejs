{"version":3,"file":"index.js","sources":["../../node_modules/shape-svg/node_modules/@daybrush/utils/dist/utils.esm.js","../../node_modules/shape-svg/dist/shapesvg.esm.js","../../node_modules/@egjs/component/dist/component.esm.js","../../node_modules/@daybrush/page/node_modules/@daybrush/utils/dist/utils.esm.js","../../node_modules/@daybrush/page/dist/page.esm.js","../src/Store.ts","../../node_modules/@daybrush/utils/dist/utils.esm.js","../src/MainPage.ts","../src/FeaturesPage.ts","../src/ExamplesPage.ts","../src/StartedPage.ts","../../src/consts.ts","../../src/EventTrigger.ts","../../src/easing.ts","../../src/PropertyObject.ts","../../src/utils.ts","../../src/Animator.ts","../../src/utils/property.ts","../../src/Frame.ts","../../src/utils/dot.ts","../../src/SceneItem.ts","../../src/Scene.ts","../src/utils.ts","../src/Header.ts","../src/index.ts"],"sourcesContent":["/*\nCopyright (c) 2018 Daybrush\n@name: @daybrush/utils\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/utils\n@version 0.5.2\n*/\n/**\n* @namespace\n* @name Consts\n*/\n\n/**\n* get string \"rgb\"\n* @memberof Color\n* @example\nimport {RGB} from \"@daybrush/utils\";\n\nconsole.log(RGB); // \"rgb\"\n*/\nvar RGB = \"rgb\";\n/**\n* get string \"rgba\"\n* @memberof Color\n* @example\nimport {RGBA} from \"@daybrush/utils\";\n\nconsole.log(RGBA); // \"rgba\"\n*/\n\nvar RGBA = \"rgba\";\n/**\n* get string \"hsl\"\n* @memberof Color\n* @example\nimport {HSL} from \"@daybrush/utils\";\n\nconsole.log(HSL); // \"hsl\"\n*/\n\nvar HSL = \"hsl\";\n/**\n* get string \"hsla\"\n* @memberof Color\n* @example\nimport {HSLA} from \"@daybrush/utils\";\n\nconsole.log(HSLA); // \"hsla\"\n*/\n\nvar HSLA = \"hsla\";\n/**\n* gets an array of color models.\n* @memberof Color\n* @example\nimport {COLOR_MODELS} from \"@daybrush/utils\";\n\nconsole.log(COLOR_MODELS); // [\"rgb\", \"rgba\", \"hsl\", \"hsla\"];\n*/\n\nvar COLOR_MODELS = [RGB, RGBA, HSL, HSLA];\n/**\n* get string \"function\"\n* @memberof Consts\n* @example\nimport {FUNCTION} from \"@daybrush/utils\";\n\nconsole.log(FUNCTION); // \"function\"\n*/\n\nvar FUNCTION = \"function\";\n/**\n* get string \"property\"\n* @memberof Consts\n* @example\nimport {PROPERTY} from \"@daybrush/utils\";\n\nconsole.log(PROPERTY); // \"property\"\n*/\n\nvar PROPERTY = \"property\";\n/**\n* get string \"array\"\n* @memberof Consts\n* @example\nimport {ARRAY} from \"@daybrush/utils\";\n\nconsole.log(ARRAY); // \"array\"\n*/\n\nvar ARRAY = \"array\";\n/**\n* get string \"object\"\n* @memberof Consts\n* @example\nimport {OBJECT} from \"@daybrush/utils\";\n\nconsole.log(OBJECT); // \"object\"\n*/\n\nvar OBJECT = \"object\";\n/**\n* get string \"string\"\n* @memberof Consts\n* @example\nimport {STRING} from \"@daybrush/utils\";\n\nconsole.log(STRING); // \"string\"\n*/\n\nvar STRING = \"string\";\n/**\n* get string \"number\"\n* @memberof Consts\n* @example\nimport {NUMBER} from \"@daybrush/utils\";\n\nconsole.log(NUMBER); // \"number\"\n*/\n\nvar NUMBER = \"number\";\n/**\n* get string \"undefined\"\n* @memberof Consts\n* @example\nimport {UNDEFINED} from \"@daybrush/utils\";\n\nconsole.log(UNDEFINED); // \"undefined\"\n*/\n\nvar UNDEFINED = \"undefined\";\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\n\nvar IS_WINDOW = typeof window !== UNDEFINED;\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @name document\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\n\nvar doc = typeof document !== UNDEFINED && document;\nvar prefixes = [\"webkit\", \"ms\", \"moz\", \"o\"];\n/**\n * @namespace CrossBrowser\n */\n\n/**\n* Get a CSS property with a vendor prefix that supports cross browser.\n* @function\n* @param {string} property - A CSS property\n* @return {string} CSS property with cross-browser vendor prefix\n* @memberof CrossBrowser\n* @example\nimport {getCrossBrowserProperty} from \"@daybrush/utils\";\n\nconsole.log(getCrossBrowserProperty(\"transform\")); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\nconsole.log(getCrossBrowserProperty(\"filter\")); // \"filter\", \"-webkit-filter\"\n*/\n\nvar getCrossBrowserProperty =\n/*#__PURE__*/\nfunction (property) {\n  if (!doc) {\n    return \"\";\n  }\n\n  var styles = (doc.body || doc.documentElement).style;\n  var length = prefixes.length;\n\n  if (typeof styles[property] !== UNDEFINED) {\n    return property;\n  }\n\n  for (var i = 0; i < length; ++i) {\n    var name = \"-\" + prefixes[i] + \"-\" + property;\n\n    if (typeof styles[name] !== UNDEFINED) {\n      return name;\n    }\n  }\n\n  return \"\";\n};\n/**\n* get string \"transfrom\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {TRANSFORM} from \"@daybrush/utils\";\n\nconsole.log(TRANSFORM); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\n*/\n\nvar TRANSFORM =\n/*#__PURE__*/\ngetCrossBrowserProperty(\"transform\");\n/**\n* get string \"filter\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {FILTER} from \"@daybrush/utils\";\n\nconsole.log(FILTER); // \"filter\", \"-ms-filter\", \"-webkit-filter\"\n*/\n\nvar FILTER =\n/*#__PURE__*/\ngetCrossBrowserProperty(\"filter\");\n/**\n* get string \"animation\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {ANIMATION} from \"@daybrush/utils\";\n\nconsole.log(ANIMATION); // \"animation\", \"-ms-animation\", \"-webkit-animation\"\n*/\n\nvar ANIMATION =\n/*#__PURE__*/\ngetCrossBrowserProperty(\"animation\");\n/**\n* get string \"keyframes\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {KEYFRAMES} from \"@daybrush/utils\";\n\nconsole.log(KEYFRAMES); // \"keyframes\", \"-ms-keyframes\", \"-webkit-keyframes\"\n*/\n\nvar KEYFRAMES =\n/*#__PURE__*/\nANIMATION.replace(\"animation\", \"keyframes\");\n\n/**\n* @namespace\n* @name Utils\n*/\n\n/**\n* Check the type that the value is undefined.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {boolean} true if the type is correct, false otherwise\n* @example\nimport {isUndefined} from \"@daybrush/utils\";\n\nconsole.log(isUndefined(undefined)); // true\nconsole.log(isUndefined(\"\")); // false\nconsole.log(isUndefined(1)); // false\nconsole.log(isUndefined(null)); // false\n*/\n\nfunction isUndefined(value) {\n  return typeof value === UNDEFINED;\n}\n/**\n* Check the type that the value is object.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isObject} from \"@daybrush/utils\";\n\nconsole.log(isObject({})); // true\nconsole.log(isObject(undefined)); // false\nconsole.log(isObject(\"\")); // false\nconsole.log(isObject(null)); // false\n*/\n\nfunction isObject(value) {\n  return value && typeof value === OBJECT;\n}\n/**\n* Check the type that the value is isArray.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isArray} from \"@daybrush/utils\";\n\nconsole.log(isArray([])); // true\nconsole.log(isArray({})); // false\nconsole.log(isArray(undefined)); // false\nconsole.log(isArray(null)); // false\n*/\n\nfunction isArray(value) {\n  return Array.isArray(value);\n}\n/**\n* Check the type that the value is string.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isString} from \"@daybrush/utils\";\n\nconsole.log(isString(\"1234\")); // true\nconsole.log(isString(undefined)); // false\nconsole.log(isString(1)); // false\nconsole.log(isString(null)); // false\n*/\n\nfunction isString(value) {\n  return typeof value === STRING;\n}\n/**\n* Check the type that the value is function.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isFunction} from \"@daybrush/utils\";\n\nconsole.log(isFunction(function a() {})); // true\nconsole.log(isFunction(() => {})); // true\nconsole.log(isFunction(\"1234\")); // false\nconsole.log(isFunction(1)); // false\nconsole.log(isFunction(null)); // false\n*/\n\nfunction isFunction(value) {\n  return typeof value === FUNCTION;\n}\n/**\n* divide text by space.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {spliceSpace} from \"@daybrush/utils\";\n\nconsole.log(splitSpace(\"a b c d e f g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitSpace(\"'a,b' c 'd,e' f g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\n\nfunction splitSpace(text) {\n  // divide comma(,)\n  var matches = text.match(/(\"[^\"]*\")|('[^']*')|([^\\s()]*(?:\\((?:[^()]*|\\([^()]*\\))*\\))[^\\s()]*)|\\S+/g);\n  return matches || [];\n}\n/**\n* divide text by comma.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {splitComma} from \"@daybrush/utils\";\n\nconsole.log(splitComma(\"a,b,c,d,e,f,g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitComma(\"'a,b',c,'d,e',f,g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\n\nfunction splitComma(text) {\n  // divide comma(,)\n  // \"[^\"]*\"|'[^']*'\n  var matches = text.match(/(\"[^\"]*\"|'[^']*'|[^,\\s()]*\\((?:[^()]*|\\([^()]*\\))*\\)[^,\\s()]*|[^,])+/g);\n  return matches ? matches.map(function (str) {\n    return str.trim();\n  }) : [];\n}\n/**\n* divide text by bracket \"(\", \")\".\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {object} divided texts\n* @example\nimport {splitBracket} from \"@daybrush/utils\";\n\nconsole.log(splitBracket(\"a(1, 2)\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"\"}\nconsole.log(splitBracket(\"a(1, 2)b\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"b\"}\n*/\n\nfunction splitBracket(text) {\n  var matches = /([^(]*)\\(([\\s\\S]*)\\)([\\s\\S]*)/g.exec(text);\n\n  if (!matches || matches.length < 4) {\n    return {};\n  } else {\n    return {\n      prefix: matches[1],\n      value: matches[2],\n      suffix: matches[3]\n    };\n  }\n}\n/**\n* divide text by number and unit.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {} divided texts\n* @example\nimport {splitUnit} from \"@daybrush/utils\";\n\nconsole.log(splitUnit(\"10px\"));\n// {prefix: \"\", value: 10, unit: \"px\"}\nconsole.log(splitUnit(\"-10px\"));\n// {prefix: \"\", value: -10, unit: \"px\"}\nconsole.log(splitUnit(\"a10%\"));\n// {prefix: \"a\", value: 10, unit: \"%\"}\n*/\n\nfunction splitUnit(text) {\n  var matches = /^([^\\d|e|\\-|\\+]*)((?:\\d|\\.|-|e-|e\\+)+)(\\S*)$/g.exec(text);\n\n  if (!matches) {\n    return {\n      prefix: \"\",\n      unit: \"\",\n      value: NaN\n    };\n  }\n\n  var prefix = matches[1];\n  var value = matches[2];\n  var unit = matches[3];\n  return {\n    prefix: prefix,\n    unit: unit,\n    value: parseFloat(value)\n  };\n}\n/**\n* transform strings to camel-case\n* @memberof Utils\n* @param {String} text - string\n* @return {String} camel-case string\n* @example\nimport {camelize} from \"@daybrush/utils\";\n\nconsole.log(camelize(\"transform-origin\")); // transformOrigin\nconsole.log(camelize(\"abcd_efg\")); // abcdEfg\nconsole.log(camelize(\"abcd efg\")); // abcdEfg\n*/\n\nfunction camelize(str) {\n  return str.replace(/[\\s-_]([a-z])/g, function (all, letter) {\n    return letter.toUpperCase();\n  });\n}\n/**\n* transform a camelized string into a lowercased string.\n* @memberof Utils\n* @param {string} text - a camel-cased string\n* @param {string} [separator=\"-\"] - a separator\n* @return {string}  a lowercased string\n* @example\nimport {decamelize} from \"@daybrush/utils\";\n\nconsole.log(decamelize(\"transformOrigin\")); // transform-origin\nconsole.log(decamelize(\"abcdEfg\", \"_\")); // abcd_efg\n*/\n\nfunction decamelize(str, separator) {\n  if (separator === void 0) {\n    separator = \"-\";\n  }\n\n  return str.replace(/([a-z])([A-Z])/g, function (all, letter, letter2) {\n    return \"\" + letter + separator + letter2.toLowerCase();\n  });\n}\n/**\n* Date.now() method\n* @memberof CrossBrowser\n* @return {number} milliseconds\n* @example\nimport {now} from \"@daybrush/utils\";\n\nconsole.log(now()); // 12121324241(milliseconds)\n*/\n\nfunction now() {\n  return Date.now ? Date.now() : new Date().getTime();\n}\n/**\n* window.requestAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {FrameRequestCallback} callback - The function to call when it's time to update your animation for the next repaint.\n* @return {number} id\n* @example\nimport {requestAnimationFrame} from \"@daybrush/utils\";\n\nrequestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n*/\n\nvar requestAnimationFrame =\n/*#__PURE__*/\nfunction () {\n  var firstTime = now();\n  var raf = IS_WINDOW && (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame);\n  return raf ? raf.bind(window) : function (callback) {\n    var currTime = now();\n    var id = window.setTimeout(function () {\n      callback(currTime - firstTime);\n    }, 1000 / 60);\n    return id;\n  };\n}();\n\n/**\n* @namespace\n* @name Color\n*/\n\n/**\n* Remove the # from the hex color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} hex color\n* @example\nimport {cutHex} from \"@daybrush/utils\";\n\nconsole.log(cutHex(\"#000000\")) // \"000000\"\n*/\n\nfunction cutHex(hex) {\n  return hex.replace(\"#\", \"\");\n}\n/**\n* convert hex color to rgb color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} rgb color\n* @example\nimport {hexToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hexToRGBA(\"#00000005\"));\n// [0, 0, 0, 1]\nconsole.log(hexToRGBA(\"#201045\"));\n// [32, 16, 69, 1]\n*/\n\nfunction hexToRGBA(hex) {\n  var h = cutHex(hex);\n  var r = parseInt(h.substring(0, 2), 16);\n  var g = parseInt(h.substring(2, 4), 16);\n  var b = parseInt(h.substring(4, 6), 16);\n  var a = parseInt(h.substring(6, 8), 16) / 255;\n\n  if (isNaN(a)) {\n    a = 1;\n  }\n\n  return [r, g, b, a];\n}\n/**\n* convert 3(or 4)-digit hex color to 6(or 8)-digit hex color.\n* @memberof Color\n* @param {} hex - 3(or 4)-digit hex color\n* @return {} 6(or 8)-digit hex color\n* @example\nimport {toFullHex} from \"@daybrush/utils\";\n\nconsole.log(toFullHex(\"#123\")); // \"#112233\"\nconsole.log(toFullHex(\"#123a\")); // \"#112233aa\"\n*/\n\nfunction toFullHex(h) {\n  var r = h.charAt(1);\n  var g = h.charAt(2);\n  var b = h.charAt(3);\n  var a = h.charAt(4);\n  var arr = [\"#\", r, r, g, g, b, b, a, a];\n  return arr.join(\"\");\n}\n/**\n* convert hsl color to rgba color.\n* @memberof Color\n* @param {} hsl - hsl color(hue: 0 ~ 360, saturation: 0 ~ 1, lightness: 0 ~ 1, alpha: 0 ~ 1)\n* @return {} rgba color\n* @example\nimport {hslToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hslToRGBA([150, 0.5, 0.4]));\n// [51, 153, 102, 1]\n*/\n\nfunction hslToRGBA(hsl) {\n  var h = hsl[0];\n  var s = hsl[1];\n  var l = hsl[2];\n\n  if (h < 0) {\n    h += Math.floor((Math.abs(h) + 360) / 360) * 360;\n  }\n\n  h %= 360;\n  var c = (1 - Math.abs(2 * l - 1)) * s;\n  var x = c * (1 - Math.abs(h / 60 % 2 - 1));\n  var m = l - c / 2;\n  var rgb;\n\n  if (h < 60) {\n    rgb = [c, x, 0];\n  } else if (h < 120) {\n    rgb = [x, c, 0];\n  } else if (h < 180) {\n    rgb = [0, c, x];\n  } else if (h < 240) {\n    rgb = [0, x, c];\n  } else if (h < 300) {\n    rgb = [x, 0, c];\n  } else if (h < 360) {\n    rgb = [c, 0, x];\n  }\n\n  var result = [Math.round((rgb[0] + m) * 255), Math.round((rgb[1] + m) * 255), Math.round((rgb[2] + m) * 255), hsl.length > 3 ? hsl[3] : 1];\n  return result;\n}\n/**\n* convert string to rgba color.\n* @memberof Color\n* @param {} - 3-hex(#000), 4-hex(#0000) 6-hex(#000000), 8-hex(#00000000) or RGB(A), or HSL(A)\n* @return {} rgba color\n* @example\nimport {stringToRGBA} from \"@daybrush/utils\";\n\nconsole.log(stringToRGBA(\"#000000\")); // [0, 0, 0, 1]\nconsole.log(stringToRGBA(\"rgb(100, 100, 100)\")); // [100, 100, 100, 1]\nconsole.log(stringToRGBA(\"hsl(150, 0.5, 0.4)\")); // [51, 153, 102, 1]\n*/\n\nfunction stringToRGBA(color) {\n  if (color.charAt(0) === \"#\") {\n    if (color.length === 4 || color.length === 5) {\n      return hexToRGBA(toFullHex(color));\n    } else {\n      return hexToRGBA(color);\n    }\n  } else if (color.indexOf(\"(\") !== -1) {\n    // in bracket.\n    var _a = splitBracket(color),\n        prefix = _a.prefix,\n        value = _a.value;\n\n    if (!prefix || !value) {\n      return;\n    }\n\n    var arr = splitComma(value);\n    var colorArr = [];\n    var length = arr.length;\n\n    switch (prefix) {\n      case RGB:\n      case RGBA:\n        for (var i = 0; i < length; ++i) {\n          colorArr[i] = parseFloat(arr[i]);\n        }\n\n        return colorArr;\n\n      case HSL:\n      case HSLA:\n        for (var i = 0; i < length; ++i) {\n          if (arr[i].indexOf(\"%\") !== -1) {\n            colorArr[i] = parseFloat(arr[i]) / 100;\n          } else {\n            colorArr[i] = parseFloat(arr[i]);\n          }\n        } // hsl, hsla to rgba\n\n\n        return hslToRGBA(colorArr);\n    }\n  }\n\n  return;\n}\n\n/**\n * Returns all element descendants of node that\n * match selectors.\n */\n\n/**\n * Checks if the specified class value exists in the element's class attribute.\n * @memberof DOM\n * @param - A DOMString containing one or more selectors to match\n * @param - If multi is true, a DOMString containing one or more selectors to match against.\n * @example\nimport {$} from \"@daybrush/utils\";\n\nconsole.log($(\"div\")); // div element\nconsole.log($(\"div\", true)); // [div, div] elements\n*/\n\nfunction $(selectors, multi) {\n  return multi ? doc.querySelectorAll(selectors) : doc.querySelector(selectors);\n}\n/**\n* Checks if the specified class value exists in the element's class attribute.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to search\n* @return {boolean} return false if the class is not found.\n* @example\nimport {hasClass} from \"@daybrush/utils\";\n\nconsole.log(hasClass(element, \"start\")); // true or false\n*/\n\nfunction hasClass(element, className) {\n  if (element.classList) {\n    return element.classList.contains(className);\n  }\n\n  return !!element.className.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"));\n}\n/**\n* Add the specified class value. If these classe already exist in the element's class attribute they are ignored.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to add\n* @example\nimport {addClass} from \"@daybrush/utils\";\n\naddClass(element, \"start\");\n*/\n\nfunction addClass(element, className) {\n  if (element.classList) {\n    element.classList.add(className);\n  } else {\n    element.className += \" \" + className;\n  }\n}\n/**\n* Removes the specified class value.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to remove\n* @example\nimport {removeClass} from \"@daybrush/utils\";\n\nremoveClass(element, \"start\");\n*/\n\nfunction removeClass(element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else {\n    var reg = new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\");\n    element.className = element.className.replace(reg, \" \");\n  }\n}\n/**\n* Gets the CSS properties from the element.\n* @memberof DOM\n* @param elements - elements\n* @param properites - the CSS properties\n* @return returns CSS properties and values.\n* @example\nimport {fromCSS} from \"@daybrush/utils\";\n\nconsole.log(fromCSS(element, [\"left\", \"opacity\", \"top\"])); // {\"left\": \"10px\", \"opacity\": 1, \"top\": \"10px\"}\n*/\n\nfunction fromCSS(elements, properties) {\n  if (!elements || !properties || !properties.length) {\n    return {};\n  }\n\n  var element;\n\n  if (elements instanceof Element) {\n    element = elements;\n  } else if (elements.length) {\n    element = elements[0];\n  } else {\n    return {};\n  }\n\n  var cssObject = {};\n  var styles = window.getComputedStyle(element);\n  var length = properties.length;\n\n  for (var i = 0; i < length; ++i) {\n    cssObject[properties[i]] = styles[properties[i]];\n  }\n\n  return cssObject;\n}\n\nexport { RGB, RGBA, HSL, HSLA, COLOR_MODELS, FUNCTION, PROPERTY, ARRAY, OBJECT, STRING, NUMBER, UNDEFINED, IS_WINDOW, doc as document, getCrossBrowserProperty, TRANSFORM, FILTER, ANIMATION, KEYFRAMES, cutHex, hexToRGBA, toFullHex, hslToRGBA, stringToRGBA, isUndefined, isObject, isArray, isString, isFunction, splitSpace, splitComma, splitBracket, splitUnit, camelize, decamelize, now, requestAnimationFrame, $, hasClass, addClass, removeClass, fromCSS };\n//# sourceMappingURL=utils.esm.js.map\n","/*\nCopyright (c) 2018 Daybrush\nname: shape-svg\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/shape-svg\n@version 0.3.1\n*/\nimport { hasClass, addClass, splitUnit } from '@daybrush/utils';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  return t;\n}\n\nvar CLASS_NAME = \"__shape-svg\";\n\nfunction makeDOM(tag) {\n  return document.createElementNS(\"http://www.w3.org/2000/svg\", tag);\n}\n\nfunction makeSVGDOM() {\n  var el = makeDOM(\"svg\");\n  addClass(el, CLASS_NAME);\n  return el;\n}\n\nfunction setAttributes(element, attributes) {\n  for (var name in attributes) {\n    element.setAttribute(name, attributes[name]);\n  }\n}\n\nfunction setStyles(element, styles) {\n  var cssText = [];\n\n  for (var name in styles) {\n    cssText.push(name + \":\" + styles[name] + \";\");\n  }\n\n  element.style.cssText += cssText.join(\"\");\n}\n\nfunction getAbsoluteValue(value, pos, size) {\n  var info = splitUnit(value);\n\n  if (info.unit === \"%\") {\n    return pos + size * info.value / 100 + \"px\";\n  } else if (info.unit === \"px\") {\n    return pos + info.value + \"px\";\n  } else {\n    return \"calc(\" + pos + \"px + \" + value + \")\";\n  }\n}\n\nfunction setOrigin(container, _a) {\n  var width = _a.width,\n      height = _a.height,\n      left = _a.left,\n      top = _a.top,\n      origin = _a.origin;\n\n  if (!origin) {\n    return;\n  }\n\n  var _b = (\"\" + origin).split(\" \"),\n      ox = _b[0],\n      _c = _b[1],\n      oy = _c === void 0 ? ox : _c;\n\n  ox = getAbsoluteValue(ox, left, width);\n  oy = getAbsoluteValue(oy, top, height);\n  container.style.transformOrigin = ox + \" \" + oy;\n}\n\nfunction setViewBox(container, _a) {\n  var width = _a.width,\n      height = _a.height,\n      left = _a.left,\n      right = _a.right,\n      bottom = _a.bottom,\n      top = _a.top,\n      strokeWidth = _a.strokeWidth,\n      className = _a.className;\n\n  if (container && hasClass(container, CLASS_NAME)) {\n    className && className.split(\" \").forEach(function (name) {\n      addClass(container, name);\n    });\n\n    var _b = (container.getAttribute(\"viewBox\") || \"\").split(\" \").map(function (pos) {\n      return parseFloat(pos || \"0\");\n    }),\n        _c = _b[2],\n        boxWidth = _c === void 0 ? 0 : _c,\n        _d = _b[3],\n        boxHeight = _d === void 0 ? 0 : _d;\n\n    container.setAttribute(\"viewBox\", \"0 0 \" + ( // tslint:disable-next-line:max-line-length\n    Math.max(left + width + right + strokeWidth, boxWidth) + \" \" + Math.max(top + height + bottom + strokeWidth, boxHeight)));\n  }\n}\n\nfunction getRect(_a) {\n  var _b = _a.left,\n      left = _b === void 0 ? 0 : _b,\n      _c = _a.top,\n      top = _c === void 0 ? 0 : _c,\n      _d = _a.side,\n      side = _d === void 0 ? 3 : _d,\n      _e = _a.rotate,\n      rotate = _e === void 0 ? 0 : _e,\n      _f = _a.innerRadius,\n      innerRadius = _f === void 0 ? 100 : _f,\n      _g = _a.height,\n      height = _g === void 0 ? 0 : _g,\n      _h = _a.split,\n      split = _h === void 0 ? 1 : _h,\n      _j = _a.width,\n      width = _j === void 0 ? height ? 0 : 100 : _j,\n      _k = _a.strokeLinejoin,\n      strokeLinejoin = _k === void 0 ? \"round\" : _k,\n      _l = _a.strokeWidth,\n      strokeWidth = _l === void 0 ? 0 : _l;\n  var xPoints = [];\n  var yPoints = [];\n  var sideCos = Math.cos(Math.PI / side);\n  var startRad = Math.PI / 180 * rotate + Math.PI * ((side % 2 ? 0 : 1 / side) - 1 / 2);\n\n  for (var i = 0; i < side; ++i) {\n    var rad = Math.PI * (1 / side * 2 * i) + startRad;\n    var cos = Math.cos(rad);\n    var sin = Math.sin(rad);\n    xPoints.push(cos);\n    yPoints.push(sin);\n\n    if (innerRadius !== 100) {\n      if (sideCos <= innerRadius / 100) {\n        continue;\n      } else {\n        xPoints.push(innerRadius / 100 * Math.cos(rad + Math.PI / side));\n        yPoints.push(innerRadius / 100 * Math.sin(rad + Math.PI / side));\n      }\n    }\n  }\n\n  var minX = Math.min.apply(Math, xPoints);\n  var minY = Math.min.apply(Math, yPoints);\n  var maxX = Math.max.apply(Math, xPoints);\n  var maxY = Math.max.apply(Math, yPoints);\n  var isWidth = !!width;\n  var scale = isWidth ? width / (maxX - minX) : height / (maxY - minY);\n  var isOuter = strokeLinejoin === \"miter\" || strokeLinejoin === \"arcs\" || strokeLinejoin === \"miter-clip\";\n  var sideSin = Math.sin(Math.PI / side);\n  var innerCos = Math.min(sideCos, innerRadius / 100);\n  var innerScale = scale * innerCos;\n  var diagonal = strokeWidth / 2 / (sideCos === innerCos ? 1 : Math.sin(Math.atan(sideSin / (sideCos - innerCos))));\n  var outerScale = isOuter ? (innerScale + diagonal) / innerScale : 1;\n  var pos = isOuter ? 0 : strokeWidth / 2;\n  xPoints = xPoints.map(function (xp) {\n    return (xp - minX * outerScale) * scale + pos;\n  });\n  yPoints = yPoints.map(function (yp) {\n    return (yp - minY * outerScale) * scale + pos;\n  });\n  var pathWidth = (maxX - minX) * outerScale * scale + pos * 2;\n  var pathHeight = (maxY - minY) * outerScale * scale + pos * 2;\n  var length = xPoints.length;\n  var points = [];\n  points.push([left + xPoints[0], top + yPoints[0]]);\n\n  for (var i = 1; i <= length; ++i) {\n    var x1 = xPoints[i - 1];\n    var y1 = yPoints[i - 1];\n    var x2 = xPoints[i === length ? 0 : i];\n    var y2 = yPoints[i === length ? 0 : i];\n\n    for (var j = 1; j <= split; ++j) {\n      var x = (x1 * (split - j) + x2 * j) / split;\n      var y = (y1 * (split - j) + y2 * j) / split;\n      points.push([left + x, top + y]);\n    }\n  }\n\n  return {\n    points: points,\n    width: pathWidth,\n    height: pathHeight\n  };\n}\nfunction getPath(points) {\n  return points.map(function (point, i) {\n    return (i === 0 ? \"M\" : \"L\") + \" \" + point.join(\" \");\n  }).join(\" \") + \" Z\";\n}\nfunction be(path, _a, container) {\n  var _b = _a.left,\n      left = _b === void 0 ? 0 : _b,\n      _c = _a.top,\n      top = _c === void 0 ? 0 : _c,\n      _d = _a.right,\n      right = _d === void 0 ? 0 : _d,\n      _e = _a.bottom,\n      bottom = _e === void 0 ? 0 : _e,\n      side = _a.side,\n      split = _a.split,\n      rotate = _a.rotate,\n      innerRadius = _a.innerRadius,\n      height = _a.height,\n      width = _a.width,\n      _f = _a.fill,\n      fill = _f === void 0 ? \"transparent\" : _f,\n      _g = _a.strokeLinejoin,\n      strokeLinejoin = _g === void 0 ? \"round\" : _g,\n      _h = _a.strokeWidth,\n      strokeWidth = _h === void 0 ? 0 : _h,\n      _j = _a.css,\n      css = _j === void 0 ? false : _j,\n      className = _a.className,\n      attributes = __rest(_a, [\"left\", \"top\", \"right\", \"bottom\", \"side\", \"split\", \"rotate\", \"innerRadius\", \"height\", \"width\", \"fill\", \"strokeLinejoin\", \"strokeWidth\", \"css\", \"className\"]);\n\n  var _k = getRect({\n    left: left,\n    top: top,\n    split: split,\n    side: side,\n    rotate: rotate,\n    width: width,\n    height: height,\n    innerRadius: innerRadius,\n    strokeLinejoin: strokeLinejoin,\n    strokeWidth: strokeWidth\n  }),\n      points = _k.points,\n      pathWidth = _k.width,\n      pathHeight = _k.height;\n\n  setViewBox(container, {\n    left: left,\n    top: top,\n    bottom: bottom,\n    right: right,\n    className: className,\n    strokeWidth: 0,\n    width: pathWidth,\n    height: pathHeight\n  });\n  var d = getPath(points);\n  css ? setStyles(path, {\n    d: \"path('\" + d + \"')\"\n  }) : setAttributes(path, {\n    d: d\n  });\n  setAttributes(path, __assign({\n    fill: fill,\n    \"stroke-linejoin\": strokeLinejoin,\n    \"stroke-width\": \"\" + strokeWidth\n  }, attributes));\n}\nfunction star(_a, container) {\n  var _b = _a.side,\n      side = _b === void 0 ? 3 : _b,\n      _c = _a.innerRadius,\n      innerRadius = _c === void 0 ? 60 * Math.cos(Math.PI / side) : _c;\n  return poly(__assign({}, arguments[0], {\n    innerRadius: innerRadius\n  }), container);\n}\nfunction poly(options, container) {\n  if (container === void 0) {\n    container = makeSVGDOM();\n  }\n\n  var path = makeDOM(\"path\");\n  be(path, options, container);\n  container.appendChild(path);\n  return container;\n}\nfunction oval(_a, container) {\n  if (container === void 0) {\n    container = makeSVGDOM();\n  }\n\n  var _b = _a.left,\n      left = _b === void 0 ? 0 : _b,\n      _c = _a.top,\n      top = _c === void 0 ? 0 : _c,\n      _d = _a.right,\n      right = _d === void 0 ? 0 : _d,\n      _e = _a.bottom,\n      bottom = _e === void 0 ? 0 : _e,\n      _f = _a.fill,\n      fill = _f === void 0 ? \"transparent\" : _f,\n      _g = _a.strokeLinejoin,\n      strokeLinejoin = _g === void 0 ? \"round\" : _g,\n      _h = _a.strokeWidth,\n      strokeWidth = _h === void 0 ? 0 : _h,\n      className = _a.className,\n      _j = _a.r,\n      r = _j === void 0 ? 0 : _j,\n      _k = _a.rx,\n      rx = _k === void 0 ? r : _k,\n      _l = _a.ry,\n      ry = _l === void 0 ? r : _l,\n      _m = _a.width,\n      width = _m === void 0 ? rx * 2 : _m,\n      _o = _a.height,\n      height = _o === void 0 ? ry * 2 : _o,\n      origin = _a.origin,\n      attributes = __rest(_a, [\"left\", \"top\", \"right\", \"bottom\", \"fill\", \"strokeLinejoin\", \"strokeWidth\", \"className\", \"r\", \"rx\", \"ry\", \"width\", \"height\", \"origin\"]);\n\n  var ellipse = makeDOM(\"ellipse\");\n  var halfStroke = strokeWidth / 2;\n  setViewBox(container, {\n    strokeWidth: strokeWidth,\n    left: left,\n    top: top,\n    bottom: bottom,\n    right: right,\n    className: className,\n    width: width,\n    height: height\n  });\n  setOrigin(ellipse, {\n    left: left + halfStroke,\n    top: top + halfStroke,\n    width: width,\n    height: height,\n    origin: origin\n  });\n  setAttributes(ellipse, __assign({\n    fill: fill,\n    \"cx\": left + halfStroke + width / 2,\n    \"cy\": top + halfStroke + height / 2,\n    \"rx\": width / 2 - halfStroke,\n    \"ry\": height / 2 - halfStroke,\n    \"stroke-linejoin\": strokeLinejoin,\n    \"stroke-width\": \"\" + strokeWidth\n  }, attributes));\n  container.appendChild(ellipse);\n  return container;\n}\nfunction rect(_a, container) {\n  if (container === void 0) {\n    container = makeSVGDOM();\n  }\n\n  var _b = _a.left,\n      left = _b === void 0 ? 0 : _b,\n      _c = _a.top,\n      top = _c === void 0 ? 0 : _c,\n      _d = _a.right,\n      right = _d === void 0 ? 0 : _d,\n      _e = _a.bottom,\n      bottom = _e === void 0 ? 0 : _e,\n      _f = _a.round,\n      round = _f === void 0 ? 0 : _f,\n      width = _a.width,\n      height = _a.height,\n      _g = _a.fill,\n      fill = _g === void 0 ? \"transparent\" : _g,\n      _h = _a.strokeLinejoin,\n      strokeLinejoin = _h === void 0 ? \"round\" : _h,\n      _j = _a.strokeWidth,\n      strokeWidth = _j === void 0 ? 0 : _j,\n      _k = _a.css,\n      css = _k === void 0 ? false : _k,\n      className = _a.className,\n      attributes = __rest(_a, [\"left\", \"top\", \"right\", \"bottom\", \"round\", \"width\", \"height\", \"fill\", \"strokeLinejoin\", \"strokeWidth\", \"css\", \"className\"]);\n\n  var path = makeDOM(\"path\");\n  setViewBox(container, {\n    left: left,\n    top: top,\n    bottom: bottom,\n    right: right,\n    className: className,\n    width: width,\n    height: height,\n    strokeWidth: strokeWidth\n  });\n  setOrigin(path, {\n    left: left,\n    top: top,\n    width: width,\n    height: height,\n    origin: origin\n  });\n  var halfStroke = strokeWidth / 2;\n  var pathWidth = width - round * 2;\n  var pathHeight = height - round * 2; // tslint:disable-next-line:max-line-length\n\n  var d = \"M\" + (left + round + halfStroke) + \",\" + (top + halfStroke) + \" h\" + pathWidth + \" a\" + round + \",\" + round + \" 0 0 1 \" + round + \",\" + round + \" v\" + pathHeight + \" a\" + round + \",\" + round + \" 0 0 1 -\" + round + \",\" + round + \" h-\" + pathWidth + \" a\" + round + \",\" + round + \" 0 0 1 -\" + round + \",-\" + round + \" v-\" + pathHeight + \" a\" + round + \",\" + round + \" 0 0 1 \" + round + \",-\" + round + \" z\";\n  css ? setStyles(path, {\n    d: \"path('\" + d + \"')\"\n  }) : setAttributes(path, {\n    d: d\n  });\n  setAttributes(path, __assign({\n    fill: fill,\n    \"stroke-linejoin\": strokeLinejoin,\n    \"stroke-width\": \"\" + strokeWidth\n  }, attributes));\n  container.appendChild(path);\n  return container;\n}\nvar VERSION = \"0.3.1\";\n\nexport { getRect, getPath, be, star, poly, oval, rect, VERSION };\n//# sourceMappingURL=shapesvg.esm.js.map\n","/*\nCopyright (c) 2017 NAVER Corp.\n@egjs/component project is licensed under the MIT license\n\n@egjs/component JavaScript library\nhttps://naver.github.io/egjs-component\n\n@version 2.1.2\n*/\n/**\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nfunction isUndefined(value) {\n  return typeof value === \"undefined\";\n}\n/**\n * A class used to manage events in a component\n * @ko 컴포넌트의 이벤트을 관리할 수 있게 하는 클래스\n * @alias eg.Component\n */\n\n\nvar Component =\n/*#__PURE__*/\nfunction () {\n  var Component =\n  /*#__PURE__*/\n  function () {\n    /**\n    * Version info string\n    * @ko 버전정보 문자열\n    * @name VERSION\n    * @static\n    * @type {String}\n    * @example\n    * eg.Component.VERSION;  // ex) 2.0.0\n    * @memberof eg.Component\n    */\n\n    /**\n     * @support {\"ie\": \"7+\", \"ch\" : \"latest\", \"ff\" : \"latest\",  \"sf\" : \"latest\", \"edge\" : \"latest\", \"ios\" : \"7+\", \"an\" : \"2.1+ (except 3.x)\"}\n     */\n    function Component() {\n      this._eventHandler = {};\n      this.options = {};\n    }\n    /**\n     * Triggers a custom event.\n     * @ko 커스텀 이벤트를 발생시킨다\n     * @param {String} eventName The name of the custom event to be triggered <ko>발생할 커스텀 이벤트의 이름</ko>\n     * @param {Object} customEvent Event data to be sent when triggering a custom event <ko>커스텀 이벤트가 발생할 때 전달할 데이터</ko>\n     * @return {Boolean} Indicates whether the event has occurred. If the stop() method is called by a custom event handler, it will return false and prevent the event from occurring. <a href=\"https://github.com/naver/egjs-component/wiki/How-to-make-Component-event-design%3F\">Ref</a> <ko>이벤트 발생 여부. 커스텀 이벤트 핸들러에서 stop() 메서드를 호출하면 'false'를 반환하고 이벤트 발생을 중단한다. <a href=\"https://github.com/naver/egjs-component/wiki/How-to-make-Component-event-design%3F\">참고</a></ko>\n     * @example\n    class Some extends eg.Component {\n     some(){\n     \tif(this.trigger(\"beforeHi\")){ // When event call to stop return false.\n    \tthis.trigger(\"hi\");// fire hi event.\n     \t}\n     }\n    }\n    const some = new Some();\n    some.on(\"beforeHi\", (e) => {\n    if(condition){\n    \te.stop(); // When event call to stop, `hi` event not call.\n    }\n    });\n    some.on(\"hi\", (e) => {\n    // `currentTarget` is component instance.\n    console.log(some === e.currentTarget); // true\n    });\n    // If you want to more know event design. You can see article.\n    // https://github.com/naver/egjs-component/wiki/How-to-make-Component-event-design%3F\n     */\n\n\n    var _proto = Component.prototype;\n\n    _proto.trigger = function trigger(eventName, customEvent) {\n      if (customEvent === void 0) {\n        customEvent = {};\n      }\n\n      var handlerList = this._eventHandler[eventName] || [];\n      var hasHandlerList = handlerList.length > 0;\n\n      if (!hasHandlerList) {\n        return true;\n      } // If detach method call in handler in first time then handler list calls.\n\n\n      handlerList = handlerList.concat();\n      customEvent.eventType = eventName;\n      var isCanceled = false;\n      var arg = [customEvent];\n      var i = 0;\n\n      customEvent.stop = function () {\n        isCanceled = true;\n      };\n\n      customEvent.currentTarget = this;\n\n      for (var _len = arguments.length, restParam = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        restParam[_key - 2] = arguments[_key];\n      }\n\n      if (restParam.length >= 1) {\n        arg = arg.concat(restParam);\n      }\n\n      for (i = 0; handlerList[i]; i++) {\n        handlerList[i].apply(this, arg);\n      }\n\n      return !isCanceled;\n    };\n    /**\n     * Executed event just one time.\n     * @ko 이벤트가 한번만 실행된다.\n     * @param {eventName} eventName The name of the event to be attached <ko>등록할 이벤트의 이름</ko>\n     * @param {Function} handlerToAttach The handler function of the event to be attached <ko>등록할 이벤트의 핸들러 함수</ko>\n     * @return {eg.Component} An instance of a component itself<ko>컴포넌트 자신의 인스턴스</ko>\n     * @example\n    class Some extends eg.Component {\n     hi() {\n       alert(\"hi\");\n     }\n     thing() {\n       this.once(\"hi\", this.hi);\n     }\n    }\n    var some = new Some();\n    some.thing();\n    some.trigger(\"hi\");\n    // fire alert(\"hi\");\n    some.trigger(\"hi\");\n    // Nothing happens\n     */\n\n\n    _proto.once = function once(eventName, handlerToAttach) {\n      if (typeof eventName === \"object\" && isUndefined(handlerToAttach)) {\n        var eventHash = eventName;\n        var i;\n\n        for (i in eventHash) {\n          this.once(i, eventHash[i]);\n        }\n\n        return this;\n      } else if (typeof eventName === \"string\" && typeof handlerToAttach === \"function\") {\n        var self = this;\n        this.on(eventName, function listener() {\n          for (var _len2 = arguments.length, arg = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            arg[_key2] = arguments[_key2];\n          }\n\n          handlerToAttach.apply(self, arg);\n          self.off(eventName, listener);\n        });\n      }\n\n      return this;\n    };\n    /**\n     * Checks whether an event has been attached to a component.\n     * @ko 컴포넌트에 이벤트가 등록됐는지 확인한다.\n     * @param {String} eventName The name of the event to be attached <ko>등록 여부를 확인할 이벤트의 이름</ko>\n     * @return {Boolean} Indicates whether the event is attached. <ko>이벤트 등록 여부</ko>\n     * @example\n    class Some extends eg.Component {\n     some() {\n       this.hasOn(\"hi\");// check hi event.\n     }\n    }\n     */\n\n\n    _proto.hasOn = function hasOn(eventName) {\n      return !!this._eventHandler[eventName];\n    };\n    /**\n     * Attaches an event to a component.\n     * @ko 컴포넌트에 이벤트를 등록한다.\n     * @param {eventName} eventName The name of the event to be attached <ko>등록할 이벤트의 이름</ko>\n     * @param {Function} handlerToAttach The handler function of the event to be attached <ko>등록할 이벤트의 핸들러 함수</ko>\n     * @return {eg.Component} An instance of a component itself<ko>컴포넌트 자신의 인스턴스</ko>\n     * @example\n    class Some extends eg.Component {\n     hi() {\n       console.log(\"hi\");\n     }\n     some() {\n       this.on(\"hi\",this.hi); //attach event\n     }\n    }\n    */\n\n\n    _proto.on = function on(eventName, handlerToAttach) {\n      if (typeof eventName === \"object\" && isUndefined(handlerToAttach)) {\n        var eventHash = eventName;\n        var name;\n\n        for (name in eventHash) {\n          this.on(name, eventHash[name]);\n        }\n\n        return this;\n      } else if (typeof eventName === \"string\" && typeof handlerToAttach === \"function\") {\n        var handlerList = this._eventHandler[eventName];\n\n        if (isUndefined(handlerList)) {\n          this._eventHandler[eventName] = [];\n          handlerList = this._eventHandler[eventName];\n        }\n\n        handlerList.push(handlerToAttach);\n      }\n\n      return this;\n    };\n    /**\n     * Detaches an event from the component.\n     * @ko 컴포넌트에 등록된 이벤트를 해제한다\n     * @param {eventName} eventName The name of the event to be detached <ko>해제할 이벤트의 이름</ko>\n     * @param {Function} handlerToDetach The handler function of the event to be detached <ko>해제할 이벤트의 핸들러 함수</ko>\n     * @return {eg.Component} An instance of a component itself <ko>컴포넌트 자신의 인스턴스</ko>\n     * @example\n    class Some extends eg.Component {\n     hi() {\n       console.log(\"hi\");\n     }\n     some() {\n       this.off(\"hi\",this.hi); //detach event\n     }\n    }\n     */\n\n\n    _proto.off = function off(eventName, handlerToDetach) {\n      // All event detach.\n      if (isUndefined(eventName)) {\n        this._eventHandler = {};\n        return this;\n      } // All handler of specific event detach.\n\n\n      if (isUndefined(handlerToDetach)) {\n        if (typeof eventName === \"string\") {\n          this._eventHandler[eventName] = undefined;\n          return this;\n        } else {\n          var eventHash = eventName;\n          var name;\n\n          for (name in eventHash) {\n            this.off(name, eventHash[name]);\n          }\n\n          return this;\n        }\n      } // The handler of specific event detach.\n\n\n      var handlerList = this._eventHandler[eventName];\n\n      if (handlerList) {\n        var k;\n        var handlerFunction;\n\n        for (k = 0; (handlerFunction = handlerList[k]) !== undefined; k++) {\n          if (handlerFunction === handlerToDetach) {\n            handlerList = handlerList.splice(k, 1);\n            break;\n          }\n        }\n      }\n\n      return this;\n    };\n\n    return Component;\n  }();\n\n  Component.VERSION = \"2.1.2\";\n  return Component;\n}();\n\nexport default Component;\n//# sourceMappingURL=component.esm.js.map\n","/*\nCopyright (c) 2018 Daybrush\n@name: @daybrush/utils\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/utils\n@version 0.5.2\n*/\n/**\n* @namespace\n* @name Consts\n*/\n\n/**\n* get string \"rgb\"\n* @memberof Color\n* @example\nimport {RGB} from \"@daybrush/utils\";\n\nconsole.log(RGB); // \"rgb\"\n*/\nvar RGB = \"rgb\";\n/**\n* get string \"rgba\"\n* @memberof Color\n* @example\nimport {RGBA} from \"@daybrush/utils\";\n\nconsole.log(RGBA); // \"rgba\"\n*/\n\nvar RGBA = \"rgba\";\n/**\n* get string \"hsl\"\n* @memberof Color\n* @example\nimport {HSL} from \"@daybrush/utils\";\n\nconsole.log(HSL); // \"hsl\"\n*/\n\nvar HSL = \"hsl\";\n/**\n* get string \"hsla\"\n* @memberof Color\n* @example\nimport {HSLA} from \"@daybrush/utils\";\n\nconsole.log(HSLA); // \"hsla\"\n*/\n\nvar HSLA = \"hsla\";\n/**\n* gets an array of color models.\n* @memberof Color\n* @example\nimport {COLOR_MODELS} from \"@daybrush/utils\";\n\nconsole.log(COLOR_MODELS); // [\"rgb\", \"rgba\", \"hsl\", \"hsla\"];\n*/\n\nvar COLOR_MODELS = [RGB, RGBA, HSL, HSLA];\n/**\n* get string \"function\"\n* @memberof Consts\n* @example\nimport {FUNCTION} from \"@daybrush/utils\";\n\nconsole.log(FUNCTION); // \"function\"\n*/\n\nvar FUNCTION = \"function\";\n/**\n* get string \"property\"\n* @memberof Consts\n* @example\nimport {PROPERTY} from \"@daybrush/utils\";\n\nconsole.log(PROPERTY); // \"property\"\n*/\n\nvar PROPERTY = \"property\";\n/**\n* get string \"array\"\n* @memberof Consts\n* @example\nimport {ARRAY} from \"@daybrush/utils\";\n\nconsole.log(ARRAY); // \"array\"\n*/\n\nvar ARRAY = \"array\";\n/**\n* get string \"object\"\n* @memberof Consts\n* @example\nimport {OBJECT} from \"@daybrush/utils\";\n\nconsole.log(OBJECT); // \"object\"\n*/\n\nvar OBJECT = \"object\";\n/**\n* get string \"string\"\n* @memberof Consts\n* @example\nimport {STRING} from \"@daybrush/utils\";\n\nconsole.log(STRING); // \"string\"\n*/\n\nvar STRING = \"string\";\n/**\n* get string \"number\"\n* @memberof Consts\n* @example\nimport {NUMBER} from \"@daybrush/utils\";\n\nconsole.log(NUMBER); // \"number\"\n*/\n\nvar NUMBER = \"number\";\n/**\n* get string \"undefined\"\n* @memberof Consts\n* @example\nimport {UNDEFINED} from \"@daybrush/utils\";\n\nconsole.log(UNDEFINED); // \"undefined\"\n*/\n\nvar UNDEFINED = \"undefined\";\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\n\nvar IS_WINDOW = typeof window !== UNDEFINED;\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @name document\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\n\nvar doc = typeof document !== UNDEFINED && document;\nvar prefixes = [\"webkit\", \"ms\", \"moz\", \"o\"];\n/**\n * @namespace CrossBrowser\n */\n\n/**\n* Get a CSS property with a vendor prefix that supports cross browser.\n* @function\n* @param {string} property - A CSS property\n* @return {string} CSS property with cross-browser vendor prefix\n* @memberof CrossBrowser\n* @example\nimport {getCrossBrowserProperty} from \"@daybrush/utils\";\n\nconsole.log(getCrossBrowserProperty(\"transform\")); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\nconsole.log(getCrossBrowserProperty(\"filter\")); // \"filter\", \"-webkit-filter\"\n*/\n\nvar getCrossBrowserProperty =\n/*#__PURE__*/\nfunction (property) {\n  if (!doc) {\n    return \"\";\n  }\n\n  var styles = (doc.body || doc.documentElement).style;\n  var length = prefixes.length;\n\n  if (typeof styles[property] !== UNDEFINED) {\n    return property;\n  }\n\n  for (var i = 0; i < length; ++i) {\n    var name = \"-\" + prefixes[i] + \"-\" + property;\n\n    if (typeof styles[name] !== UNDEFINED) {\n      return name;\n    }\n  }\n\n  return \"\";\n};\n/**\n* get string \"transfrom\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {TRANSFORM} from \"@daybrush/utils\";\n\nconsole.log(TRANSFORM); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\n*/\n\nvar TRANSFORM =\n/*#__PURE__*/\ngetCrossBrowserProperty(\"transform\");\n/**\n* get string \"filter\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {FILTER} from \"@daybrush/utils\";\n\nconsole.log(FILTER); // \"filter\", \"-ms-filter\", \"-webkit-filter\"\n*/\n\nvar FILTER =\n/*#__PURE__*/\ngetCrossBrowserProperty(\"filter\");\n/**\n* get string \"animation\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {ANIMATION} from \"@daybrush/utils\";\n\nconsole.log(ANIMATION); // \"animation\", \"-ms-animation\", \"-webkit-animation\"\n*/\n\nvar ANIMATION =\n/*#__PURE__*/\ngetCrossBrowserProperty(\"animation\");\n/**\n* get string \"keyframes\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {KEYFRAMES} from \"@daybrush/utils\";\n\nconsole.log(KEYFRAMES); // \"keyframes\", \"-ms-keyframes\", \"-webkit-keyframes\"\n*/\n\nvar KEYFRAMES =\n/*#__PURE__*/\nANIMATION.replace(\"animation\", \"keyframes\");\n\n/**\n* @namespace\n* @name Utils\n*/\n\n/**\n* Check the type that the value is undefined.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {boolean} true if the type is correct, false otherwise\n* @example\nimport {isUndefined} from \"@daybrush/utils\";\n\nconsole.log(isUndefined(undefined)); // true\nconsole.log(isUndefined(\"\")); // false\nconsole.log(isUndefined(1)); // false\nconsole.log(isUndefined(null)); // false\n*/\n\nfunction isUndefined(value) {\n  return typeof value === UNDEFINED;\n}\n/**\n* Check the type that the value is object.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isObject} from \"@daybrush/utils\";\n\nconsole.log(isObject({})); // true\nconsole.log(isObject(undefined)); // false\nconsole.log(isObject(\"\")); // false\nconsole.log(isObject(null)); // false\n*/\n\nfunction isObject(value) {\n  return value && typeof value === OBJECT;\n}\n/**\n* Check the type that the value is isArray.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isArray} from \"@daybrush/utils\";\n\nconsole.log(isArray([])); // true\nconsole.log(isArray({})); // false\nconsole.log(isArray(undefined)); // false\nconsole.log(isArray(null)); // false\n*/\n\nfunction isArray(value) {\n  return Array.isArray(value);\n}\n/**\n* Check the type that the value is string.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isString} from \"@daybrush/utils\";\n\nconsole.log(isString(\"1234\")); // true\nconsole.log(isString(undefined)); // false\nconsole.log(isString(1)); // false\nconsole.log(isString(null)); // false\n*/\n\nfunction isString(value) {\n  return typeof value === STRING;\n}\n/**\n* Check the type that the value is function.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isFunction} from \"@daybrush/utils\";\n\nconsole.log(isFunction(function a() {})); // true\nconsole.log(isFunction(() => {})); // true\nconsole.log(isFunction(\"1234\")); // false\nconsole.log(isFunction(1)); // false\nconsole.log(isFunction(null)); // false\n*/\n\nfunction isFunction(value) {\n  return typeof value === FUNCTION;\n}\n/**\n* divide text by space.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {spliceSpace} from \"@daybrush/utils\";\n\nconsole.log(splitSpace(\"a b c d e f g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitSpace(\"'a,b' c 'd,e' f g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\n\nfunction splitSpace(text) {\n  // divide comma(,)\n  var matches = text.match(/(\"[^\"]*\")|('[^']*')|([^\\s()]*(?:\\((?:[^()]*|\\([^()]*\\))*\\))[^\\s()]*)|\\S+/g);\n  return matches || [];\n}\n/**\n* divide text by comma.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {splitComma} from \"@daybrush/utils\";\n\nconsole.log(splitComma(\"a,b,c,d,e,f,g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitComma(\"'a,b',c,'d,e',f,g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\n\nfunction splitComma(text) {\n  // divide comma(,)\n  // \"[^\"]*\"|'[^']*'\n  var matches = text.match(/(\"[^\"]*\"|'[^']*'|[^,\\s()]*\\((?:[^()]*|\\([^()]*\\))*\\)[^,\\s()]*|[^,])+/g);\n  return matches ? matches.map(function (str) {\n    return str.trim();\n  }) : [];\n}\n/**\n* divide text by bracket \"(\", \")\".\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {object} divided texts\n* @example\nimport {splitBracket} from \"@daybrush/utils\";\n\nconsole.log(splitBracket(\"a(1, 2)\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"\"}\nconsole.log(splitBracket(\"a(1, 2)b\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"b\"}\n*/\n\nfunction splitBracket(text) {\n  var matches = /([^(]*)\\(([\\s\\S]*)\\)([\\s\\S]*)/g.exec(text);\n\n  if (!matches || matches.length < 4) {\n    return {};\n  } else {\n    return {\n      prefix: matches[1],\n      value: matches[2],\n      suffix: matches[3]\n    };\n  }\n}\n/**\n* divide text by number and unit.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {} divided texts\n* @example\nimport {splitUnit} from \"@daybrush/utils\";\n\nconsole.log(splitUnit(\"10px\"));\n// {prefix: \"\", value: 10, unit: \"px\"}\nconsole.log(splitUnit(\"-10px\"));\n// {prefix: \"\", value: -10, unit: \"px\"}\nconsole.log(splitUnit(\"a10%\"));\n// {prefix: \"a\", value: 10, unit: \"%\"}\n*/\n\nfunction splitUnit(text) {\n  var matches = /^([^\\d|e|\\-|\\+]*)((?:\\d|\\.|-|e-|e\\+)+)(\\S*)$/g.exec(text);\n\n  if (!matches) {\n    return {\n      prefix: \"\",\n      unit: \"\",\n      value: NaN\n    };\n  }\n\n  var prefix = matches[1];\n  var value = matches[2];\n  var unit = matches[3];\n  return {\n    prefix: prefix,\n    unit: unit,\n    value: parseFloat(value)\n  };\n}\n/**\n* transform strings to camel-case\n* @memberof Utils\n* @param {String} text - string\n* @return {String} camel-case string\n* @example\nimport {camelize} from \"@daybrush/utils\";\n\nconsole.log(camelize(\"transform-origin\")); // transformOrigin\nconsole.log(camelize(\"abcd_efg\")); // abcdEfg\nconsole.log(camelize(\"abcd efg\")); // abcdEfg\n*/\n\nfunction camelize(str) {\n  return str.replace(/[\\s-_]([a-z])/g, function (all, letter) {\n    return letter.toUpperCase();\n  });\n}\n/**\n* transform a camelized string into a lowercased string.\n* @memberof Utils\n* @param {string} text - a camel-cased string\n* @param {string} [separator=\"-\"] - a separator\n* @return {string}  a lowercased string\n* @example\nimport {decamelize} from \"@daybrush/utils\";\n\nconsole.log(decamelize(\"transformOrigin\")); // transform-origin\nconsole.log(decamelize(\"abcdEfg\", \"_\")); // abcd_efg\n*/\n\nfunction decamelize(str, separator) {\n  if (separator === void 0) {\n    separator = \"-\";\n  }\n\n  return str.replace(/([a-z])([A-Z])/g, function (all, letter, letter2) {\n    return \"\" + letter + separator + letter2.toLowerCase();\n  });\n}\n/**\n* Date.now() method\n* @memberof CrossBrowser\n* @return {number} milliseconds\n* @example\nimport {now} from \"@daybrush/utils\";\n\nconsole.log(now()); // 12121324241(milliseconds)\n*/\n\nfunction now() {\n  return Date.now ? Date.now() : new Date().getTime();\n}\n/**\n* window.requestAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {FrameRequestCallback} callback - The function to call when it's time to update your animation for the next repaint.\n* @return {number} id\n* @example\nimport {requestAnimationFrame} from \"@daybrush/utils\";\n\nrequestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n*/\n\nvar requestAnimationFrame =\n/*#__PURE__*/\nfunction () {\n  var firstTime = now();\n  var raf = IS_WINDOW && (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame);\n  return raf ? raf.bind(window) : function (callback) {\n    var currTime = now();\n    var id = window.setTimeout(function () {\n      callback(currTime - firstTime);\n    }, 1000 / 60);\n    return id;\n  };\n}();\n\n/**\n* @namespace\n* @name Color\n*/\n\n/**\n* Remove the # from the hex color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} hex color\n* @example\nimport {cutHex} from \"@daybrush/utils\";\n\nconsole.log(cutHex(\"#000000\")) // \"000000\"\n*/\n\nfunction cutHex(hex) {\n  return hex.replace(\"#\", \"\");\n}\n/**\n* convert hex color to rgb color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} rgb color\n* @example\nimport {hexToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hexToRGBA(\"#00000005\"));\n// [0, 0, 0, 1]\nconsole.log(hexToRGBA(\"#201045\"));\n// [32, 16, 69, 1]\n*/\n\nfunction hexToRGBA(hex) {\n  var h = cutHex(hex);\n  var r = parseInt(h.substring(0, 2), 16);\n  var g = parseInt(h.substring(2, 4), 16);\n  var b = parseInt(h.substring(4, 6), 16);\n  var a = parseInt(h.substring(6, 8), 16) / 255;\n\n  if (isNaN(a)) {\n    a = 1;\n  }\n\n  return [r, g, b, a];\n}\n/**\n* convert 3(or 4)-digit hex color to 6(or 8)-digit hex color.\n* @memberof Color\n* @param {} hex - 3(or 4)-digit hex color\n* @return {} 6(or 8)-digit hex color\n* @example\nimport {toFullHex} from \"@daybrush/utils\";\n\nconsole.log(toFullHex(\"#123\")); // \"#112233\"\nconsole.log(toFullHex(\"#123a\")); // \"#112233aa\"\n*/\n\nfunction toFullHex(h) {\n  var r = h.charAt(1);\n  var g = h.charAt(2);\n  var b = h.charAt(3);\n  var a = h.charAt(4);\n  var arr = [\"#\", r, r, g, g, b, b, a, a];\n  return arr.join(\"\");\n}\n/**\n* convert hsl color to rgba color.\n* @memberof Color\n* @param {} hsl - hsl color(hue: 0 ~ 360, saturation: 0 ~ 1, lightness: 0 ~ 1, alpha: 0 ~ 1)\n* @return {} rgba color\n* @example\nimport {hslToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hslToRGBA([150, 0.5, 0.4]));\n// [51, 153, 102, 1]\n*/\n\nfunction hslToRGBA(hsl) {\n  var h = hsl[0];\n  var s = hsl[1];\n  var l = hsl[2];\n\n  if (h < 0) {\n    h += Math.floor((Math.abs(h) + 360) / 360) * 360;\n  }\n\n  h %= 360;\n  var c = (1 - Math.abs(2 * l - 1)) * s;\n  var x = c * (1 - Math.abs(h / 60 % 2 - 1));\n  var m = l - c / 2;\n  var rgb;\n\n  if (h < 60) {\n    rgb = [c, x, 0];\n  } else if (h < 120) {\n    rgb = [x, c, 0];\n  } else if (h < 180) {\n    rgb = [0, c, x];\n  } else if (h < 240) {\n    rgb = [0, x, c];\n  } else if (h < 300) {\n    rgb = [x, 0, c];\n  } else if (h < 360) {\n    rgb = [c, 0, x];\n  }\n\n  var result = [Math.round((rgb[0] + m) * 255), Math.round((rgb[1] + m) * 255), Math.round((rgb[2] + m) * 255), hsl.length > 3 ? hsl[3] : 1];\n  return result;\n}\n/**\n* convert string to rgba color.\n* @memberof Color\n* @param {} - 3-hex(#000), 4-hex(#0000) 6-hex(#000000), 8-hex(#00000000) or RGB(A), or HSL(A)\n* @return {} rgba color\n* @example\nimport {stringToRGBA} from \"@daybrush/utils\";\n\nconsole.log(stringToRGBA(\"#000000\")); // [0, 0, 0, 1]\nconsole.log(stringToRGBA(\"rgb(100, 100, 100)\")); // [100, 100, 100, 1]\nconsole.log(stringToRGBA(\"hsl(150, 0.5, 0.4)\")); // [51, 153, 102, 1]\n*/\n\nfunction stringToRGBA(color) {\n  if (color.charAt(0) === \"#\") {\n    if (color.length === 4 || color.length === 5) {\n      return hexToRGBA(toFullHex(color));\n    } else {\n      return hexToRGBA(color);\n    }\n  } else if (color.indexOf(\"(\") !== -1) {\n    // in bracket.\n    var _a = splitBracket(color),\n        prefix = _a.prefix,\n        value = _a.value;\n\n    if (!prefix || !value) {\n      return;\n    }\n\n    var arr = splitComma(value);\n    var colorArr = [];\n    var length = arr.length;\n\n    switch (prefix) {\n      case RGB:\n      case RGBA:\n        for (var i = 0; i < length; ++i) {\n          colorArr[i] = parseFloat(arr[i]);\n        }\n\n        return colorArr;\n\n      case HSL:\n      case HSLA:\n        for (var i = 0; i < length; ++i) {\n          if (arr[i].indexOf(\"%\") !== -1) {\n            colorArr[i] = parseFloat(arr[i]) / 100;\n          } else {\n            colorArr[i] = parseFloat(arr[i]);\n          }\n        } // hsl, hsla to rgba\n\n\n        return hslToRGBA(colorArr);\n    }\n  }\n\n  return;\n}\n\n/**\n * Returns all element descendants of node that\n * match selectors.\n */\n\n/**\n * Checks if the specified class value exists in the element's class attribute.\n * @memberof DOM\n * @param - A DOMString containing one or more selectors to match\n * @param - If multi is true, a DOMString containing one or more selectors to match against.\n * @example\nimport {$} from \"@daybrush/utils\";\n\nconsole.log($(\"div\")); // div element\nconsole.log($(\"div\", true)); // [div, div] elements\n*/\n\nfunction $(selectors, multi) {\n  return multi ? doc.querySelectorAll(selectors) : doc.querySelector(selectors);\n}\n/**\n* Checks if the specified class value exists in the element's class attribute.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to search\n* @return {boolean} return false if the class is not found.\n* @example\nimport {hasClass} from \"@daybrush/utils\";\n\nconsole.log(hasClass(element, \"start\")); // true or false\n*/\n\nfunction hasClass(element, className) {\n  if (element.classList) {\n    return element.classList.contains(className);\n  }\n\n  return !!element.className.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"));\n}\n/**\n* Add the specified class value. If these classe already exist in the element's class attribute they are ignored.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to add\n* @example\nimport {addClass} from \"@daybrush/utils\";\n\naddClass(element, \"start\");\n*/\n\nfunction addClass(element, className) {\n  if (element.classList) {\n    element.classList.add(className);\n  } else {\n    element.className += \" \" + className;\n  }\n}\n/**\n* Removes the specified class value.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to remove\n* @example\nimport {removeClass} from \"@daybrush/utils\";\n\nremoveClass(element, \"start\");\n*/\n\nfunction removeClass(element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else {\n    var reg = new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\");\n    element.className = element.className.replace(reg, \" \");\n  }\n}\n/**\n* Gets the CSS properties from the element.\n* @memberof DOM\n* @param elements - elements\n* @param properites - the CSS properties\n* @return returns CSS properties and values.\n* @example\nimport {fromCSS} from \"@daybrush/utils\";\n\nconsole.log(fromCSS(element, [\"left\", \"opacity\", \"top\"])); // {\"left\": \"10px\", \"opacity\": 1, \"top\": \"10px\"}\n*/\n\nfunction fromCSS(elements, properties) {\n  if (!elements || !properties || !properties.length) {\n    return {};\n  }\n\n  var element;\n\n  if (elements instanceof Element) {\n    element = elements;\n  } else if (elements.length) {\n    element = elements[0];\n  } else {\n    return {};\n  }\n\n  var cssObject = {};\n  var styles = window.getComputedStyle(element);\n  var length = properties.length;\n\n  for (var i = 0; i < length; ++i) {\n    cssObject[properties[i]] = styles[properties[i]];\n  }\n\n  return cssObject;\n}\n\nexport { RGB, RGBA, HSL, HSLA, COLOR_MODELS, FUNCTION, PROPERTY, ARRAY, OBJECT, STRING, NUMBER, UNDEFINED, IS_WINDOW, doc as document, getCrossBrowserProperty, TRANSFORM, FILTER, ANIMATION, KEYFRAMES, cutHex, hexToRGBA, toFullHex, hslToRGBA, stringToRGBA, isUndefined, isObject, isArray, isString, isFunction, splitSpace, splitComma, splitBracket, splitUnit, camelize, decamelize, now, requestAnimationFrame, $, hasClass, addClass, removeClass, fromCSS };\n//# sourceMappingURL=utils.esm.js.map\n","/*\nCopyright (c) 2018 Daybrush\nname: @daybrush/page\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/page.git\nversion: 0.2.0\n*/\nimport Component from '@egjs/component';\nimport { isObject, $, isArray, splitSpace, splitBracket, splitUnit } from '@daybrush/utils';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar width = 0;\nvar height = 0;\n\nfunction resize() {\n  width = window.innerWidth;\n  height = window.innerHeight;\n}\n\nwindow.addEventListener(\"resize\", resize);\nresize();\n\nvar WindowSize = ({\n    get width () { return width; },\n    get height () { return height; }\n});\n\n/**\n * You can check the page in and out of the screen.\n * @extends eg.Component\n * @sort 1\n * @example\nconst page = new Page(\".page1\", {\n  range: [\"0%\", \"100%\"],\n  margin: [0, 0],\n  // Registers events automatically.\n  events: [\"resize\", \"scroll\"]\n});\n */\n\nvar Page =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(Page, _super);\n  /**\n   */\n\n\n  function Page(el, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _this = _super.call(this) || this;\n\n    _this.ranges = {};\n    _this._range = [0, \"100%\"];\n    _this.horizontal = false;\n    _this.margin = [0, 0];\n    _this.pages = [];\n    _this.state = {\n      enter: false,\n      firstEnter: false,\n      firstExit: false\n    };\n    /**\n     * @method\n     */\n\n    _this.scroll = function () {\n      _this.triggerEvent(\"scroll\");\n\n      _this.onCheck();\n    };\n    /**\n     * @method\n     */\n\n\n    _this.resize = function () {\n      _this.triggerEvent(\"resize\");\n\n      _this.onCheck();\n    };\n\n    _this.el = el ? isObject(el) ? el : $(el) : null;\n\n    if (\"range\" in options) {\n      var range = options.range;\n      var rangeArr = isArray(range) ? range : [range, range];\n      _this._range = rangeArr;\n    }\n\n    if (\"margin\" in options) {\n      var margin = options.margin;\n\n      if (isArray(margin)) {\n        _this.margin = margin;\n      } else {\n        _this.margin = [margin, margin];\n      }\n    }\n\n    if (\"events\" in options) {\n      options.events.forEach(function (name) {\n        if (name === \"resize\") {\n          window.addEventListener(\"resize\", _this.resize);\n        } else if (name === \"scroll\") {\n          window.addEventListener(\"scroll\", _this.scroll);\n        } else {\n          _this.el && _this.el.addEventListener(name, _this.scroll);\n        }\n      });\n    }\n\n    if (\"horizontal\" in options) {\n      _this.horizontal = options.horizontal;\n    }\n\n    return _this;\n  }\n  /**\n   */\n\n\n  var __proto = Page.prototype;\n\n  __proto.add = function (page) {\n    this.pages.push(page);\n    return this;\n  };\n  /**\n   */\n\n\n  __proto.range = function (range, horizontal) {\n    if (range === void 0) {\n      range = [0, \"100%\"];\n    }\n\n    var rangeArr = isArray(range) ? range : [range, range];\n    var id = \"[\" + rangeArr.join(\",\") + \"]\";\n\n    if (this.ranges[id]) {\n      return this.ranges[id];\n    }\n\n    var page = new Page(this.el, {\n      range: rangeArr,\n      horizontal: horizontal\n    });\n    this.ranges[id] = page;\n    this.add(page);\n    return page;\n  };\n\n  __proto.triggerEvent = function (name) {\n    this.trigger(name, {\n      target: this.el\n    });\n  };\n\n  __proto.onEnter = function (rect) {\n    var _this = this;\n\n    var state = this.state;\n\n    if (!state.enter) {\n      state.enter = true;\n\n      if (!state.firstEnter) {\n        state.firstEnter = true;\n        /**\n         * An event that occurs when you first enter a page.\n         * @param {Page.EventParameter} event - Event object\n         * @event Page#firstEnter\n         */\n\n        this.triggerEvent(\"firstEnter\");\n      }\n      /**\n       * An event that occurs when you enter a page.\n       * @param {Page.EventParameter} event - Event object\n       * @event Page#enter\n       */\n\n\n      this.triggerEvent(\"enter\");\n    }\n\n    this.pages.forEach(function (page) {\n      page.onCheck(page.el === _this.el ? rect : undefined);\n    });\n  };\n\n  __proto.onExit = function () {\n    var state = this.state;\n\n    if (state.enter) {\n      state.enter = false;\n\n      if (!state.firstExit) {\n        state.firstExit = true;\n        /**\n         * An event that occurs when you first exit a page.\n         * @param {Page.EventParameter} event - Event object\n         * @event Page#firstExit\n         */\n\n        this.triggerEvent(\"firstExit\");\n      }\n      /**\n       * An event that occurs when you exit a page.\n       * @param {Page.EventParameter} event - Event object\n       * @event Page#exit\n       */\n\n\n      this.triggerEvent(\"exit\");\n    }\n\n    this.pages.forEach(function (page) {\n      page.onExit();\n    });\n  };\n\n  __proto.calcSize = function (size, rect) {\n    if (typeof size === \"number\") {\n      return size;\n    }\n\n    var sizeInfos = splitSpace(size);\n\n    if (!sizeInfos) {\n      return 0;\n    }\n\n    var length = sizeInfos.length;\n    var stack = [];\n    var sign = 1;\n\n    for (var i = 0; i < length; ++i) {\n      var v = sizeInfos[i];\n\n      if (v === \"+\") {\n        sign = 1;\n      } else if (v === \"-\") {\n        sign = -1;\n      } else if (v === \"*\") {\n        stack.push((stack.pop() || 0) * this._calcSize(sizeInfos[i + 1], rect));\n        ++i;\n      } else if (v === \"/\") {\n        stack.push((stack.pop() || 0) / this._calcSize(sizeInfos[i + 1], rect));\n        ++i;\n      } else {\n        stack.push(sign * this._calcSize(v, rect));\n        sign = 1;\n      }\n    }\n\n    return stack.reduce(function (prev, cur) {\n      return prev + cur;\n    }, 0);\n  };\n  /**\n   */\n\n\n  __proto.getRect = function (isAbsolute) {\n    var rect = this.el ? this.el.getBoundingClientRect() : undefined;\n\n    if (!rect) {\n      return;\n    }\n\n    var width$$1 = rect.width;\n    var height$$1 = rect.height;\n    var left = rect.left + (isAbsolute ? document.body.scrollLeft || document.documentElement.scrollLeft : 0);\n    var top = rect.top + (isAbsolute ? document.body.scrollTop || document.documentElement.scrollTop : 0);\n    return {\n      top: top,\n      left: left,\n      width: width$$1,\n      height: height$$1\n    };\n  };\n\n  __proto.onCheck = function (rect) {\n    if (rect === void 0) {\n      rect = this.getRect();\n    }\n\n    if (rect) {\n      var horizontal = this.horizontal;\n      var pos = rect[horizontal ? \"left\" : \"top\"];\n      var containerSize = WindowSize[horizontal ? \"width\" : \"height\"];\n      var rangeStart = this.calcSize(this._range[0], rect);\n      var rangeEnd = this.calcSize(this._range[1], rect);\n      var marginStart = this.calcSize(this.margin[0], rect);\n      var marginEnd = this.calcSize(this.margin[1], rect);\n\n      if (pos + rangeEnd + marginEnd <= 0 || pos + rangeStart - marginStart >= containerSize) {\n        this.onExit();\n      } else {\n        this.onEnter(rect);\n      }\n    } else {\n      this.pages.forEach(function (page) {\n        page.onCheck();\n      });\n    }\n  };\n\n  __proto._calcSize = function (size, rect) {\n    if (!size) {\n      return 0;\n    }\n\n    if (typeof size === \"number\") {\n      return size;\n    }\n\n    var horizontal = this.horizontal;\n    var sizeName = horizontal ? \"width\" : \"height\";\n\n    if (size === \"window\") {\n      return WindowSize[sizeName];\n    }\n\n    if (size.indexOf(\"(\") > -1) {\n      return this.calcSize(splitBracket(size).value, rect);\n    }\n\n    var info = splitUnit(size);\n\n    if (info.unit === \"%\") {\n      return rect[sizeName] * info.value / 100;\n    } else {\n      return info.value;\n    }\n  };\n\n  return Page;\n}(Component);\n\n/**\n * @sort 2\n * @example\nimport Page from \"@daybrush/page\";\n\nconst pages = new Page.s({\n  events: [\"scroll\", \"resize\"];\n});\n\npages.add(new Page(\".page1\"));\n\npages.scroll();\n */\n\nvar Pages =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(Pages, _super);\n  /**\n   */\n\n\n  function Pages(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    return _super.call(this, undefined, options) || this;\n  }\n\n  return Pages;\n}(Page);\n\nPage.s = Pages;\n\nexport default Page;\nexport { Pages };\n//# sourceMappingURL=page.esm.js.map\n","import Page from \"@daybrush/page\";\n\nexport const manager = new Page.s({\n  events: [\"resize\", \"scroll\"],\n});\nexport const pages: Page[] = [];\nexport function add(page: Page) {\n  pages.push(page);\n  manager.add(page);\n}\nexport function scroll() {\n  manager.scroll();\n}\n","/*\nCopyright (c) 2018 Daybrush\n@name: @daybrush/utils\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/utils\n@version 0.7.0-rc\n*/\n/**\n* @namespace\n* @name Consts\n*/\n\n/**\n* get string \"rgb\"\n* @memberof Color\n* @example\nimport {RGB} from \"@daybrush/utils\";\n\nconsole.log(RGB); // \"rgb\"\n*/\nvar RGB = \"rgb\";\n/**\n* get string \"rgba\"\n* @memberof Color\n* @example\nimport {RGBA} from \"@daybrush/utils\";\n\nconsole.log(RGBA); // \"rgba\"\n*/\n\nvar RGBA = \"rgba\";\n/**\n* get string \"hsl\"\n* @memberof Color\n* @example\nimport {HSL} from \"@daybrush/utils\";\n\nconsole.log(HSL); // \"hsl\"\n*/\n\nvar HSL = \"hsl\";\n/**\n* get string \"hsla\"\n* @memberof Color\n* @example\nimport {HSLA} from \"@daybrush/utils\";\n\nconsole.log(HSLA); // \"hsla\"\n*/\n\nvar HSLA = \"hsla\";\n/**\n* gets an array of color models.\n* @memberof Color\n* @example\nimport {COLOR_MODELS} from \"@daybrush/utils\";\n\nconsole.log(COLOR_MODELS); // [\"rgb\", \"rgba\", \"hsl\", \"hsla\"];\n*/\n\nvar COLOR_MODELS = [RGB, RGBA, HSL, HSLA];\n/**\n* get string \"function\"\n* @memberof Consts\n* @example\nimport {FUNCTION} from \"@daybrush/utils\";\n\nconsole.log(FUNCTION); // \"function\"\n*/\n\nvar FUNCTION = \"function\";\n/**\n* get string \"property\"\n* @memberof Consts\n* @example\nimport {PROPERTY} from \"@daybrush/utils\";\n\nconsole.log(PROPERTY); // \"property\"\n*/\n\nvar PROPERTY = \"property\";\n/**\n* get string \"array\"\n* @memberof Consts\n* @example\nimport {ARRAY} from \"@daybrush/utils\";\n\nconsole.log(ARRAY); // \"array\"\n*/\n\nvar ARRAY = \"array\";\n/**\n* get string \"object\"\n* @memberof Consts\n* @example\nimport {OBJECT} from \"@daybrush/utils\";\n\nconsole.log(OBJECT); // \"object\"\n*/\n\nvar OBJECT = \"object\";\n/**\n* get string \"string\"\n* @memberof Consts\n* @example\nimport {STRING} from \"@daybrush/utils\";\n\nconsole.log(STRING); // \"string\"\n*/\n\nvar STRING = \"string\";\n/**\n* get string \"number\"\n* @memberof Consts\n* @example\nimport {NUMBER} from \"@daybrush/utils\";\n\nconsole.log(NUMBER); // \"number\"\n*/\n\nvar NUMBER = \"number\";\n/**\n* get string \"undefined\"\n* @memberof Consts\n* @example\nimport {UNDEFINED} from \"@daybrush/utils\";\n\nconsole.log(UNDEFINED); // \"undefined\"\n*/\n\nvar UNDEFINED = \"undefined\";\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\n\nvar IS_WINDOW = typeof window !== UNDEFINED;\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @name document\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\n\nvar doc = typeof document !== UNDEFINED && document;\nvar prefixes = [\"webkit\", \"ms\", \"moz\", \"o\"];\n/**\n * @namespace CrossBrowser\n */\n\n/**\n* Get a CSS property with a vendor prefix that supports cross browser.\n* @function\n* @param {string} property - A CSS property\n* @return {string} CSS property with cross-browser vendor prefix\n* @memberof CrossBrowser\n* @example\nimport {getCrossBrowserProperty} from \"@daybrush/utils\";\n\nconsole.log(getCrossBrowserProperty(\"transform\")); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\nconsole.log(getCrossBrowserProperty(\"filter\")); // \"filter\", \"-webkit-filter\"\n*/\n\nvar getCrossBrowserProperty =\n/*#__PURE__*/\nfunction (property) {\n  if (!doc) {\n    return \"\";\n  }\n\n  var styles = (doc.body || doc.documentElement).style;\n  var length = prefixes.length;\n\n  if (typeof styles[property] !== UNDEFINED) {\n    return property;\n  }\n\n  for (var i = 0; i < length; ++i) {\n    var name = \"-\" + prefixes[i] + \"-\" + property;\n\n    if (typeof styles[name] !== UNDEFINED) {\n      return name;\n    }\n  }\n\n  return \"\";\n};\n/**\n* get string \"transfrom\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {TRANSFORM} from \"@daybrush/utils\";\n\nconsole.log(TRANSFORM); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\n*/\n\nvar TRANSFORM =\n/*#__PURE__*/\ngetCrossBrowserProperty(\"transform\");\n/**\n* get string \"filter\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {FILTER} from \"@daybrush/utils\";\n\nconsole.log(FILTER); // \"filter\", \"-ms-filter\", \"-webkit-filter\"\n*/\n\nvar FILTER =\n/*#__PURE__*/\ngetCrossBrowserProperty(\"filter\");\n/**\n* get string \"animation\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {ANIMATION} from \"@daybrush/utils\";\n\nconsole.log(ANIMATION); // \"animation\", \"-ms-animation\", \"-webkit-animation\"\n*/\n\nvar ANIMATION =\n/*#__PURE__*/\ngetCrossBrowserProperty(\"animation\");\n/**\n* get string \"keyframes\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {KEYFRAMES} from \"@daybrush/utils\";\n\nconsole.log(KEYFRAMES); // \"keyframes\", \"-ms-keyframes\", \"-webkit-keyframes\"\n*/\n\nvar KEYFRAMES =\n/*#__PURE__*/\nANIMATION.replace(\"animation\", \"keyframes\");\n\n/**\n* @namespace\n* @name Utils\n*/\n\n/**\n* Check the type that the value is undefined.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {boolean} true if the type is correct, false otherwise\n* @example\nimport {isUndefined} from \"@daybrush/utils\";\n\nconsole.log(isUndefined(undefined)); // true\nconsole.log(isUndefined(\"\")); // false\nconsole.log(isUndefined(1)); // false\nconsole.log(isUndefined(null)); // false\n*/\n\nfunction isUndefined(value) {\n  return typeof value === UNDEFINED;\n}\n/**\n* Check the type that the value is object.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isObject} from \"@daybrush/utils\";\n\nconsole.log(isObject({})); // true\nconsole.log(isObject(undefined)); // false\nconsole.log(isObject(\"\")); // false\nconsole.log(isObject(null)); // false\n*/\n\nfunction isObject(value) {\n  return value && typeof value === OBJECT;\n}\n/**\n* Check the type that the value is isArray.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isArray} from \"@daybrush/utils\";\n\nconsole.log(isArray([])); // true\nconsole.log(isArray({})); // false\nconsole.log(isArray(undefined)); // false\nconsole.log(isArray(null)); // false\n*/\n\nfunction isArray(value) {\n  return Array.isArray(value);\n}\n/**\n* Check the type that the value is string.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isString} from \"@daybrush/utils\";\n\nconsole.log(isString(\"1234\")); // true\nconsole.log(isString(undefined)); // false\nconsole.log(isString(1)); // false\nconsole.log(isString(null)); // false\n*/\n\nfunction isString(value) {\n  return typeof value === STRING;\n}\n/**\n* Check the type that the value is function.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isFunction} from \"@daybrush/utils\";\n\nconsole.log(isFunction(function a() {})); // true\nconsole.log(isFunction(() => {})); // true\nconsole.log(isFunction(\"1234\")); // false\nconsole.log(isFunction(1)); // false\nconsole.log(isFunction(null)); // false\n*/\n\nfunction isFunction(value) {\n  return typeof value === FUNCTION;\n}\n/**\n* divide text by space.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {spliceSpace} from \"@daybrush/utils\";\n\nconsole.log(splitSpace(\"a b c d e f g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitSpace(\"'a,b' c 'd,e' f g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\n\nfunction splitSpace(text) {\n  // divide comma(,)\n  var matches = text.match(/(\"[^\"]*\")|('[^']*')|([^\\s()]*(?:\\((?:[^()]*|\\([^()]*\\))*\\))[^\\s()]*)|\\S+/g);\n  return matches || [];\n}\n/**\n* divide text by comma.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {splitComma} from \"@daybrush/utils\";\n\nconsole.log(splitComma(\"a,b,c,d,e,f,g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitComma(\"'a,b',c,'d,e',f,g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\n\nfunction splitComma(text) {\n  // divide comma(,)\n  // \"[^\"]*\"|'[^']*'\n  var matches = text.match(/(\"[^\"]*\"|'[^']*'|[^,\\s()]*\\((?:[^()]*|\\([^()]*\\))*\\)[^,\\s()]*|[^,])+/g);\n  return matches ? matches.map(function (str) {\n    return str.trim();\n  }) : [];\n}\n/**\n* divide text by bracket \"(\", \")\".\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {object} divided texts\n* @example\nimport {splitBracket} from \"@daybrush/utils\";\n\nconsole.log(splitBracket(\"a(1, 2)\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"\"}\nconsole.log(splitBracket(\"a(1, 2)b\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"b\"}\n*/\n\nfunction splitBracket(text) {\n  var matches = /([^(]*)\\(([\\s\\S]*)\\)([\\s\\S]*)/g.exec(text);\n\n  if (!matches || matches.length < 4) {\n    return {};\n  } else {\n    return {\n      prefix: matches[1],\n      value: matches[2],\n      suffix: matches[3]\n    };\n  }\n}\n/**\n* divide text by number and unit.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {} divided texts\n* @example\nimport {splitUnit} from \"@daybrush/utils\";\n\nconsole.log(splitUnit(\"10px\"));\n// {prefix: \"\", value: 10, unit: \"px\"}\nconsole.log(splitUnit(\"-10px\"));\n// {prefix: \"\", value: -10, unit: \"px\"}\nconsole.log(splitUnit(\"a10%\"));\n// {prefix: \"a\", value: 10, unit: \"%\"}\n*/\n\nfunction splitUnit(text) {\n  var matches = /^([^\\d|e|\\-|\\+]*)((?:\\d|\\.|-|e-|e\\+)+)(\\S*)$/g.exec(text);\n\n  if (!matches) {\n    return {\n      prefix: \"\",\n      unit: \"\",\n      value: NaN\n    };\n  }\n\n  var prefix = matches[1];\n  var value = matches[2];\n  var unit = matches[3];\n  return {\n    prefix: prefix,\n    unit: unit,\n    value: parseFloat(value)\n  };\n}\n/**\n* transform strings to camel-case\n* @memberof Utils\n* @param {String} text - string\n* @return {String} camel-case string\n* @example\nimport {camelize} from \"@daybrush/utils\";\n\nconsole.log(camelize(\"transform-origin\")); // transformOrigin\nconsole.log(camelize(\"abcd_efg\")); // abcdEfg\nconsole.log(camelize(\"abcd efg\")); // abcdEfg\n*/\n\nfunction camelize(str) {\n  return str.replace(/[\\s-_]([a-z])/g, function (all, letter) {\n    return letter.toUpperCase();\n  });\n}\n/**\n* transform a camelized string into a lowercased string.\n* @memberof Utils\n* @param {string} text - a camel-cased string\n* @param {string} [separator=\"-\"] - a separator\n* @return {string}  a lowercased string\n* @example\nimport {decamelize} from \"@daybrush/utils\";\n\nconsole.log(decamelize(\"transformOrigin\")); // transform-origin\nconsole.log(decamelize(\"abcdEfg\", \"_\")); // abcd_efg\n*/\n\nfunction decamelize(str, separator) {\n  if (separator === void 0) {\n    separator = \"-\";\n  }\n\n  return str.replace(/([a-z])([A-Z])/g, function (all, letter, letter2) {\n    return \"\" + letter + separator + letter2.toLowerCase();\n  });\n}\n/**\n* transforms something in an array into an array.\n* @memberof Utils\n* @param - Array form\n* @return an array\n* @example\nimport {toArray} from \"@daybrush/utils\";\n\nconst arr1 = toArray(document.querySelectorAll(\".a\")); // Element[]\nconst arr2 = toArray(document.querySelectorAll<HTMLElement>(\".a\")); // HTMLElement[]\n*/\n\nfunction toArray(value) {\n  return [].slice.call(value);\n}\n/**\n* Date.now() method\n* @memberof CrossBrowser\n* @return {number} milliseconds\n* @example\nimport {now} from \"@daybrush/utils\";\n\nconsole.log(now()); // 12121324241(milliseconds)\n*/\n\nfunction now() {\n  return Date.now ? Date.now() : new Date().getTime();\n}\n/**\n* window.requestAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {FrameRequestCallback} callback - The function to call when it's time to update your animation for the next repaint.\n* @return {number} id\n* @example\nimport {requestAnimationFrame} from \"@daybrush/utils\";\n\nrequestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n*/\n\nvar requestAnimationFrame =\n/*#__PURE__*/\nfunction () {\n  var firstTime = now();\n  var raf = IS_WINDOW && (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame);\n  return raf ? raf.bind(window) : function (callback) {\n    var currTime = now();\n    var id = window.setTimeout(function () {\n      callback(currTime - firstTime);\n    }, 1000 / 60);\n    return id;\n  };\n}();\n\n/**\n* @namespace\n* @name Color\n*/\n\n/**\n* Remove the # from the hex color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} hex color\n* @example\nimport {cutHex} from \"@daybrush/utils\";\n\nconsole.log(cutHex(\"#000000\")) // \"000000\"\n*/\n\nfunction cutHex(hex) {\n  return hex.replace(\"#\", \"\");\n}\n/**\n* convert hex color to rgb color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} rgb color\n* @example\nimport {hexToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hexToRGBA(\"#00000005\"));\n// [0, 0, 0, 1]\nconsole.log(hexToRGBA(\"#201045\"));\n// [32, 16, 69, 1]\n*/\n\nfunction hexToRGBA(hex) {\n  var h = cutHex(hex);\n  var r = parseInt(h.substring(0, 2), 16);\n  var g = parseInt(h.substring(2, 4), 16);\n  var b = parseInt(h.substring(4, 6), 16);\n  var a = parseInt(h.substring(6, 8), 16) / 255;\n\n  if (isNaN(a)) {\n    a = 1;\n  }\n\n  return [r, g, b, a];\n}\n/**\n* convert 3(or 4)-digit hex color to 6(or 8)-digit hex color.\n* @memberof Color\n* @param {} hex - 3(or 4)-digit hex color\n* @return {} 6(or 8)-digit hex color\n* @example\nimport {toFullHex} from \"@daybrush/utils\";\n\nconsole.log(toFullHex(\"#123\")); // \"#112233\"\nconsole.log(toFullHex(\"#123a\")); // \"#112233aa\"\n*/\n\nfunction toFullHex(h) {\n  var r = h.charAt(1);\n  var g = h.charAt(2);\n  var b = h.charAt(3);\n  var a = h.charAt(4);\n  var arr = [\"#\", r, r, g, g, b, b, a, a];\n  return arr.join(\"\");\n}\n/**\n* convert hsl color to rgba color.\n* @memberof Color\n* @param {} hsl - hsl color(hue: 0 ~ 360, saturation: 0 ~ 1, lightness: 0 ~ 1, alpha: 0 ~ 1)\n* @return {} rgba color\n* @example\nimport {hslToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hslToRGBA([150, 0.5, 0.4]));\n// [51, 153, 102, 1]\n*/\n\nfunction hslToRGBA(hsl) {\n  var h = hsl[0];\n  var s = hsl[1];\n  var l = hsl[2];\n\n  if (h < 0) {\n    h += Math.floor((Math.abs(h) + 360) / 360) * 360;\n  }\n\n  h %= 360;\n  var c = (1 - Math.abs(2 * l - 1)) * s;\n  var x = c * (1 - Math.abs(h / 60 % 2 - 1));\n  var m = l - c / 2;\n  var rgb;\n\n  if (h < 60) {\n    rgb = [c, x, 0];\n  } else if (h < 120) {\n    rgb = [x, c, 0];\n  } else if (h < 180) {\n    rgb = [0, c, x];\n  } else if (h < 240) {\n    rgb = [0, x, c];\n  } else if (h < 300) {\n    rgb = [x, 0, c];\n  } else if (h < 360) {\n    rgb = [c, 0, x];\n  }\n\n  var result = [Math.round((rgb[0] + m) * 255), Math.round((rgb[1] + m) * 255), Math.round((rgb[2] + m) * 255), hsl.length > 3 ? hsl[3] : 1];\n  return result;\n}\n/**\n* convert string to rgba color.\n* @memberof Color\n* @param {} - 3-hex(#000), 4-hex(#0000) 6-hex(#000000), 8-hex(#00000000) or RGB(A), or HSL(A)\n* @return {} rgba color\n* @example\nimport {stringToRGBA} from \"@daybrush/utils\";\n\nconsole.log(stringToRGBA(\"#000000\")); // [0, 0, 0, 1]\nconsole.log(stringToRGBA(\"rgb(100, 100, 100)\")); // [100, 100, 100, 1]\nconsole.log(stringToRGBA(\"hsl(150, 0.5, 0.4)\")); // [51, 153, 102, 1]\n*/\n\nfunction stringToRGBA(color) {\n  if (color.charAt(0) === \"#\") {\n    if (color.length === 4 || color.length === 5) {\n      return hexToRGBA(toFullHex(color));\n    } else {\n      return hexToRGBA(color);\n    }\n  } else if (color.indexOf(\"(\") !== -1) {\n    // in bracket.\n    var _a = splitBracket(color),\n        prefix = _a.prefix,\n        value = _a.value;\n\n    if (!prefix || !value) {\n      return;\n    }\n\n    var arr = splitComma(value);\n    var colorArr = [];\n    var length = arr.length;\n\n    switch (prefix) {\n      case RGB:\n      case RGBA:\n        for (var i = 0; i < length; ++i) {\n          colorArr[i] = parseFloat(arr[i]);\n        }\n\n        return colorArr;\n\n      case HSL:\n      case HSLA:\n        for (var i = 0; i < length; ++i) {\n          if (arr[i].indexOf(\"%\") !== -1) {\n            colorArr[i] = parseFloat(arr[i]) / 100;\n          } else {\n            colorArr[i] = parseFloat(arr[i]);\n          }\n        } // hsl, hsla to rgba\n\n\n        return hslToRGBA(colorArr);\n    }\n  }\n\n  return;\n}\n\n/**\n * Returns all element descendants of node that\n * match selectors.\n */\n\n/**\n * Checks if the specified class value exists in the element's class attribute.\n * @memberof DOM\n * @param - A DOMString containing one or more selectors to match\n * @param - If multi is true, a DOMString containing one or more selectors to match against.\n * @example\nimport {$} from \"@daybrush/utils\";\n\nconsole.log($(\"div\")); // div element\nconsole.log($(\"div\", true)); // [div, div] elements\n*/\n\nfunction $(selectors, multi) {\n  return multi ? doc.querySelectorAll(selectors) : doc.querySelector(selectors);\n}\n/**\n* Checks if the specified class value exists in the element's class attribute.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to search\n* @return {boolean} return false if the class is not found.\n* @example\nimport {hasClass} from \"@daybrush/utils\";\n\nconsole.log(hasClass(element, \"start\")); // true or false\n*/\n\nfunction hasClass(element, className) {\n  if (element.classList) {\n    return element.classList.contains(className);\n  }\n\n  return !!element.className.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"));\n}\n/**\n* Add the specified class value. If these classe already exist in the element's class attribute they are ignored.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to add\n* @example\nimport {addClass} from \"@daybrush/utils\";\n\naddClass(element, \"start\");\n*/\n\nfunction addClass(element, className) {\n  if (element.classList) {\n    element.classList.add(className);\n  } else {\n    element.className += \" \" + className;\n  }\n}\n/**\n* Removes the specified class value.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to remove\n* @example\nimport {removeClass} from \"@daybrush/utils\";\n\nremoveClass(element, \"start\");\n*/\n\nfunction removeClass(element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else {\n    var reg = new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\");\n    element.className = element.className.replace(reg, \" \");\n  }\n}\n/**\n* Gets the CSS properties from the element.\n* @memberof DOM\n* @param elements - elements\n* @param properites - the CSS properties\n* @return returns CSS properties and values.\n* @example\nimport {fromCSS} from \"@daybrush/utils\";\n\nconsole.log(fromCSS(element, [\"left\", \"opacity\", \"top\"])); // {\"left\": \"10px\", \"opacity\": 1, \"top\": \"10px\"}\n*/\n\nfunction fromCSS(elements, properties) {\n  if (!elements || !properties || !properties.length) {\n    return {};\n  }\n\n  var element;\n\n  if (elements instanceof Element) {\n    element = elements;\n  } else if (elements.length) {\n    element = elements[0];\n  } else {\n    return {};\n  }\n\n  var cssObject = {};\n  var styles = window.getComputedStyle(element);\n  var length = properties.length;\n\n  for (var i = 0; i < length; ++i) {\n    cssObject[properties[i]] = styles[properties[i]];\n  }\n\n  return cssObject;\n}\n/**\n* Sets up a function that will be called whenever the specified event is delivered to the target\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The object which receives a notification (an object that implements the Event interface) when an event of the specified type occurs\n* @param - An options object that specifies characteristics about the event listener. The available options are:\n* @example\nimport {addEvent} from \"@daybrush/utils\";\n\naddEvent(el, \"click\", e => {\n  console.log(e);\n});\n*/\n\nfunction addEvent(el, type, listener, options) {\n  el.addEventListener(type, listener, options);\n}\n/**\n* removes from the EventTarget an event listener previously registered with EventTarget.addEventListener()\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The EventListener function of the event handler to remove from the event target.\n* @example\nimport {addEvent, removeEvent} from \"@daybrush/utils\";\nconst listener = e => {\n  console.log(e);\n};\naddEvent(el, \"click\", listener);\nremoveEvent(el, \"click\", listener);\n*/\n\nfunction removeEvent(el, type, listener) {\n  el.removeEventListener(type, listener);\n}\n\nexport { RGB, RGBA, HSL, HSLA, COLOR_MODELS, FUNCTION, PROPERTY, ARRAY, OBJECT, STRING, NUMBER, UNDEFINED, IS_WINDOW, doc as document, getCrossBrowserProperty, TRANSFORM, FILTER, ANIMATION, KEYFRAMES, cutHex, hexToRGBA, toFullHex, hslToRGBA, stringToRGBA, isUndefined, isObject, isArray, isString, isFunction, splitSpace, splitComma, splitBracket, splitUnit, camelize, decamelize, toArray, now, requestAnimationFrame, $, hasClass, addClass, removeClass, fromCSS, addEvent, removeEvent };\n//# sourceMappingURL=utils.esm.js.map\n","import { oval, poly } from \"shape-svg\";\nimport NativeScene, { IEasingFunction } from \"../../src\";\nimport Page from \"@daybrush/page\";\nimport { add } from \"./Store\";\nimport { $, addEvent } from \"@daybrush/utils\";\n\ndeclare var Scene: typeof NativeScene & {\n    EASE_IN_OUT: IEasingFunction,\n};\ndeclare var MediaScene: new (duration: number, properties?: any, options?: any) => NativeScene;\n\nconst clapper = document.querySelector(\".clapper\");\n\nfunction makeShadow(element, func, options, left = 10, top = 15) {\n    const target = func({\n        left,\n        top,\n        opacity: 1,\n        ...options,\n    });\n\n    func({\n        left: left * 2,\n        top: top * 2,\n        opacity: 0.2,\n        ...options,\n    }, target);\n\n    element.appendChild(target);\n\n    return target;\n}\n\nconst radius = 50;\n\nfor (let i = 1; i <= 6; ++i) {\n    const size = (170 - (i - 1) * 20);\n    const stroke = radius * 12 / size;\n    const ir = radius - stroke;\n\n    const target = makeShadow(clapper, oval, {\n        \"className\": `svg_circle svg_circle${i} center`,\n        \"r\": ir,\n        \"strokeWidth\": stroke,\n        \"strokeLinejoin\": \"round\",\n        \"stroke-linecap\": \"round\",\n        \"stroke\": \"#333\",\n        \"rotate\": -360,\n        \"origin\": \"50% 50%\",\n    }, 5, 5);\n\n    target.style.cssText = `width: ${size}px; height: ${size}px;`;\n}\n\nmakeShadow(clapper, poly, {\n    className: \"play_btn back\",\n    side: 3,\n    width: 60,\n    strokeWidth: 8,\n    strokeLinejoin: \"round\",\n    rotate: 90,\n    stroke: \"#333\",\n    fill: \"#333\",\n    origin: \"50% 50%\",\n});\nmakeShadow(clapper, poly, {\n    className: \"play_btn front\",\n    side: 3,\n    width: 60,\n    strokeWidth: 8,\n    strokeLinejoin: \"round\",\n    rotate: 90,\n    stroke: \"#333\",\n    fill: \"#333\",\n    origin: \"50% 50%\",\n});\n\nconst nextStep = 2.6;\nconst nextStep2 = nextStep + 3;\nconst nextStep3 = nextStep2 + 1.6;\n\nconst EASE_IN_OUT = Scene.EASE_IN_OUT;\n\nconst scene = new Scene({\n    \".logo1 .scene1.circle\": i => ({\n        0: {\n            transform: \"scale(0)\",\n        },\n        0.2: {\n            \"border-width\": \"50px\",\n        },\n        0.5: {\n            opacity: 1,\n        },\n        1: {\n            \"transform\": \"scale(1)\",\n            \"border-width\": \"0px\",\n            \"opacity\": 0,\n        },\n        options: {\n            delay: i * 0.4,\n        },\n    }),\n    \".logo1 ellipse\": (i, el) => {\n        const opacity = el.getAttribute(\"opacity\");\n        const index = Math.floor(i / 2);\n\n        return {\n            0: {\n                \"opacity\": 0,\n                \"stroke-dasharray\": \"0 1000\",\n                \"transform\": `scaleX(${index % 2 ? -1 : 1}) rotate(${-90 + index * 180}deg)`,\n            },\n            0.1: {\n                opacity,\n            },\n            [0.6]: {\n                \"stroke-dasharray\": `${70} 1000`,\n                \"stroke-dashoffset\": 0,\n            },\n            [1.1 - index * 0.06]: {\n                opacity,\n            },\n            [1.2 - index * 0.06]: {\n                \"stroke-dashoffset\": -76,\n                \"stroke-dasharray\": \"0 1000\",\n                \"transform\": `rotate(${180 + index * 180}deg)`,\n                \"opacity\": 0,\n            },\n            options: {\n                delay: nextStep + index * 0.16,\n            },\n        };\n    },\n    \".play_btn.back\": {\n        0: {\n            transform: \"translate(-50%, -50%) translate2(3px) scale(1)\",\n        },\n        1: {\n            transform: \"scale(0.5)\",\n        },\n        2: {\n            transform: \"scale(1)\",\n        },\n        options: {\n            delay: nextStep + 1,\n        },\n    },\n    \".play_btn.front\": {\n        0: {\n            transform: \"translate(-50%, -50%) translate2(3px) scale(0)\",\n        },\n        1: {\n            transform: \"scale(1)\",\n        },\n        options: {\n            delay: nextStep + 2.4,\n        },\n    },\n    \".play_circle\": {\n        0: {\n            transform: \"translate(-50%, -50%) scale(0)\",\n        },\n        1: {\n            transform: \"scale(1)\",\n        },\n        options: {\n            delay: nextStep + 2.1,\n        },\n    },\n    \".background\": {\n        0: {\n            transform: \"translate(-50%, -50%) scale(0)\",\n        },\n        1: {\n            transform: \"scale(1)\",\n        },\n        options: {\n            delay: nextStep + 1.8,\n        },\n    },\n    \".stick1 .rect\": i => ({\n        0: {\n            transform: {\n                scale: 0,\n                skew: \"15deg\",\n            },\n        },\n        0.7: {\n            transform: {\n                scale: 1,\n            },\n        },\n        options: {\n            delay: nextStep2 - 0.2 + i * 0.22,\n        },\n    }),\n    \".stick2 .rect\": i => ({\n        0: {\n            transform: {\n                scale: 0,\n                skew: \"-15deg\",\n            },\n        },\n        0.7: {\n            transform: {\n                scale: 1,\n            },\n        },\n        options: {\n            delay: nextStep2 + i * 0.22,\n        },\n    }),\n    \".stick1\": {\n        0: {\n            transform: {\n                rotate: \"0deg\",\n            },\n        },\n        0.5: {\n            transform: {\n                rotate: \"-20deg\",\n            },\n        },\n        1: {\n            transform: {\n                rotate: \"0deg\",\n            },\n        },\n        1.5: {\n            transform: {\n                rotate: \"-10deg\",\n            },\n        },\n        options: {\n            delay: nextStep3,\n            easing: EASE_IN_OUT,\n        },\n    },\n    \".logo1 .clapper\": {\n        0: {\n            transform: \"rotate(0deg)\",\n        },\n        0.5: {\n            transform: \"rotate(-15deg)\",\n        },\n        1: {\n            transform: \"rotate(0deg)\",\n        },\n        1.5: {\n            transform: \"rotate(-10deg)\",\n        },\n        options: {\n            delay: nextStep3,\n            easing: EASE_IN_OUT,\n        },\n    },\n    \".logo1 .character .left\": i => ({\n        0: {\n            transform: {\n                translateX: \"-100%\",\n            },\n        },\n        1: {\n            transform: {\n                translateX: \"0%\",\n            },\n        },\n        options: {\n            delay: nextStep2 + i * 0.1,\n        },\n    }),\n    \".logo1 .character .right\": i => ({\n        0: {\n            transform: {\n                translateX: \"100%\",\n            },\n        },\n        1: {\n            transform: {\n                translateX: \"0%\",\n            },\n        },\n        options: {\n            delay: nextStep2 + i * 0.1,\n        },\n    }),\n    \".logo1 .description p span\": i => ({\n        0: {\n            transform: {\n                translateY: \"-100%\",\n            },\n        },\n        1: {\n            transform: {\n                translateY: \"0%\",\n            },\n        },\n        options: {\n            delay: nextStep3 + 0.5 + i * 0.2,\n        },\n    }),\n}, {\n        easing: EASE_IN_OUT,\n        selector: true,\n    });\n\nconst clapperSound = document.querySelector(\"audio\");\nconst mediaScene = new MediaScene(\n    scene.getDuration(),\n    {\n        \"./clapper.mp3\": {\n            [nextStep3 + 0.9]: {\n                seek: [0, 1],\n                playSpeed: 2,\n                volume: 0.7,\n            },\n            options: {\n                element: clapperSound,\n            },\n        },\n    },\n);\n\naddEvent($<HTMLElement>(\".play_btn.front\"), \"click\", () => {\n    scene.playCSS(false);\n    mediaScene.play();\n});\nconst page1 = new Page(\".page.page1\");\n\npage1.range([\"10%\", \"90%\"]).on({\n    firstEnter: () => {\n        scene.exportCSS();\n    },\n    enter: () => {\n        scene.playCSS(false);\n        mediaScene.play();\n    },\n});\npage1.on(\"exit\", () => {\n    scene.finish();\n    mediaScene.finish();\n});\n\nadd(page1);\n","import Page from \"@daybrush/page\";\nimport { add } from \"./Store\";\nimport { $, addEvent, toArray } from \"@daybrush/utils\";\nimport NativeScene, { IEasingFunction, SceneItem, setRole } from \"../../src\";\n\ndeclare var Scene: typeof NativeScene & {\n    EASE_IN: IEasingFunction;\n    EASE_IN_OUT: IEasingFunction;\n    LINEAR: IEasingFunction;\n    SceneItem: typeof SceneItem;\n    setRole: typeof setRole;\n};\nnew Scene({\n    \".page2 .icon1 .lang\": i => ({\n        0: {\n            \"border-color\": \"#f55\",\n            \"color\": \"#f55\",\n        },\n        0.5: {\n            \"border-color\": \"#f55\",\n            \"color\": \"#f55\",\n        },\n        1.5: {\n            \"border-color\": \"#fff\",\n            \"color\": \"#fff\",\n        },\n        2: {\n            \"border-color\": \"#fff\",\n            \"color\": \"#fff\",\n        },\n        options: {\n            direction: i ? \"alternate-reverse\" : \"alternate\",\n            iterationCount: \"infinite\",\n        },\n    }),\n}, {\n    easing: Scene.EASE_IN_OUT,\n    selector: true,\n}).setTime(0).exportCSS({\n    selector: (_, selector) => {\n        return `.page2 [data-feature=\"play\"]:hover .icon1 ${selector}`;\n    },\n});\n\nnew Scene({\n    \".page2 .icon2 .thumb\": {\n        0: {\n            transform: {\n                translate: \"-50%, -50%\",\n                translate2: \"0px\",\n            },\n        },\n        1: {\n            transform: {\n                translate2: \"100px\",\n            },\n        },\n    },\n}, {\n    iterationCount: \"infinite\",\n    direction: \"alternate\",\n    easing: Scene.EASE_IN_OUT,\n    selector: true,\n}).exportCSS({\n    selector: `.page2 [data-feature=\"progress\"]:hover .icon2 .thumb`,\n});\n\nnew Scene({\n    \".page2 .icon3 svg path\": {\n        \"0\": {\n            \"stroke-dasharray\": \"4450 4450\",\n        },\n        \"0>\": {\n            \"stroke-dasharray\": \"0 5000\",\n        },\n        \"0.8\": {\n            \"stroke-dasharray\": \"1400 5000\",\n        },\n        \"1.6\": {\n            \"stroke-dasharray\": \"2500 4450\",\n        },\n        \"2.7\": {\n            \"stroke-dasharray\": \"4450 4450\",\n        },\n        \"3\": {\n\n        },\n    },\n}, {\n    iterationCount: \"infinite\",\n    easing: Scene.EASE_IN,\n    selector: true,\n}).exportCSS({\n    selector: `.page2 [data-feature=\"svg\"]:hover .icon3 path`,\n}).setTime(0);\n\nnew Scene({\n    \".page2 .icon4 .play_bar\": {\n        0: {\n            left: \"0%\",\n        },\n        2: {\n            left: \"100%\",\n        },\n    },\n}, {\n        iterationCount: \"infinite\",\n        easing: Scene.LINEAR,\n        selector: true,\n    }).exportCSS({\n        selector: `.page2 [data-feature=\"timeline\"]:hover .icon4 .play_bar`,\n    });\nconst valueFeatureElement = $(`.page2 [data-feature=\"value\"]`);\n\nScene.setRole([\"text\"], true);\n\nconst icon5Scene = new Scene({\n    \".slide\": i => ({\n        1.5: {\n            transform: `translateY(-50%) translate(${i * 100}%)`,\n        },\n        2.5: {\n            transform: `translate(${(i - 1) * 100}%)`,\n        },\n        4: {\n            transform: `translateY(-50%) translate(${(i - 1) * 100}%)`,\n        },\n        5: {\n            transform: `translate(${(i - 2) * 100}%)`,\n        },\n        options: {\n            easing: Scene.EASE_IN_OUT,\n        },\n    }),\n    \".slide:nth-child(1) .target\": {\n        0: {\n            opacity: 1,\n        },\n        1: {\n            opacity: 0,\n        },\n    },\n    \".slide:nth-child(2) .target\": {\n        0: {\n            \"background-color\": \"rgb(255, 255, 255)\",\n        },\n        1: {\n            \"background-color\": \"rgb(255, 90, 90)\",\n        },\n        options: {\n            delay: 2.5,\n        },\n    },\n    \".slide:nth-child(3) .target\": {\n        0: {\n            \"font-weight\": \"bold\",\n            \"background\": \"transparent\",\n            \"text\": \"\",\n        },\n        0.12: {\n            text: \"S\",\n        },\n        0.24: {\n            text: \"Sc\",\n        },\n        0.36: {\n            text: \"Sce\",\n        },\n        0.48: {\n            text: \"Scen\",\n        },\n        0.60: {\n            text: \"Scene\",\n        },\n        0.72: {\n            text: \"Scene.\",\n        },\n        0.84: {\n            text: \"Scene.j\",\n        },\n        0.96: {\n            text: \"Scene.js\",\n        },\n        2: {\n\n        },\n        options: {\n            delay: 5,\n        },\n    },\n}, {\n    iterationCount: \"infinite\",\n    selector: true,\n}).setTime(0);\n\nconst descriptionElements = toArray($(\".page2 .slide .sub_description\", true));\n\nicon5Scene.getItem(\".slide:nth-child(1) .target\").on(\"animate\", e => {\n    const el = descriptionElements[0];\n\n    el.innerHTML = `opacity: ${e.frame.get(\"opacity\").toFixed(2)}`;\n});\nicon5Scene.getItem(\".slide:nth-child(2) .target\").on(\"animate\", e => {\n    const el = descriptionElements[1];\n\n    el.innerHTML = `${e.frame.get(\"background-color\")}`;\n});\nicon5Scene.getItem(\".slide:nth-child(3) .target\").on(\"animate\", e => {\n    const el = e.currentTarget.elements[0];\n\n    el.innerHTML = `${e.frame.get(\"text\")}`;\n});\naddEvent(valueFeatureElement, \"mouseenter\", () => {\n    icon5Scene.getPlayState() !== \"running\" && icon5Scene.play();\n});\naddEvent(valueFeatureElement, \"mouseleave\", () => {\n    icon5Scene.pause();\n});\n\nconst page2 = new Page(\".page.page2\");\n\nadd(page2);\n","import Page from \"@daybrush/page\";\nimport { add } from \"./Store\";\n\nconst page3 = new Page(\".page.page3\");\n\nadd(page3);\n","import Page from \"@daybrush/page\";\nimport { add } from \"./Store\";\n\nconst page4 = new Page(\".page.page4\");\n\nadd(page4);\n","import { IObject } from \"@daybrush/utils\";\nimport { RoleObject, OptionType, EventType } from \"./types\";\n\nexport const PREFIX = \"__SCENEJS_\";\nexport const DATA_SCENE_ID = \"data-scene-id\";\nexport const TIMING_FUNCTION = \"animation-timing-function\";\nexport const ROLES: RoleObject = { transform: {}, filter: {}, attribute: {} };\nexport const ALIAS: IObject<string[]> = { easing: [TIMING_FUNCTION] };\nexport const FIXED = { [TIMING_FUNCTION]: true, contents: true };\nexport const MAXIMUM = 1000000;\nexport const THRESHOLD = 0.000001;\n\nexport const DURATION = \"duration\";\nexport const FILL_MODE = \"fillMode\";\nexport const DIRECTION = \"direction\";\nexport const ITERATION_COUNT = \"iterationCount\";\nexport const DELAY = \"delay\";\nexport const EASING = \"easing\";\nexport const PLAY_SPEED = \"playSpeed\";\nexport const EASING_NAME = \"easingName\";\nexport const ITERATION_TIME = \"iterationTime\";\nexport const PAUSED = \"paused\";\nexport const ENDED = \"ended\";\nexport const TIMEUPDATE = \"timeupdate\";\nexport const ANIMATE = \"animate\";\nexport const PLAY = \"play\";\nexport const RUNNING = \"running\";\nexport const ITERATION = \"iteration\";\nexport const START_ANIMATION = \"startAnimation\";\nexport const PAUSE_ANIMATION = \"pauseAnimation\";\nexport const ALTERNATE = \"alternate\";\nexport const REVERSE = \"reverse\";\nexport const ALTERNATE_REVERSE = \"alternate-reverse\";\nexport const NORMAL = \"normal\";\nexport const INFINITE = \"infinite\";\nexport const PLAY_STATE = \"playState\";\nexport const PLAY_CSS = \"playCSS\";\nexport const PREV_TIME = \"prevTime\";\nexport const TICK_TIME = \"tickTime\";\nexport const CURRENT_TIME = \"currentTime\";\nexport const SELECTOR = \"selector\";\nexport const TRANSFORM_NAME = \"transform\";\n\n/**\n* option name list\n* @name Scene.OPTIONS\n* @memberof Scene\n* @static\n* @type {$ts:OptionType}\n* @example\n* Scene.OPTIONS // [\"duration\", \"fillMode\", \"direction\", \"iterationCount\", \"delay\", \"easing\", \"playSpeed\"]\n*/\nexport const OPTIONS: OptionType = [DURATION, FILL_MODE, DIRECTION, ITERATION_COUNT, DELAY, EASING, PLAY_SPEED];\n\n/**\n* Event name list\n* @name Scene.EVENTS\n* @memberof Scene\n* @static\n* @type {$ts:EventType}\n* @example\n* Scene.EVENTS // [\"paused\", \"ended\", \"timeupdate\", \"animate\", \"play\", \"iteration\"];\n*/\nexport const EVENTS: EventType = [PAUSED, ENDED, TIMEUPDATE, ANIMATE, PLAY, ITERATION];\n","import { isObject, isArray, toArray } from \"@daybrush/utils\";\nimport { CallbackType, EventParameter } from \"./types\";\n\n/**\n* attach and trigger event handlers.\n*/\nclass EventTrigger {\n    public events: { [name: string]: CallbackType[] };\n    /**\n      * @example\n  const et = new Scene.EventTrigger();\n  const scene = new Scene();\n\n  scene.on(\"call\", e => {\n      console.log(e.param);\n  });\n  et.on(\"call\", e => {\n      console.log(e.param);\n  });\n  scene.trigger(\"call\", {param: 1});\n  et.trigger(\"call\", {param: 1});\n       */\n    constructor() {\n        this.events = {};\n    }\n    public _on(name: string | EventParameter, callback?: CallbackType | CallbackType[], once?: boolean) {\n        const events = this.events;\n\n        if (isObject(name)) {\n            for (const n in name) {\n                this._on(n, name[n], once);\n            }\n            return;\n        }\n        if (!(name in events)) {\n            events[name] = [];\n        }\n        if (!callback) {\n            return;\n        }\n        if (isArray(callback)) {\n            callback.forEach(func => this._on(name, func, once));\n            return;\n        }\n        events[name].push(once ? function callback2(...args) {\n            callback(...args);\n            this.off(name, callback2);\n        } : callback);\n    }\n    /**\n      * Attach an event handler function for one or more events to target\n      * @param - event's name\n      * @param - function to execute when the event is triggered.\n      * @return {EventTrigger} An Instance itself.\n      * @example\n  target.on(\"animate\", function() {\n      console.log(\"animate\");\n  });\n\n  target.trigger(\"animate\");\n\n    */\n    public on(name: string | EventParameter, callback?: CallbackType | CallbackType[]) {\n        this._on(name, callback);\n        return this;\n    }\n    /**\n      * Dettach an event handler function for one or more events to target\n      * @param - event's name\n      * @param -  function to execute when the event is triggered.\n      * @return {EventTrigger} An Instance itself.\n      * @example\n  const callback = function() {\n      console.log(\"animate\");\n  };\n  target.on(\"animate\", callback);\n\n  target.off(\"animate\", callback);\n  target.off(\"animate\");\n\n      */\n    public off(name?: string, callback?: CallbackType) {\n        if (!name) {\n            this.events = {};\n        } else if (!callback) {\n            this.events[name] = [];\n        } else {\n            const callbacks = this.events[name];\n\n            if (!callbacks) {\n                return this;\n            }\n            const index = callbacks.indexOf(callback);\n\n            if (index !== -1) {\n                callbacks.splice(index, 1);\n            }\n        }\n        return this;\n    }\n    /**\n      * execute event handler\n      * @param - event's name\n      * @param - event handler's additional parameter\n      * @return {EventTrigger} An Instance itself.\n      * @example\n  target.on(\"animate\", function(a1, a2) {\n      console.log(\"animate\", a1, a2);\n  });\n\n  target.trigger(\"animate\", [1, 2]); // log => \"animate\", 1, 2\n\n      */\n    public trigger(name: string, ...data: any[]) {\n        const events = this.events;\n\n        if (!(name in events)) {\n            return this;\n        }\n\n        const args = data || [];\n\n        !args[0] && (args[0] = {});\n        const event = events[name];\n        const target = args[0];\n\n        target.type = name;\n        target.currentTarget = this;\n        !target.target && (target.target = this);\n        toArray(events[name]).forEach(callback => {\n            callback.apply(this, data);\n        });\n\n        return this;\n    }\n    public once(name: string | EventParameter, callback?: CallbackType | CallbackType[]) {\n        this._on(name, callback, true);\n        return this;\n    }\n}\nexport default EventTrigger;\n","import { IEasingFunction } from \"./types\";\n\nfunction cubic(y1: number, y2: number, t: number) {\n  const t2 = 1 - t;\n\n  // Bezier Curve Formula\n  return t * t * t + 3 * t * t * t2 * y2 + 3 * t * t2 * t2 * y1;\n}\nfunction solveFromX(x1: number, x2: number, x: number) {\n  // x  0 ~ 1\n  // t 0 ~ 1\n  let t = x;\n  let solveX = x;\n  let dx = 1;\n\n  while (Math.abs(dx) > 1 / 1000) {\n    // 예상 t초에 의한 _x값\n    solveX = cubic(x1, x2, t);\n    dx = solveX - x;\n    // 차이가 미세하면 그 값을 t로 지정\n    if (Math.abs(dx) < 1 / 1000) {\n      return t;\n    }\n    t -= dx / 2;\n  }\n  return t;\n}\n/**\n * @namespace easing\n */\n/**\n* Cubic Bezier curve.\n* @memberof easing\n* @func bezier\n* @param {number} [x1] - point1's x\n* @param {number} [y1] - point1's y\n* @param {number} [x2] - point2's x\n* @param {number} [y2] - point2's y\n* @return {function} the curve function\n* @example\nimport {bezier} from \"scenejs\";\nScene.bezier(0, 0, 1, 1) // LINEAR\nScene.bezier(0.25, 0.1, 0.25, 1) // EASE\n*/\nexport function bezier(x1: number, y1: number, x2: number, y2: number) {\n  /*\n\t\tx = f(t)\n\t\tcalculate inverse function by x\n\t\tt = f-1(x)\n\t*/\n  const func: IEasingFunction = (x: number) => {\n    const t = solveFromX(x1, x2, Math.max(Math.min(1, x), 0));\n\n    return cubic(y1, y2, t);\n  };\n\n  func.easingName = `cubic-bezier(${x1},${y1},${x2},${y2})`;\n  return func;\n}\n/**\n* Specifies a stepping function\n* @see {@link https://www.w3schools.com/cssref/css3_pr_animation-timing-function.asp|CSS3 Timing Function}\n* @memberof easing\n* @func steps\n* @param {number} count - point1's x\n* @param {\"start\" | \"end\"} postion - point1's y\n* @return {function} the curve function\n* @example\nimport {steps} from \"scenejs\";\nScene.steps(1, \"start\") // Scene.STEP_START\nScene.steps(1, \"end\") // Scene.STEP_END\n*/\nexport function steps(count: number, position: \"start\" | \"end\") {\n  const func: IEasingFunction = (time: number) => {\n    const level = 1 / count;\n\n    if (time >= 1) {\n      return 1;\n    }\n    return (position === \"start\" ? level : 0) + Math.floor(time / level) * level;\n  };\n\n  func.easingName = `steps(${count}, ${position})`;\n\n  return func;\n}\n\n/**\n* Equivalent to steps(1, start)\n* @memberof easing\n* @name STEP_START\n* @static\n* @type {function}\n* @example\nimport {STEP_START} from \"scenejs\";\nScene.STEP_START // steps(1, start)\n*/\nexport const STEP_START = /*#__PURE__#*/steps(1, \"start\");\n/**\n* Equivalent to steps(1, end)\n* @memberof easing\n* @name STEP_END\n* @static\n* @type {function}\n* @example\nimport {STEP_END} from \"scenejs\";\nScene.STEP_END // steps(1, end)\n*/\nexport const STEP_END = /*#__PURE__#*/steps(1, \"end\");\n/**\n* Linear Speed (0, 0, 1, 1)\n* @memberof easing\n* @name LINEAR\n* @static\n* @type {function}\n* @example\nimport {LINEAR} from \"scenejs\";\nScene.LINEAR\n*/\nexport const LINEAR = /*#__PURE__#*/bezier(0, 0, 1, 1);\n/**\n* Ease Speed (0.25, 0.1, 0.25, 1)\n* @memberof easing\n* @name EASE\n* @static\n* @type {function}\n* @example\nimport {EASE} from \"scenejs\";\nScene.EASE\n*/\nexport const EASE = /*#__PURE__#*/bezier(0.25, 0.1, 0.25, 1);\n/**\n* Ease In Speed (0.42, 0, 1, 1)\n* @memberof easing\n* @name EASE_IN\n* @static\n* @type {function}\n* @example\nimport {EASE_IN} from \"scenejs\";\nScene.EASE_IN\n*/\nexport const EASE_IN = /*#__PURE__#*/bezier(0.42, 0, 1, 1);\n/**\n* Ease Out Speed (0, 0, 0.58, 1)\n* @memberof easing\n* @name EASE_OUT\n* @static\n* @type {function}\n* @example\nimport {EASE_OUT} from \"scenejs\";\nScene.EASE_OUT\n*/\nexport const EASE_OUT = /*#__PURE__#*/bezier(0, 0, 0.58, 1);\n/**\n* Ease In Out Speed (0.42, 0, 0.58, 1)\n* @memberof easing\n* @name EASE_IN_OUT\n* @static\n* @type {function}\n* @example\nimport {EASE_IN_OUT} from \"scenejs\";\nScene.EASE_IN_OUT\n*/\nexport const EASE_IN_OUT = /*#__PURE__#*/bezier(0.42, 0, 0.58, 1);\n","import { isString } from \"@daybrush/utils\";\nimport { PropertyObjectState } from \"./types\";\n\n/**\n* Make string, array to PropertyObject for the dot product\n*/\nclass PropertyObject implements PropertyObjectState {\n    public value: any[];\n    public prefix: string = \"\";\n    public suffix: string = \"\";\n    public model: string = \"\";\n    public type: string = \"\";\n    public separator: string = \",\";\n\n    /**\n      * @param - This value is in the array format.\n      * @param - options\n      * @example\n  var obj = new PropertyObject([100,100,100,0.5], {\n      \"separator\" : \",\",\n      \"prefix\" : \"rgba(\",\n      \"suffix\" : \")\"\n  });\n       */\n    constructor(value: string | any[], options?: Partial<PropertyObjectState>) {\n        options && this.setOptions(options);\n        this.value = isString(value) ? value.split(this.separator) : value;\n    }\n    public setOptions(newOptions: Partial<PropertyObjectState>) {\n        for (const name in newOptions) {\n            this[name as keyof PropertyObjectState] = newOptions[name as keyof PropertyObjectState];\n        }\n        return this;\n    }\n    /**\n      * the number of values.\n      * @example\n  const obj1 = new PropertyObject(\"1,2,3\", \",\");\n\n  console.log(obj1.length);\n  // 3\n       */\n    public size() {\n        return this.value.length;\n    }\n    /**\n      * retrieve one of values at the index\n      * @param {Number} index - index\n      * @return {Object} one of values at the index\n      * @example\n  const obj1 = new PropertyObject(\"1,2,3\", \",\");\n\n  console.log(obj1.get(0));\n  // 1\n       */\n    public get(index: number) {\n        return this.value[index];\n    }\n    /**\n      * Set the value at that index\n      * @param {Number} index - index\n      * @param {Object} value - text, a number, object to set\n      * @return {PropertyObject} An instance itself\n      * @example\n  const obj1 = new PropertyObject(\"1,2,3\", \",\");\n  obj1.set(0, 2);\n  console.log(obj1.toValue());\n  // 2,2,3\n       */\n    public set(index: number, value: any) {\n        this.value[index] = value;\n        return this;\n    }\n    /**\n      * create a copy of an instance itself.\n      * @return {PropertyObject} clone\n      * @example\n  const obj1 = new PropertyObject(\"1,2,3\", \",\");\n  const obj2 = obj1.clone();\n       */\n    public clone(): PropertyObject {\n        const {\n            separator,\n            prefix,\n            suffix,\n            model,\n            type,\n        } = this;\n        const arr = this.value.map(v => ((v instanceof PropertyObject) ? v.clone() : v));\n        return new PropertyObject(arr, {\n            separator,\n            prefix,\n            suffix,\n            model,\n            type,\n        });\n    }\n    /**\n      * Make Property Object to String\n      * @return {String} Make Property Object to String\n      * @example\n  //rgba(100, 100, 100, 0.5)\n  const obj4 = new PropertyObject([100,100,100,0.5], {\n      \"separator\" : \",\",\n      \"prefix\" : \"rgba(\",\n      \"suffix\" : \")\",\n  });\n  console.log(obj4.toValue());\n  // \"rgba(100,100,100,0.5)\"\n      */\n    public toValue(): string {\n        return this.prefix + this.join() + this.suffix;\n    }\n    /**\n      * Make Property Object's array to String\n      * @return {String} Join the elements of an array into a string\n      * @example\n      //rgba(100, 100, 100, 0.5)\n      var obj4 = new PropertyObject([100,100,100,0.5], {\n          \"separator\" : \",\",\n          \"prefix\" : \"rgba(\",\n          \"suffix\" : \")\"\n      });\n      obj4.join();  // =>   \"100,100,100,0.5\"\n       */\n    public join() {\n        return this.value.map(v => ((v instanceof PropertyObject) ? v.toValue() : v)).join(this.separator);\n    }\n    /**\n      * executes a provided function once per array element.\n      * @param {Function} callback - Function to execute for each element, taking three arguments\n      * @param {All} [callback.currentValue] The current element being processed in the array.\n      * @param {Number} [callback.index] The index of the current element being processed in the array.\n      * @param {Array} [callback.array] the array.\n      * @return {PropertyObject} An instance itself\n      * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach|MDN Array.forEach()} reference to MDN document.\n      * @example\n  //rgba(100, 100, 100, 0.5)\n  var obj4 = new PropertyObject([100,100,100,0.5], {\n      \"separator\" : \",\",\n      \"prefix\" : \"rgba(\",\n      \"suffix\" : \")\"\n  });\n\n  obj4.forEach(t => {\n      console.log(t);\n  });  // =>   \"100,100,100,0.5\"\n      */\n    public forEach(func: (value?: any, index?: number, array?: any[]) => void) {\n        this.value.forEach(func);\n        return this;\n    }\n}\nexport default PropertyObject;\n","import {\n    ROLES, MAXIMUM, FIXED, ALIAS,\n    PAUSED, RUNNING, PLAY, ENDED, PREFIX, PLAY_CSS, CURRENT_TIME, START_ANIMATION\n} from \"./consts\";\nimport PropertyObject from \"./PropertyObject\";\nimport Scene from \"./Scene\";\nimport SceneItem from \"./SceneItem\";\nimport {\n    isArray, ANIMATION, ARRAY, OBJECT,\n    PROPERTY, STRING, NUMBER, IS_WINDOW, IObject, $, document, isObject, addEvent, removeEvent,\n} from \"@daybrush/utils\";\n\nexport function isPropertyObject(value: any): value is PropertyObject {\n    return value instanceof PropertyObject;\n}\nexport function setAlias(name: string, alias: string[]) {\n    ALIAS[name] = alias;\n}\nexport function setRole(names: string[], isProperty?: boolean, isFixedProperty?: boolean) {\n    const length = names.length;\n    let roles: any = ROLES;\n    let fixed: any = FIXED;\n\n    for (let i = 0; i < length - 1; ++i) {\n        !roles[names[i]] && (roles[names[i]] = {});\n        roles = roles[names[i]];\n        if (isFixedProperty) {\n            !fixed[names[i]] && (fixed[names[i]] = {});\n            fixed = fixed[names[i]];\n        }\n    }\n    isFixedProperty && (fixed[names[length - 1]] = true);\n    roles[names[length - 1]] = isProperty ? true : {};\n}\nexport function getType(value: any) {\n    const type = typeof value;\n\n    if (type === OBJECT) {\n        if (isArray(value)) {\n            return ARRAY;\n        } else if (isPropertyObject(value)) {\n            return PROPERTY;\n        }\n    } else if (type === STRING || type === NUMBER) {\n        return \"value\";\n    }\n    return type;\n}\nexport function toFixed(num: number) {\n    return Math.round(num * MAXIMUM) / MAXIMUM;\n}\nexport function getValueByNames(\n    names: Array<string | number>,\n    properties: IObject<any>, length: number = names.length) {\n    let value = properties;\n\n    for (let i = 0; i < length; ++i) {\n        if (!isObject(value)) {\n            return undefined;\n        }\n        value = value[names[i]];\n    }\n    return value;\n}\nexport function isInProperties(roles: IObject<any>, args: string[], isCheckTrue?: boolean) {\n    const length = args.length;\n    let role: any = roles;\n\n    if (length === 0) {\n        return false;\n    }\n    for (let i = 0; i < length; ++i) {\n        if (role === true) {\n            return false;\n        }\n        role = role[args[i]];\n        if (!role || (!isCheckTrue && role === true)) {\n            return false;\n        }\n    }\n    return true;\n}\nexport function isRole(args: string[], isCheckTrue?: boolean) {\n    return isInProperties(ROLES, args, isCheckTrue);\n}\nexport function isFixed(args: string[]) {\n    return isInProperties(FIXED, args, true);\n}\n\nexport interface IterationInterface {\n    currentTime: number;\n    iterationCount: number;\n    elapsedTime: number;\n}\nexport function setPlayCSS(item: Scene | SceneItem, isActivate: boolean) {\n    item.state[PLAY_CSS] = isActivate;\n}\nexport function isPausedCSS(item: Scene | SceneItem) {\n    return item.state[PLAY_CSS] && item.isPaused();\n}\nexport function isEndedCSS(item: Scene | SceneItem) {\n    return !item.isEnded() && item.state[PLAY_CSS];\n}\n\nexport function exportCSS(id: number | string, css: string) {\n    const styleId = `${PREFIX}STYLE_${toId(id)}`;\n    const styleElement: HTMLElement = $(`#${styleId}`);\n\n    if (styleElement) {\n        styleElement.innerText = css;\n    } else {\n        document.body.insertAdjacentHTML(\"beforeend\",\n            `<style id=\"${styleId}\">${css}</style>`);\n    }\n}\nexport function makeId(selector?: boolean) {\n    for (; ;) {\n        const id = `${Math.floor(Math.random() * 10000000)}`;\n\n        if (!IS_WINDOW || !selector) {\n            return id;\n        }\n        const checkElement = $(`[data-scene-id=\"${id}\"]`);\n\n        if (!checkElement) {\n            return id;\n        }\n    }\n}\nexport function getRealId(item: Scene | SceneItem) {\n    return item.getId() || item.setId(makeId(false)).getId();\n}\nexport function toId(text: number | string) {\n    return `${text}`.match(/[0-9a-zA-Z]+/g).join(\"\");\n}\nexport function playCSS(\n    item: Scene | SceneItem, isExportCSS?: boolean,\n    playClassName?: string, properties: object = {}) {\n    if (!ANIMATION || item.getPlayState() === RUNNING) {\n        return;\n    }\n    const className = playClassName || START_ANIMATION;\n\n    if (isPausedCSS(item)) {\n        item.addPlayClass(true, className, properties);\n    } else {\n        if (item.isEnded()) {\n            item.setTime(0);\n        }\n        isExportCSS && item.exportCSS({ className });\n        const el = item.addPlayClass(false, className, properties);\n\n        if (!el) {\n            return;\n        }\n        addAnimationEvent(item, el);\n        setPlayCSS(item, true);\n    }\n    item.setPlayState(RUNNING);\n}\nexport function findIndex<T>(arr: T[], callback: (element: T) => any, defaultIndex: number = -1): number {\n    const length = arr.length;\n\n    for (let i = 0; i < length; ++i) {\n        if (callback(arr[i])) {\n            return i;\n        }\n    }\n    return defaultIndex;\n}\nexport function find<T>(arr: T[], callback: (element: T) => any, defalutValue?: T): T | undefined {\n    const index = findIndex(arr, callback);\n\n    return index > - 1 ? arr[index] : defalutValue;\n}\nexport function addAnimationEvent(item: Scene | SceneItem, el: Element) {\n    const state = item.state;\n    const duration = item.getDuration();\n    const isZeroDuration = !duration || !isFinite(duration);\n    const animationend = () => {\n        setPlayCSS(item, false);\n        item.finish();\n    };\n    const animationstart = () => {\n        item.trigger(PLAY);\n    };\n    item.once(ENDED, () => {\n        removeEvent(el, \"animationcancel\", animationend);\n        removeEvent(el, \"animationend\", animationend);\n        removeEvent(el, \"animationiteration\", animationiteration);\n        removeEvent(el, \"animationstart\", animationstart);\n    });\n    const animationiteration = ({ elapsedTime }: any) => {\n        const currentTime = elapsedTime;\n        const iterationCount = isZeroDuration ? 0 : (currentTime / duration);\n\n        state[CURRENT_TIME] = currentTime;\n        item.setIteration(iterationCount);\n    };\n    addEvent(el, \"animationcancel\", animationend);\n    addEvent(el, \"animationend\", animationend);\n    addEvent(el, \"animationiteration\", animationiteration);\n    addEvent(el, \"animationstart\", animationstart);\n}\n","import {\n    THRESHOLD,\n    ALTERNATE, ALTERNATE_REVERSE, REVERSE, INFINITE, NORMAL,\n    ITERATION_COUNT, DELAY, FILL_MODE, DIRECTION, PLAY_SPEED,\n    DURATION, EASING, ITERATION_TIME, EASING_NAME, PAUSED,\n    RUNNING, PLAY, TIMEUPDATE, ENDED, PLAY_STATE, PREV_TIME, TICK_TIME, CURRENT_TIME, ITERATION, OPTIONS\n} from \"./consts\";\nimport EventTrigger from \"./EventTrigger\";\nimport { bezier } from \"./easing\";\nimport { toFixed, makeId } from \"./utils\";\nimport { splitUnit, isString, camelize, requestAnimationFrame, isArray } from \"@daybrush/utils\";\nimport {\n    IterationCountType, DirectionType, AnimatorState,\n    IEasingFunction, FillModeType, PlayStateType, EasingType,\n} from \"./types\";\n\nfunction GetterSetter<T extends new (...args: any[]) => {}>(\n    getter: string[], setter: string[], parent: string) {\n    return (constructor: T) => {\n        const prototype = constructor.prototype;\n\n        getter.forEach(name => {\n            prototype[camelize(`get ${name}`)] = function() {\n                return this[parent][name];\n            };\n        });\n        setter.forEach(name => {\n            prototype[camelize(`set ${name}`)] = function(value: any) {\n                this[parent][name] = value;\n                return this;\n            };\n        });\n    };\n}\nfunction tick(animator: Animator, now: number, to?: number) {\n    if (animator.isPaused()) {\n        return;\n    }\n    const state = animator.state;\n    const playSpeed = state[PLAY_SPEED];\n    const prevTime = state[PREV_TIME];\n    const delay = state[DELAY];\n    const tickTime = state[TICK_TIME];\n    const currentTime = tickTime + Math.min(1000, now - prevTime) / 1000 * playSpeed;\n\n    state[PREV_TIME] = now;\n    animator.setTime(currentTime - delay, true);\n    if (to && to * 1000 < now) {\n        animator.pause();\n    }\n    if (state[PLAY_STATE] === PAUSED) {\n        return;\n    }\n\n    requestAnimationFrame((time: number) => {\n        tick(animator, time, to);\n    });\n}\n\nexport function isDirectionReverse(iteration: number, iteraiontCount: IterationCountType, direction: DirectionType) {\n    if (direction === REVERSE) {\n        return true;\n    } else if (iteraiontCount !== INFINITE && iteration === iteraiontCount && iteraiontCount % 1 === 0) {\n        return direction === (iteration % 2 >= 1 ? ALTERNATE_REVERSE : ALTERNATE);\n    }\n    return direction === (iteration % 2 >= 1 ? ALTERNATE : ALTERNATE_REVERSE);\n}\n/**\n* @typedef {Object} AnimatorState The Animator options. Properties used in css animation.\n* @property {number} [duration] The duration property defines how long an animation should take to complete one cycle.\n* @property {\"none\"|\"forwards\"|\"backwards\"|\"both\"} [fillMode] The fillMode property specifies a style for the element when the animation is not playing (before it starts, after it ends, or both).\n* @property {\"infinite\"|number} [iterationCount] The iterationCount property specifies the number of times an animation should be played.\n* @property {array|function} [easing] The easing(timing-function) specifies the speed curve of an animation.\n* @property {number} [delay] The delay property specifies a delay for the start of an animation.\n* @property {\"normal\"|\"reverse\"|\"alternate\"|\"alternate-reverse\"} [direction] The direction property defines whether an animation should be played forwards, backwards or in alternate cycles.\n*/\n\nconst setters = [\"id\", ITERATION_COUNT, DELAY, FILL_MODE,\n    DIRECTION, PLAY_SPEED, DURATION, PLAY_SPEED, ITERATION_TIME, PLAY_STATE];\nconst getters = [...setters, EASING, EASING_NAME];\n\n/**\n* play video, animation, the others\n* @extends EventTrigger\n* @see {@link https://www.w3schools.com/css/css3_animations.asp|CSS3 Animation}\n*/\n@GetterSetter(getters, setters, \"state\")\nclass Animator<T extends AnimatorState = AnimatorState> extends EventTrigger {\n    public state: T;\n\n    /**\n     * @param - animator's options\n     * @example\n  const animator = new Animator({\n      delay: 2,\n      diretion: \"alternate\",\n      duration: 2,\n      fillMode: \"forwards\",\n      iterationCount: 3,\n      easing: Scene.easing.EASE,\n  });\n     */\n    constructor(options?: Partial<T>) {\n        super();\n        this.state = {\n            id: \"\",\n            easing: 0,\n            easingName: \"linear\",\n            iterationCount: 1,\n            delay: 0,\n            fillMode: \"forwards\",\n            direction: NORMAL,\n            playSpeed: 1,\n            currentTime: 0,\n            iterationTime: -1,\n            iteration: 0,\n            tickTime: 0,\n            prevTime: 0,\n            playState: PAUSED,\n            duration: 0,\n        } as T;\n        this.setOptions(options);\n    }\n    /**\n      * set animator's easing.\n      * @param curverArray - The speed curve of an animation.\n      * @return {Animator} An instance itself.\n      * @example\n  animator.({\n      delay: 2,\n      diretion: \"alternate\",\n      duration: 2,\n      fillMode: \"forwards\",\n      iterationCount: 3,\n      easing: Scene.easing.EASE,\n  });\n      */\n    public setEasing(curveArray: [number, number, number, number] | IEasingFunction): this {\n        const easing = isArray(curveArray) ?\n            bezier(curveArray[0], curveArray[1], curveArray[2], curveArray[3]) : curveArray;\n        const easingName = easing[EASING_NAME] || \"linear\";\n\n        const state = this.state;\n\n        state[EASING] = easing;\n        state[EASING_NAME] = easingName;\n        return this;\n    }\n    /**\n      * set animator's options.\n      * @see {@link https://www.w3schools.com/css/css3_animations.asp|CSS3 Animation}\n      * @param - animator's options\n      * @return {Animator} An instance itself.\n      * @example\n  animator.({\n      delay: 2,\n      diretion: \"alternate\",\n      duration: 2,\n      fillMode: \"forwards\",\n      iterationCount: 3,\n      easing: Scene.eaasing.EASE,\n  });\n      */\n    public setOptions(options: Partial<AnimatorState> = {}): this {\n        for (const name in options) {\n            const value = options[name];\n\n            if (name === EASING) {\n                this.setEasing(value);\n                continue;\n            } else if (name === DURATION) {\n                value && this.setDuration(value);\n                continue;\n            }\n            if (OPTIONS.indexOf(name as any) > -1) {\n                this.state[name] = value;\n            }\n        }\n\n        return this;\n    }\n    /**\n      * Get the animator's total duration including delay\n      * @return {number} Total duration\n      * @example\n  animator.getTotalDuration();\n      */\n    public getTotalDuration(): number {\n        return this.getActiveDuration(true);\n    }\n    /**\n      * Get the animator's total duration excluding delay\n      * @return {number} Total duration excluding delay\n      * @example\n  animator.getActiveDuration();\n      */\n    public getActiveDuration(delay?: boolean): number {\n        const state = this.state;\n        const count = state[ITERATION_COUNT];\n        if (count === INFINITE) {\n            return Infinity;\n        }\n        return (delay ? state[DELAY] : 0) + this.getDuration() * count;\n    }\n    /**\n      * Check if the animator has reached the end.\n      * @return {boolean} ended\n      * @example\n  animator.isEnded(); // true or false\n      */\n    public isEnded(): boolean {\n        if (this.state[TICK_TIME] === 0 && this.state[PLAY_STATE] === PAUSED) {\n            return true;\n        } else if (this.getTime() < this.getActiveDuration()) {\n            return false;\n        }\n        return true;\n    }\n    /**\n      *Check if the animator is paused:\n      * @return {boolean} paused\n      * @example\n  animator.isPaused(); // true or false\n      */\n    public isPaused(): boolean {\n        return this.state[PLAY_STATE] === PAUSED;\n    }\n    public start(delay: number = this.state[DELAY]): void {\n        const state = this.state;\n\n        state[PLAY_STATE] = RUNNING;\n        if (state[TICK_TIME] >= delay) {\n            /**\n             * This event is fired when play animator.\n             * @event Animator#play\n             */\n            this.trigger(PLAY);\n        }\n    }\n    /**\n      * play animator\n      * @return {Animator} An instance itself.\n      */\n    public play(toTime?: number) {\n        const state = this.state;\n        const delay = state[DELAY];\n        const currentTime = this.getTime();\n\n        state[PLAY_STATE] = RUNNING;\n\n        if (this.isEnded() && (currentTime === 0 || currentTime >= this.getActiveDuration())) {\n            this.setTime(-delay, true);\n        }\n        state[TICK_TIME] = this.getTime();\n\n        requestAnimationFrame((time: number) => {\n            state[PREV_TIME] = time;\n            tick(this, time, toTime);\n        });\n        this.start();\n        return this;\n    }\n    /**\n      * pause animator\n      * @return {Animator} An instance itself.\n      */\n    public pause(): this {\n        const state = this.state;\n\n        if (state[PLAY_STATE] !== PAUSED) {\n            state[PLAY_STATE] = PAUSED;\n            /**\n             * This event is fired when animator is paused.\n             * @event Animator#paused\n             */\n            this.trigger(PAUSED);\n        }\n        return this;\n    }\n    /**\n       * end animator\n       * @return {Animator} An instance itself.\n      */\n    public finish() {\n        this.setTime(0);\n        this.state[TICK_TIME] = 0;\n        this.end();\n        return this;\n    }\n    /**\n       * end animator\n       * @return {Animator} An instance itself.\n      */\n    public end() {\n        this.pause();\n        /**\n             * This event is fired when animator is ended.\n             * @event Animator#ended\n             */\n        this.trigger(ENDED);\n        return this;\n    }\n    /**\n      * set currentTime\n      * @param {Number|String} time - currentTime\n      * @return {Animator} An instance itself.\n      * @example\n\n  animator.setTime(\"from\"); // 0\n  animator.setTime(\"to\"); // 100%\n  animator.setTime(\"50%\");\n  animator.setTime(10);\n  animator.getTime() // 10\n      */\n    public setTime(time: number | string, isTick?: boolean) {\n        const activeDuration = this.getActiveDuration();\n        const state = this.state;\n        const prevTime = state[TICK_TIME];\n        const delay = state[DELAY];\n        let currentTime = isTick ? (time as number) : this.getUnitTime(time);\n\n        state[TICK_TIME] = delay + currentTime;\n        if (currentTime < 0) {\n            currentTime = 0;\n        } else if (currentTime > activeDuration) {\n            currentTime = activeDuration;\n        }\n        state[CURRENT_TIME] = currentTime;\n        this.calculate();\n\n        if (isTick) {\n            const tickTime = state[TICK_TIME];\n\n            if (prevTime < delay && time >= 0 ||\n                state[PLAY_STATE] !== RUNNING && tickTime >= delay && !this.isEnded()) {\n                this.start(0);\n            }\n            if (tickTime < prevTime || this.isEnded()) {\n                this.end();\n                return;\n            }\n        }\n        if (this.isDelay()) {\n            return this;\n        }\n        /**\n             * This event is fired when the animator updates the time.\n             * @event Animator#timeupdate\n             * @param {Object} param The object of data to be sent to an event.\n             * @param {Number} param.currentTime The total time that the animator is running.\n             * @param {Number} param.time The iteration time during duration that the animator is running.\n             * @param {Number} param.iterationCount The iteration count that the animator is running.\n             */\n        this.trigger(TIMEUPDATE, {\n            currentTime,\n            time: this.getIterationTime(),\n            iterationCount: state[ITERATION],\n        });\n\n        return this;\n    }\n    /**\n      * Get the animator's current time\n      * @return {number} current time\n      * @example\n  animator.getTime();\n      */\n    public getTime(): number {\n        return this.state[CURRENT_TIME];\n    }\n    public getUnitTime(time: string | number) {\n        if (isString(time)) {\n            const duration = this.getDuration() || 100;\n\n            if (time === \"from\") {\n                return 0;\n            } else if (time === \"to\") {\n                return duration;\n            }\n            const { unit, value } = splitUnit(time);\n\n            if (unit === \"%\") {\n                !this.getDuration() && (this.state[DURATION] = duration);\n                return toFixed(parseFloat(time) / 100 * duration);\n            } else if (unit === \">\") {\n                return value + THRESHOLD;\n            } else {\n                return value;\n            }\n        } else {\n            return toFixed(time);\n        }\n    }\n    /**\n       * Check if the current state of animator is delayed.\n       * @return {boolean} check delay state\n       */\n    public isDelay() {\n        const state = this.state;\n        const delay = state[DELAY];\n        const tickTime = state[TICK_TIME];\n\n        return delay > 0 && (tickTime < delay);\n    }\n    public setIteration(iterationCount: number): this {\n        const state = this.state;\n        const passIterationCount = Math.floor(iterationCount);\n        const maxIterationCount = state[ITERATION_COUNT] === INFINITE ? Infinity : state[ITERATION_COUNT];\n\n        if (state[ITERATION] < passIterationCount && passIterationCount < maxIterationCount) {\n            /**\n                  * The event is fired when an iteration of an animation ends.\n                  * @event Animator#iteration\n                  * @param {Object} param The object of data to be sent to an event.\n                  * @param {Number} param.currentTime The total time that the animator is running.\n                  * @param {Number} param.iterationCount The iteration count that the animator is running.\n                  */\n            this.trigger(\"iteration\", {\n                currentTime: state[CURRENT_TIME],\n                iterationCount: passIterationCount,\n            });\n        }\n        state[ITERATION] = iterationCount;\n        return this;\n    }\n    protected calculate() {\n        const state = this.state;\n        const iterationCount = state[ITERATION_COUNT];\n        const fillMode = state[FILL_MODE];\n        const direction = state[DIRECTION];\n        const duration = this.getDuration();\n        const time = this.getTime();\n        const iteration = duration === 0 ? 0 : time / duration;\n        let currentIterationTime = duration ? time % duration : 0;\n\n        if (!duration) {\n            this.setIterationTime(0);\n            return this;\n        }\n        this.setIteration(iteration);\n\n        // direction : normal, reverse, alternate, alternate-reverse\n        // fillMode : forwards, backwards, both, none\n        const isReverse = isDirectionReverse(iteration, iterationCount, direction);\n\n        const isFiniteDuration = isFinite(duration);\n        if (isFiniteDuration && isReverse) {\n            currentIterationTime = duration - currentIterationTime;\n        }\n        if (isFiniteDuration && iterationCount !== INFINITE) {\n            const isForwards = fillMode === \"both\" || fillMode === \"forwards\";\n\n            // fill forwards\n            if (iteration >= iterationCount) {\n                currentIterationTime = duration * (isForwards ? (iterationCount % 1) || 1 : 0);\n                isReverse && (currentIterationTime = duration - currentIterationTime);\n            }\n        }\n        this.setIterationTime(currentIterationTime);\n        return this;\n    }\n}\n/**\n * Specifies the unique indicator of the animator\n * @method Animator#setId\n * @param {number | string} - String or number of id to be set in the animator\n * @return {Animator} An instance itself.\n */\n/**\n * Specifies the unique indicator of the animator\n * @method Animator#getId\n * @return {number | string} the indicator of the item.\n */\n/**\n * Get a delay for the start of an animation.\n * @method Animator#getDelay\n * @return {number} delay\n */\n/**\n * Set a delay for the start of an animation.\n * @method Animator#setDelay\n * @param {number} delay - delay\n * @return {Animator} An instance itself.\n */\n/**\n * Get fill mode for the item when the animation is not playing (before it starts, after it ends, or both)\n * @method Animator#getFillMode\n * @return {FillModeType} fillMode\n */\n/**\n * Set fill mode for the item when the animation is not playing (before it starts, after it ends, or both)\n * @method Animator#setFillMode\n * @param {FillModeType} fillMode - fillMode\n * @return {Animator} An instance itself.\n */\n/**\n * Get the number of times an animation should be played.\n * @method Animator#getIterationCount\n * @return {IterationCountType} iterationCount\n */\n/**\n * Set the number of times an animation should be played.\n * @method Animator#setIterationCount\n * @param {IterationCountType} iterationCount - iterationCount\n * @return {Animator} An instance itself.\n */\n/**\n * Get whether an animation should be played forwards, backwards or in alternate cycles.\n * @method Animator#getDirection\n * @return {DirectionType} direction\n */\n/**\n * Set whether an animation should be played forwards, backwards or in alternate cycles.\n * @method Animator#setDirection\n * @param {DirectionType} direction - direction\n * @return {Animator} An instance itself.\n */\n/**\n * Get whether the animation is running or paused.\n * @method Animator#getPlayState\n * @return {PlayStateType} playState\n */\n/**\n * Set whether the animation is running or paused.\n * @method Animator#setPlayState\n * @param {PlayStateType} playState - playState\n * @return {Animator} An instance itself.\n */\n/**\n * Get the animator's play speed\n * @method Animator#getPlaySpeed\n * @return {number} playSpeed\n */\n/**\n * Set the animator's play speed\n * @method Animator#setPlaySpeed\n * @param {number} playSpeed - playSpeed\n * @return {Animator} An instance itself.\n */\n/**\n * Get how long an animation should take to complete one cycle.\n * @method Animator#getDuration\n * @return {number} duration\n */\n/**\n * Set how long an animation should take to complete one cycle.\n * @method Animator#setDuration\n * @param {number} duration - duration\n * @return {Animator} An instance itself.\n */\n/**\n * Get the speed curve of an animation.\n * @method Animator#getEasing\n * @return {EasingType} easing\n */\n/**\n * Get the speed curve's name\n * @method Animator#getEasingName\n * @return {string} the curve's name.\n */\n/**\n\t* Get the animator's current iteration time\n\t* @method Animator#getIterationTime\n\t* @return {number} current iteration time\n\t* @example\nanimator.getIterationTime();\n\t*/\n\n// tslint:disable-next-line:interface-name\ninterface Animator<T extends AnimatorState> {\n    setId(id: number | string): this;\n    getId(): number | string;\n    getIterationTime(): number;\n    setIterationTime(time: number): this;\n    setDelay(delay: number): this;\n    getDelay(): number;\n    setFillMode(fillMode: FillModeType): this;\n    getFillMode(): FillModeType;\n    setIterationCount(iterationCount: IterationCountType): this;\n    getIterationCount(): IterationCountType;\n    setDirection(direction: DirectionType): this;\n    getDirection(): DirectionType;\n    setPlayState(playState: PlayStateType): this;\n    getPlayState(): PlayStateType;\n    setPlaySpeed(playSpeed: number): this;\n    getPlaySpeed(): number;\n    setDuration(duration: number): this;\n    getDuration(): number;\n    getEasing(): EasingType;\n    getEasingName(): string;\n}\nexport default Animator;\n","/**\n* @namespace\n* @name Property\n*/\n\nimport PropertyObject from \"../PropertyObject\";\nimport {\n  COLOR_MODELS, isString,\n  splitComma, splitSpace, stringToRGBA,\n  RGBA, splitBracket, IObject, isArray\n} from \"@daybrush/utils\";\n\nexport function splitStyle(str: string) {\n  const properties = str.split(\";\");\n  const obj: IObject<string | PropertyObject> = {};\n  let length = properties.length;\n\n  for (let i = 0; i < length; ++i) {\n    const matches = /([^:]*):([\\S\\s]*)/g.exec(properties[i]);\n\n    if (!matches || matches.length < 3 || !matches[1]) {\n      --length;\n      continue;\n    }\n    obj[matches[1].trim()] = toPropertyObject(matches[2].trim());\n  }\n  return {styles: obj, length};\n}\n/**\n* convert array to PropertyObject[type=color].\n* default model \"rgba\"\n* @memberof Property\n* @function arrayToColorObject\n* @param {Array|PropertyObject} value ex) [0, 0, 0, 1]\n* @return {PropertyObject} PropertyObject[type=color]\n* @example\narrayToColorObject([0, 0, 0])\n// => PropertyObject(type=\"color\", model=\"rgba\", value=[0, 0, 0, 1], separator=\",\")\n*/\nexport function arrayToColorObject(arr: number[]) {\n  const model = RGBA;\n\n  if (arr.length === 3) {\n    arr[3] = 1;\n  }\n  return new PropertyObject(arr, {\n    model,\n    separator: \",\",\n    type: \"color\",\n    prefix: `${model}(`,\n    suffix: \")\",\n  });\n}\n/**\n* convert text with parentheses to object.\n* @memberof Property\n* @function stringToBracketObject\n* @param {String} value ex) \"rgba(0,0,0,1)\"\n* @return {PropertyObject} PropertyObject\n* @example\nstringToBracketObject(\"abcde(0, 0, 0,1)\")\n// => PropertyObject(model=\"abcde\", value=[0, 0, 0,1], separator=\",\")\n*/\nexport function stringToBracketObject(text: string) {\n  // [prefix, value, other]\n  const { prefix: model, value, suffix: afterModel } = splitBracket(text);\n\n  if (typeof value === \"undefined\") {\n    return text;\n  }\n  if (COLOR_MODELS.indexOf(model) !== -1) {\n    return arrayToColorObject(stringToRGBA(text));\n  }\n  // divide comma(,)\n  const obj = toPropertyObject(value);\n\n  let arr = [value];\n  let separator = \",\";\n  let prefix = `${model}(`;\n  let suffix = `)${afterModel}`;\n\n  if (obj instanceof PropertyObject) {\n    separator = obj.separator;\n    arr = obj.value;\n    prefix += obj.prefix;\n    suffix = obj.suffix + suffix;\n  }\n  return new PropertyObject(arr, {\n    separator,\n    model,\n    prefix,\n    suffix,\n  });\n}\n\nexport function arrayToPropertyObject(arr: any[], separator: string) {\n  return new PropertyObject(arr, {\n    type: \"array\",\n    separator,\n  });\n}\n\n/**\n* convert text with parentheses to PropertyObject[type=color].\n* If the values are not RGBA model, change them RGBA mdoel.\n* @memberof Property\n* @function stringToColorObject\n* @param {String|PropertyObject} value ex) \"rgba(0,0,0,1)\"\n* @return {PropertyObject} PropertyObject[type=color]\n* @example\nstringToColorObject(\"rgba(0, 0, 0,1)\")\n// => PropertyObject(type=\"color\", model=\"rgba\", value=[0, 0, 0,1], separator=\",\")\n*/\nexport function stringToColorObject(value: string): string | PropertyObject {\n  const result = stringToRGBA(value);\n\n  return result ? arrayToColorObject(result) : value;\n}\n/**\n* convert CSS Value to PropertyObject\n* @memberof Property\n* @function toPropertyObject\n* @param {String} value it's text contains the array.\n* @return {String} Not Array, Not Separator, Only Number & Unit\n* @return {PropertyObject} Array with Separator.\n* @see referenced regular expression {@link http://stackoverflow.com/questions/20215440/parse-css-gradient-rule-with-javascript-regex}\n* @example\ntoPropertyObject(\"1px solid #000\");\n// => PropertyObject([\"1px\", \"solid\", rgba(0, 0, 0, 1)])\n*/\nexport function toPropertyObject(value: any[]): PropertyObject;\nexport function toPropertyObject(value: IObject<any>): IObject<any>;\nexport function toPropertyObject(value: string): PropertyObject | string;\nexport function toPropertyObject(value: string | IObject<any> | any[]) {\n  if (!isString(value)) {\n    if (isArray(value)) {\n      return arrayToPropertyObject(value, \",\");\n    }\n    return value;\n  }\n  let values = splitComma(value);\n\n  if (values.length > 1) {\n    return arrayToPropertyObject(values.map(v => toPropertyObject(v)), \",\");\n  }\n  values = splitSpace(value);\n  if (values.length > 1) {\n    return arrayToPropertyObject(values.map(v => toPropertyObject(v)), \" \");\n  }\n  values = /^(['\"])([^'\"]*)(['\"])$/g.exec(value);\n  if (values && values[1] === values[3]) {\n    // Quotes\n    return new PropertyObject([toPropertyObject(values[2])], {\n      prefix: values[1],\n      suffix: values[1],\n    });\n  } else if (value.indexOf(\"(\") !== -1) {\n    // color\n    return stringToBracketObject(value);\n  } else if (value.charAt(0) === \"#\") {\n    return stringToColorObject(value);\n  }\n  return value;\n}\nexport function toObject(object: PropertyObject, result: IObject<any> = {}) {\n  const model = object.model;\n\n  if (model) {\n    object.setOptions({\n      model: \"\",\n      suffix: \"\",\n      prefix: \"\",\n    });\n    const value = object.size() > 1 ? object : object.get(0);\n\n    result[model] = value;\n  } else {\n    object.forEach(obj => {\n      toObject(obj, result);\n    });\n  }\n  return result;\n}\n","import {\n    ALIAS, TIMING_FUNCTION, TRANSFORM_NAME, EASING_NAME\n} from \"./consts\";\nimport { isRole, getType, isPropertyObject, getValueByNames, isFixed } from \"./utils\";\nimport { toPropertyObject, splitStyle, toObject } from \"./utils/property\";\nimport {\n    isObject, isArray, isString,\n    ANIMATION, TRANSFORM, FILTER, PROPERTY, FUNCTION, ARRAY, OBJECT, IObject, isUndefined\n} from \"@daybrush/utils\";\nimport { NameType } from \"./types\";\n\nfunction toInnerProperties(obj: IObject<string>) {\n    if (!obj) {\n        return \"\";\n    }\n    const arrObj = [];\n\n    for (const name in obj) {\n        arrObj.push(`${name.replace(/\\d/g, \"\")}(${obj[name]})`);\n    }\n    return arrObj.join(\" \");\n}\n\n/* eslint-disable */\nfunction clone(target: IObject<any>, toValue = false) {\n    return merge({}, target, toValue);\n}\nfunction merge(to: IObject<any>, from: IObject<any>, toValue = false) {\n    for (const name in from) {\n        const value = from[name];\n        const type = getType(value);\n\n        if (type === PROPERTY) {\n            to[name] = toValue ? value.toValue() : value.clone();\n        } else if (type === FUNCTION) {\n            to[name] = toValue ? getValue([name], value) : value;\n        } else if (type === ARRAY) {\n            to[name] = value.slice();\n        } else if (type === OBJECT) {\n            if (isObject(to[name]) && !isPropertyObject(to[name])) {\n                merge(to[name], value, toValue);\n            } else {\n                to[name] = clone(value, toValue);\n            }\n        } else {\n            to[name] = from[name];\n        }\n    }\n    return to;\n}\n/* eslint-enable */\n\nfunction getPropertyName(args: NameType[]) {\n    return args[0] in ALIAS ? ALIAS[args[0]] : args;\n}\nfunction getValue(names: NameType[], value: any): any {\n    const type = getType(value);\n\n    if (type === PROPERTY) {\n        return value.toValue();\n    } else if (type === FUNCTION) {\n        if (names[0] !== TIMING_FUNCTION) {\n            return getValue(names, value());\n        }\n    } else if (type === OBJECT) {\n        return clone(value, true);\n    }\n    return value;\n}\n/**\n* Animation's Frame\n*/\nclass Frame {\n    public properties: IObject<any>;\n    /**\n     * @param - properties\n     * @example\n  const frame = new Scene.Frame({\n      display: \"none\"\n      transform: {\n          translate: \"50px\",\n          scale: \"5, 5\",\n      }\n  });\n     */\n    constructor(properties: IObject<any> = {}) {\n        this.properties = {};\n        this.set(properties);\n    }\n    /**\n      * get property value\n      * @param {...Number|String|PropertyObject} args - property name or value\n      * @example\n      frame.get(\"display\") // => \"none\", \"block\", ....\n      frame.get(\"transform\", \"translate\") // => \"10px,10px\"\n      */\n    public get(...args: NameType[]) {\n        const value = this.raw(...args);\n\n        return getValue(getPropertyName(args), value);\n    }\n\n    public raw(...args: NameType[]) {\n        return getValueByNames(getPropertyName(args), this.properties);\n    }\n    /**\n      * remove property value\n      * @param {...String} args - property name\n      * @return {Frame} An instance itself\n      * @example\n      frame.remove(\"display\")\n      */\n    public remove(...args: NameType[]) {\n        const params = getPropertyName(args);\n        const length = params.length;\n\n        if (!length) {\n            return this;\n        }\n        const value = getValueByNames(params, this.properties, length - 1);\n\n        if (isObject(value)) {\n            delete value[params[length - 1]];\n        }\n        return this;\n    }\n    /**\n      * set property\n      * @param {...Number|String|PropertyObject} args - property names or values\n      * @return {Frame} An instance itself\n      * @example\n  // one parameter\n  frame.set({\n      display: \"none\",\n      transform: {\n          translate: \"10px, 10px\",\n          scale: \"1\",\n      },\n      filter: {\n          brightness: \"50%\",\n          grayscale: \"100%\"\n      }\n  });\n\n  // two parameters\n  frame.set(\"transform\", {\n      translate: \"10px, 10px\",\n      scale: \"1\",\n  });\n\n  // three parameters\n  frame.set(\"transform\", \"translate\", \"50px\");\n    */\n    public set(...args: any[]) {\n        const self = this;\n        const length = args.length;\n        const params = args.slice(0, -1);\n        const value = args[length - 1];\n\n        if (params[0] in ALIAS) {\n            self._set(ALIAS[params[0]], value);\n        } else if (length === 2 && isArray(params[0])) {\n            self._set(params[0], value);\n        } else if (isArray(value)) {\n            self._set(params, value);\n        } else if (isPropertyObject(value)) {\n            if (isRole(params)) {\n                self.set(...params, toObject(value));\n            } else {\n                self._set(params, value);\n            }\n        } else if (isObject(value)) {\n            for (const name in value) {\n                self.set(...params, name, value[name]);\n            }\n        } else if (isString(value)) {\n            if (isRole(params, true)) {\n                if (isFixed(params) || !isRole(params)) {\n                    this._set(params, value);\n                } else  {\n                    const obj = toPropertyObject(value);\n\n                    if (isObject(obj)) {\n                        self.set(...params, obj);\n                    }\n                }\n                return this;\n            } else {\n                const { styles, length: stylesLength } = splitStyle(value);\n\n                for (const name in styles) {\n                    self.set(...params, name, styles[name]);\n                }\n                if (stylesLength) {\n                    return this;\n                }\n            }\n            self._set(params, value);\n        } else {\n            self._set(params, value);\n        }\n        return self;\n    }\n    /**\n      * check that has property.\n      * @param {...String} args - property name\n      * @example\n      frame.has(\"property\", \"display\") // => true or false\n      */\n    public has(...args: NameType[]) {\n        const params = getPropertyName(args);\n        const length = params.length;\n\n        if (!length) {\n            return false;\n        }\n        return !isUndefined(getValueByNames(params, this.properties, length));\n    }\n    /**\n      * clone frame.\n      * @return {Frame} An instance of clone\n      * @example\n      frame.clone();\n      */\n    public clone() {\n        const frame = new Frame();\n\n        return frame.merge(this);\n    }\n    /**\n      * merge one frame to other frame.\n      * @param - target frame.\n      * @return {Frame} An instance itself\n      * @example\n      frame.merge(frame2);\n      */\n    public merge(frame: Frame) {\n        const properties = this.properties;\n        const frameProperties = frame.properties;\n\n        if (!frameProperties) {\n            return this;\n        }\n        merge(properties, frameProperties);\n\n        return this;\n    }\n    /**\n      * Specifies an css object that coverted the frame.\n      * @return {object} cssObject\n      */\n    public toCSSObject() {\n        const properties = this.get();\n        const cssObject: IObject<string> = {};\n\n        for (const name in properties) {\n            if (isRole([name], true)) {\n                continue;\n            }\n            const value = properties[name];\n\n            if (name === TIMING_FUNCTION) {\n                cssObject[TIMING_FUNCTION.replace(\"animation\", ANIMATION)] =\n                    (isString(value) ? value : value[EASING_NAME]) || \"initial\";\n                continue;\n            }\n            cssObject[name] = value;\n        }\n        const transform = toInnerProperties(properties[TRANSFORM_NAME]);\n        const filter = toInnerProperties(properties.filter);\n\n        TRANSFORM && transform && (cssObject[TRANSFORM] = transform);\n        FILTER && filter && (cssObject[FILTER] = filter);\n        return cssObject;\n    }\n    /**\n      * Specifies an css text that coverted the frame.\n      * @return {string} cssText\n      */\n    public toCSS() {\n        const cssObject = this.toCSSObject();\n        const cssArray = [];\n\n        for (const name in cssObject) {\n            cssArray.push(`${name}:${cssObject[name]};`);\n        }\n        return cssArray.join(\"\");\n    }\n    private _set(args: NameType[], value: any) {\n        let properties = this.properties;\n        const length = args.length;\n\n        for (let i = 0; i < length - 1; ++i) {\n            const name = args[i];\n\n            !(name in properties) && (properties[name] = {});\n            properties = properties[name];\n        }\n        if (!length) {\n            return;\n        }\n        properties[args[length - 1]] = isString(value) ? toPropertyObject(value) : value;\n    }\n}\nexport default Frame;\n","\nimport PropertyObject from \"../PropertyObject\";\nimport { getType } from \"../utils\";\nimport { toPropertyObject } from \"./property\";\nimport { splitUnit, PROPERTY, FUNCTION, ARRAY } from \"@daybrush/utils\";\nimport { EasingType } from \"../types\";\n\nfunction dotArray(a1: any[], a2: any, b1: number, b2: number): any {\n  const length = a2.length;\n\n  return a1.map((v1, i) => {\n    if (i >= length) {\n      return v1;\n    } else {\n      return dot(v1, a2[i], b1, b2);\n    }\n  });\n}\n\nfunction dotColor(color1: PropertyObject, color2: PropertyObject, b1: number, b2: number) {\n  // convert array to PropertyObject(type=color)\n  const value1 = color1.value;\n  const value2 = color2.value;\n  // If the model name is not same, the inner product is impossible.\n  const model1 = color1.model;\n  const model2 = color2.model;\n\n  if (model1 !== model2) {\n    // It is recognized as a string.\n    return dot(color1.toValue(), color2.toValue(), b1, b2);\n  }\n  if (value1.length === 3) {\n    value1[3] = 1;\n  }\n  if (value2.length === 3) {\n    value2[3] = 1;\n  }\n  const v = dotArray(value1, value2, b1, b2);\n  const colorModel = model1;\n\n  for (let i = 0; i < 3; ++i) {\n    v[i] = parseInt(v[i], 10);\n  }\n  const object = new PropertyObject(v, {\n    type: \"color\",\n    model: colorModel,\n    prefix: `${colorModel}(`,\n    suffix: \")\",\n  });\n\n  return object;\n}\n\nfunction dotObject(a1: PropertyObject, a2: PropertyObject, b1: number, b2: number) {\n  const a1Type = a1.type;\n\n  if (a1Type === \"color\") {\n    return dotColor(a1, a2, b1, b2);\n  }\n  const value1 = a1.value;\n  const value2 = a2.value;\n  const arr = dotArray(value1, value2, b1, b2);\n\n  return new PropertyObject(arr, {\n    type: a1Type,\n    separator: a1.separator || a2.separator,\n    prefix: a1.prefix || a2.prefix,\n    suffix: a1.suffix || a2.suffix,\n    model: a1.model || a2.model,\n  });\n}\n/**\n* The dot product of a1 and a2 for the b1 and b2.\n* @memberof Dot\n* @function dot\n* @param {String|Number|PropertyObject} a1 value1\n* @param {String|Number|PropertyObject} a2 value2\n* @param {Number} b1 b1 ratio\n* @param {Number} b2 b2 ratio\n* @return {String} Not Array, Not Separator, Only Number & Unit\n* @return {PropertyObject} Array with Separator.\n* @example\ndot(1, 3, 0.3, 0.7);\n// => 1.6\n*/\nexport function dot(a1: any, a2: any, b1: number, b2: number): any {\n  if (b2 === 0) {\n    return a2;\n  } else if (b1 === 0 || b1 + b2 === 0) {\n    // prevent division by zero.\n    return a1;\n  }\n  // dot Object\n\n  const type1 = getType(a1);\n  const type2 = getType(a2);\n  const isFunction1 = type1 === FUNCTION;\n  const isFunction2 = type2 === FUNCTION;\n\n  if (isFunction1 || isFunction2) {\n    return () => {\n      return dot(isFunction1 ? toPropertyObject(a1()) : a1, isFunction2 ? toPropertyObject(a2()) : a2, b1, b2);\n    };\n  } else if (type1 === type2) {\n    if (type1 === PROPERTY) {\n      return dotObject(a1, a2, b1, b2);\n    } else if (type1 === ARRAY) {\n      return dotArray(a1, a2, b1, b2);\n    } else if (type1 !== \"value\") {\n      return a1;\n    }\n  } else {\n    return a1;\n  }\n  const v1 = splitUnit(`${a1}`);\n  const v2 = splitUnit(`${a2}`);\n  let v;\n\n  // 숫자가 아닐경우 첫번째 값을 반환 b2가 0일경우 두번째 값을 반환\n  if (isNaN(v1.value) || isNaN(v2.value)) {\n    return a1;\n  } else {\n    v = dotNumber(v1.value, v2.value, b1, b2);\n  }\n  const prefix = v1.prefix || v2.prefix;\n  const unit = v1.unit || v2.unit;\n\n  if (!prefix && !unit) {\n    return v;\n  }\n  return prefix + v + unit;\n}\nexport function dotNumber(a1: number, a2: number, b1: number, b2: number) {\n  return (a1 * b2 + a2 * b1) / (b1 + b2);\n}\nexport function dotValue(\n  time: number,\n  prevTime: number,\n  nextTime: number,\n  prevValue: any,\n  nextValue: any,\n  easing?: EasingType) {\n  if (time === prevTime) {\n    return prevValue;\n  } else if (time === nextTime) {\n    return nextValue;\n  } else if (!easing) {\n    return dot(prevValue, nextValue, time - prevTime, nextTime - time);\n  }\n  const ratio = easing((time - prevTime) / (nextTime - prevTime));\n  const value = dot(prevValue, nextValue, ratio, 1 - ratio);\n\n  return value;\n}\n","import Animator, { isDirectionReverse } from \"./Animator\";\nimport Frame from \"./Frame\";\nimport {\n    toFixed,\n    isFixed,\n    playCSS,\n    toId,\n    exportCSS,\n    getRealId,\n    makeId,\n    isPausedCSS,\n    isRole,\n    isInProperties,\n    getValueByNames,\n    isEndedCSS,\n    setPlayCSS,\n    find,\n    findIndex,\n} from \"./utils\";\nimport { dotValue, dotNumber } from \"./utils/dot\";\nimport {\n    START_ANIMATION,\n    PREFIX, THRESHOLD,\n    TIMING_FUNCTION, ALTERNATE, ALTERNATE_REVERSE, NORMAL, INFINITE,\n    REVERSE, EASING, FILL_MODE, DIRECTION, ITERATION_COUNT,\n    EASING_NAME, DELAY, PLAY_SPEED, DURATION, PAUSE_ANIMATION, DATA_SCENE_ID, PLAY_CSS, SELECTOR, ROLES, CURRENT_TIME\n} from \"./consts\";\nimport {\n    isObject, isArray, isUndefined, decamelize,\n    ANIMATION, fromCSS, addClass, removeClass, hasClass,\n    KEYFRAMES, requestAnimationFrame, isFunction,\n    IObject, $, splitComma, toArray, isString, IArrayFormat, TRANSFORM\n} from \"@daybrush/utils\";\nimport {\n    NameType, RoleObject, AnimateElement, AnimatorState,\n    SceneItemState, SceneItemOptions, EasingType, PlayCondition, DirectionType\n} from \"./types\";\n\nfunction getNearTimeIndex(times: number[], time: number) {\n    const length = times.length;\n\n    for (let i = 0; i < length; ++i) {\n        if (times[i] === time) {\n            return [i, i];\n        } else if (times[i] > time) {\n            return [i > 0 ? i - 1 : 0, i];\n        }\n    }\n    return [length - 1, length - 1];\n}\nfunction makeAnimationProperties(properties: object) {\n    const cssArray = [];\n\n    for (const name in properties) {\n        cssArray.push(`${ANIMATION}-${decamelize(name)}:${properties[name]};`);\n    }\n    return cssArray.join(\"\");\n}\nfunction isPureObject(obj: any): obj is object {\n    return isObject(obj) && obj.constructor === Object;\n}\nfunction getNames(names: IObject<any>, stack: string[]) {\n    let arr: string[][] = [];\n\n    if (isPureObject(names)) {\n        for (const name in names) {\n            stack.push(name);\n            arr = arr.concat(getNames(names[name], stack));\n            stack.pop();\n        }\n    } else {\n        arr.push(stack.slice());\n    }\n    return arr;\n}\nfunction updateFrame(names: IObject<any>, properties: IObject<any>) {\n    for (const name in properties) {\n        const value = properties[name];\n\n        if (!isPureObject(value)) {\n            names[name] = true;\n            continue;\n        }\n        if (!isObject(names[name])) {\n            names[name] = {};\n        }\n        updateFrame(names[name], properties[name]);\n    }\n    return names;\n}\nfunction addTime(times: number[], time: number) {\n    const length = times.length;\n    for (let i = 0; i < length; ++i) {\n        if (time < times[i]) {\n            times.splice(i, 0, time);\n            return;\n        }\n    }\n    times[length] = time;\n}\nfunction addEntry(entries: number[][], time: number, keytime: number) {\n    const prevEntry = entries[entries.length - 1];\n\n    (!prevEntry || prevEntry[0] !== time || prevEntry[1] !== keytime) &&\n        entries.push([toFixed(time), toFixed(keytime)]);\n}\nexport function getEntries(times: number[], states: AnimatorState[]) {\n    let entries = times.map(time => ([time, time]));\n    let nextEntries = [];\n\n    states.forEach(state => {\n        const iterationCount = state[ITERATION_COUNT] as number;\n        const delay = state[DELAY];\n        const playSpeed = state[PLAY_SPEED];\n        const direction = state[DIRECTION];\n        const intCount = Math.ceil(iterationCount);\n        const currentDuration = entries[entries.length - 1][0];\n        const length = entries.length;\n        const lastTime = currentDuration * iterationCount;\n\n        for (let i = 0; i < intCount; ++i) {\n            const isReverse =\n                direction === REVERSE ||\n                direction === ALTERNATE && i % 2 ||\n                direction === ALTERNATE_REVERSE && !(i % 2);\n\n            for (let j = 0; j < length; ++j) {\n                const entry = entries[isReverse ? length - j - 1 : j];\n                const time = entry[1];\n                const currentTime = currentDuration * i + (isReverse ? currentDuration - entry[0] : entry[0]);\n                const prevEntry = entries[isReverse ? length - j : j - 1];\n\n                if (currentTime > lastTime) {\n                    if (j !== 0) {\n                        const prevTime = currentDuration * i +\n                            (isReverse ? currentDuration - prevEntry[0] : prevEntry[0]);\n                        const divideTime = dotNumber(prevEntry[1], time, lastTime - prevTime, currentTime - lastTime);\n\n                        addEntry(nextEntries, (delay + currentDuration * iterationCount) / playSpeed, divideTime);\n                    }\n                    break;\n                } else if (currentTime === lastTime && nextEntries[nextEntries.length - 1][0] === lastTime + delay) {\n                    break;\n                }\n                addEntry(nextEntries, (delay + currentTime) / playSpeed, time);\n            }\n        }\n        // delay time\n        delay && nextEntries.unshift([0, nextEntries[0][1]]);\n\n        entries = nextEntries;\n        nextEntries = [];\n    });\n\n    return entries;\n}\n/**\n* manage Frame Keyframes and play keyframes.\n* @extends Animator\n* @example\nconst item = new SceneItem({\n\t0: {\n\t\tdisplay: \"none\",\n\t},\n\t1: {\n\t\tdisplay: \"block\",\n\t\topacity: 0,\n\t},\n\t2: {\n\t\topacity: 1,\n\t}\n});\n*/\nclass SceneItem extends Animator<SceneItemState> {\n    public times: number[] = [];\n    public items: IObject<Frame> = {};\n    public names: RoleObject = {};\n    public elements: AnimateElement[] = [];\n    public temp: Frame;\n    private needUpdate: boolean = false;\n    private target: any;\n    private targetFunc: (frame: Frame) => void;\n\n    /**\n      * @param - properties\n      * @param - options\n      * @example\n      const item = new SceneItem({\n          0: {\n              display: \"none\",\n          },\n          1: {\n              display: \"block\",\n              opacity: 0,\n          },\n          2: {\n              opacity: 1,\n          }\n      });\n       */\n    constructor(properties?: IObject<any>, options?: Partial<SceneItemOptions>) {\n        super();\n        this.load(properties, options);\n    }\n    public getDuration() {\n        const times = this.times;\n        const length = times.length;\n\n        return Math.max(this.state[DURATION], length === 0 ? 0 : times[length - 1]);\n    }\n    /**\n      * get size of list\n      * @return {Number} length of list\n      */\n    public size() {\n        return this.times.length;\n    }\n    public setDuration(duration: number) {\n        if (!duration) {\n            return this;\n        }\n        const originalDuration = this.getDuration();\n\n        if (originalDuration > 0) {\n            const ratio = duration / originalDuration;\n            const { times, items } = this;\n            const obj: IObject<Frame> = {};\n\n            this.times = times.map(time => {\n                const time2 = toFixed(time * ratio);\n\n                obj[time2] = items[time];\n\n                return time2;\n            });\n            this.items = obj;\n        }\n        super.setDuration(toFixed(duration));\n        return this;\n    }\n    public setId(id?: number | string) {\n        const state = this.state;\n\n        state.id = id || makeId(!!length);\n        const elements = this.elements;\n\n        if (elements.length && !state[SELECTOR]) {\n            const sceneId = toId(this.getId());\n\n            state[SELECTOR] = `[${DATA_SCENE_ID}=\"${sceneId}\"]`;\n            elements.forEach(element => {\n                element.setAttribute(DATA_SCENE_ID, sceneId);\n            });\n        }\n        return this;\n    }\n\n    /**\n      * Set properties to the sceneItem at that time\n      * @param {Number} time - time\n      * @param {...String|Object} [properties] - property names or values\n      * @return {SceneItem} An instance itself\n      * @example\n  item.set(0, \"a\", \"b\") // item.getFrame(0).set(\"a\", \"b\")\n  console.log(item.get(0, \"a\")); // \"b\"\n      */\n    public set(time: any, ...args: any[]) {\n        if (isArray(time)) {\n            const length = time.length;\n\n            for (let i = 0; i < length; ++i) {\n                const t = length === 1 ? 0 : this.getUnitTime(`${i / (length - 1) * 100}%`);\n\n                this.set(t, time[i]);\n            }\n        } else if (isObject(time)) {\n            for (const t in time) {\n                const value = time[t];\n                const realTime = this.getUnitTime(t);\n\n                if (isNaN(realTime)) {\n                    getNames(value, [t]).forEach(names => {\n                        const innerValue = getValueByNames(names.slice(1), value);\n                        const arr = isArray(innerValue) ?\n                        innerValue : [getValueByNames(names, this.target), innerValue];\n                        const length = arr.length;\n\n                        for (let i = 0; i < length; ++i) {\n                            this.newFrame(`${i / (length - 1) * 100}%`).set(names, arr[i]);\n                        }\n                    });\n                } else {\n                    this.set(realTime, value);\n                }\n            }\n        } else {\n            const value = args[0];\n\n            if (value instanceof Frame) {\n                this.setFrame(time, value);\n            } else if (value instanceof SceneItem) {\n                const delay = value.getDelay();\n                const realTime = this.getUnitTime(time);\n                const frames = value.toObject(!this.hasFrame(realTime + delay), realTime);\n\n                for (const frameTime in frames) {\n                    this.set(frameTime, frames[frameTime]);\n                }\n            } else if (args.length === 1 && isArray(value)) {\n                value.forEach((item: any) => {\n                    this.set(time, item);\n                });\n            } else {\n                const frame = this.newFrame(time);\n\n                frame.set(...args);\n            }\n        }\n        this.needUpdate = true;\n        return this;\n    }\n    /**\n      * Get properties of the sceneItem at that time\n      * @param {Number} time - time\n      * @param {...String|Object} args property's name or properties\n      * @return {Number|String|PropertyObejct} property value\n      * @example\n  item.get(0, \"a\"); // item.getFrame(0).get(\"a\");\n  item.get(0, \"transform\", \"translate\"); // item.getFrame(0).get(\"transform\", \"translate\");\n      */\n    public get(time: string | number, ...args: NameType[]) {\n        const frame = this.getFrame(time);\n\n        return frame && frame.get(...args);\n    }\n    /**\n      * remove properties to the sceneItem at that time\n      * @param {Number} time - time\n      * @param {...String|Object} [properties] - property names or values\n      * @return {SceneItem} An instance itself\n      * @example\n  item.remove(0, \"a\");\n      */\n    public remove(time: number, ...args: NameType[]) {\n        const frame = this.getFrame(time);\n\n        frame && frame.remove(...args);\n        this.needUpdate = true;\n        return this;\n    }\n    /**\n      * Append the item or object at the last time.\n      * @param - the scene item or item object\n      * @return An instance itself\n      * @example\n  item.append(new SceneItem({\n      0: {\n          opacity: 0,\n      },\n      1: {\n          opacity: 1,\n      }\n  }));\n  item.append({\n      0: {\n          opacity: 0,\n      },\n      1: {\n          opacity: 1,\n      }\n  });\n  item.set(item.getDuration(), {\n      0: {\n          opacity: 0,\n      },\n      1: {\n          opacity: 1,\n      }\n  });\n      */\n    public append(item: SceneItem | IObject<any>) {\n        this.set(this.getDuration(), item);\n        return this;\n    }\n    /**\n      * Push the front frames for the time and prepend the scene item or item object.\n      * @param - the scene item or item object\n      * @return An instance itself\n      */\n    public prepend(item: SceneItem | IObject<any>) {\n        if (item instanceof SceneItem) {\n            const unshiftTime = item.getDuration() + item.getDelay();\n            const firstFrame = this.getFrame(0);\n            // remove first frame\n            this.removeFrame(0);\n            this.unshift(unshiftTime);\n            this.set(0, item);\n            this.set(unshiftTime + THRESHOLD, firstFrame);\n        } else {\n            this.prepend(new SceneItem(item));\n        }\n        return this;\n    }\n    /**\n   * Push out the amount of time.\n   * @param - time to push\n     * @return {}\n     * @example\n   item.get(0); // frame 0\n   item.unshift(3);\n   item.get(3) // frame 0\n     */\n    public unshift(time: number) {\n        const { times, items } = this;\n        const obj: IObject<Frame> = {};\n\n        this.times = times.map(t => {\n            const time2 = toFixed(time + t);\n\n            obj[time2] = items[t];\n            return time2;\n        });\n        this.items = obj;\n    }\n    /**\n     * Get the frames in the item in object form.\n     * @return {}\n     * @example\n item.toObject();\n // {0: {display: \"none\"}, 1: {display: \"block\"}}\n     */\n    public toObject(isStartZero = true, startTime = 0): IObject<Frame> {\n        const obj: IObject<Frame> = {};\n        const delay = this.getDelay();\n\n        this.forEach((frame: Frame, time: number) => {\n            obj[(!time && !isStartZero ? THRESHOLD : 0) + delay + startTime + time] = frame.clone();\n        });\n        return obj;\n    }\n    /**\n     * Specifies an element to synchronize items' keyframes.\n     * @param {string} selectors - Selectors to find elements in items.\n     * @return {SceneItem} An instance itself\n     * @example\n item.setSelector(\"#id.class\");\n     */\n    public setSelector(target: string | boolean) {\n        this.setElement(target);\n    }\n    /**\n      * Specifies an element to synchronize item's keyframes.\n    * @param - elements to synchronize item's keyframes.\n    * @param - Make sure that you have peusdo.\n      * @return {SceneItem} An instance itself\n      * @example\n  item.setElement(document.querySelector(\"#id.class\"));\n  item.setElement(document.querySelectorAll(\".class\"));\n      */\n    public setElement(target: boolean | string | AnimateElement | IArrayFormat<AnimateElement>) {\n        const state = this.state;\n        let elements: AnimateElement[] = [];\n\n        if (!target) {\n            return this;\n        } else if (target === true || isString(target)) {\n            const selector = target === true ? `${state.id}` : target;\n            const matches = /([\\s\\S]+)(:+[a-zA-Z]+)$/g.exec(selector);\n\n            elements = toArray($(matches ? matches[1] : selector, true));\n            state[SELECTOR] = selector;\n        } else {\n            elements = (target instanceof Element) ? [target] : toArray(target);\n        }\n        if (!elements.length) {\n            return this;\n        }\n        this.elements = elements;\n        this.setId(this.getId());\n        this.target = elements[0].style;\n        this.targetFunc = (frame: Frame) => {\n            const attributes = frame.get(\"attribute\");\n\n            if (attributes) {\n                for (const name in attributes) {\n                    elements.forEach(el => {\n                        el.setAttribute(name, attributes[name]);\n                    });\n                }\n            }\n            const cssText = frame.toCSS();\n\n            if (state.cssText !== cssText) {\n                state.cssText = cssText;\n\n                elements.forEach(el => {\n                    el.style.cssText += cssText;\n                });\n                return frame;\n            }\n        };\n        return this;\n    }\n    public setTarget(target: any): this {\n        this.target = target;\n        this.targetFunc = (frame: Frame) => {\n            const obj = frame.get();\n\n            for (const name in obj) {\n                target[name] = obj[name];\n            }\n        };\n        return this;\n    }\n    /**\n      * add css styles of items's element to the frame at that time.\n      * @param {Array} properties - elements to synchronize item's keyframes.\n      * @return {SceneItem} An instance itself\n      * @example\n  item.setElement(document.querySelector(\"#id.class\"));\n  item.setCSS(0, [\"opacity\"]);\n  item.setCSS(0, [\"opacity\", \"width\", \"height\"]);\n      */\n    public setCSS(time: number, properties: string[]) {\n        this.set(time, fromCSS(this.elements, properties));\n        return this;\n    }\n    public setTime(time: number | string, isTick?: boolean, parentEasing?: EasingType) {\n        super.setTime(time, isTick);\n\n        const iterationTime = this.getIterationTime();\n        const easing = this.getEasing() || parentEasing;\n        const frame = this.getNowFrame(iterationTime, easing);\n        const currentTime = this.getTime();\n\n        this.temp = frame;\n        /**\n             * This event is fired when timeupdate and animate.\n             * @event SceneItem#animate\n             * @param {Number} param.currentTime The total time that the animator is running.\n             * @param {Number} param.time The iteration time during duration that the animator is running.\n             * @param {Frame} param.frame frame of that time.\n             */\n        this.trigger(\"animate\", {\n            frame,\n            currentTime,\n            time: iterationTime,\n        });\n        this.targetFunc && this.targetFunc(frame);\n        return this;\n    }\n    /**\n      * update property names used in frames.\n      * @return {SceneItem} An instance itself\n      * @example\n  item.update();\n      */\n    public update() {\n        const names = this.names;\n        this.forEach(frame => {\n            updateFrame(names, frame.properties);\n        });\n        this.needUpdate = false;\n        return this;\n    }\n    /**\n      * Create and add a frame to the sceneItem at that time\n      * @param {Number} time - frame's time\n      * @return {Frame} Created frame.\n      * @example\n  item.newFrame(time);\n      */\n    public newFrame(time: string | number) {\n        let frame = this.getFrame(time);\n\n        if (frame) {\n            return frame;\n        }\n        frame = new Frame();\n        this.setFrame(time, frame);\n        return frame;\n    }\n    /**\n      * Add a frame to the sceneItem at that time\n      * @param {Number} time - frame's time\n      * @return {SceneItem} An instance itself\n      * @example\n  item.setFrame(time, frame);\n      */\n    public setFrame(time: string | number, frame: Frame) {\n        const realTime = this.getUnitTime(time);\n\n        this.items[realTime] = frame;\n        addTime(this.times, realTime);\n        this.needUpdate = true;\n        return this;\n    }\n    /**\n      * get sceneItem's frame at that time\n      * @param {Number} time - frame's time\n      * @return {Frame} sceneItem's frame at that time\n      * @example\n  const frame = item.getFrame(time);\n      */\n    public getFrame(time: number | string) {\n        return this.items[this.getUnitTime(time)];\n    }\n    /**\n      * check if the item has a frame at that time\n      * @param {Number} time - frame's time\n      * @return {Boolean} true: the item has a frame // false: not\n      * @example\n  if (item.hasFrame(10)) {\n      // has\n  } else {\n      // not\n  }\n      */\n    public hasFrame(time: number | string) {\n        return this.getUnitTime(time) in this.items;\n    }\n    /**\n      * Check if keyframes has propery's name\n      * @param - property's time\n      * @return {boolean} true: if has property, false: not\n      * @example\n    item.hasName([\"transform\", \"translate\"]); // true or not\n      */\n    public hasName(args: string[]) {\n        this.needUpdate && this.update();\n        return isInProperties(this.names, args, true);\n    }\n    /**\n      * remove sceneItem's frame at that time\n      * @param {Number} time - frame's time\n      * @return {SceneItem} An instance itself\n      * @example\n  item.removeFrame(time);\n      */\n    public removeFrame(time: number) {\n        const items = this.items;\n        const index = this.times.indexOf(time);\n\n        delete items[time];\n\n        // remove time\n        if (index > -1) {\n            this.times.splice(index, 1);\n        }\n        return this;\n    }\n    /**\n      * merge frame of the previous time at the next time.\n    * @param - The time of the frame to merge\n    * @param - The target frame\n      * @return {SceneItem} An instance itself\n      * @example\n  // getFrame(1) contains getFrame(0)\n  item.merge(0, 1);\n      */\n    public mergeFrame(time: number | string, frame: Frame) {\n        if (frame) {\n            const toFrame = this.newFrame(time);\n\n            toFrame.merge(frame);\n        }\n        return this;\n    }\n    /**\n      * Get frame of the current time\n      * @param {Number} time - the current time\n      * @param {function} easing - the speed curve of an animation\n      * @return {Frame} frame of the current time\n      * @example\n  let item = new SceneItem({\n      0: {\n          display: \"none\",\n      },\n      1: {\n          display: \"block\",\n          opacity: 0,\n      },\n      2: {\n          opacity: 1,\n      }\n  });\n  // opacity: 0.7; display:\"block\";\n  const frame = item.getNowFrame(1.7);\n      */\n    public getNowFrame(time: number, easing?: EasingType, isAccurate?: boolean) {\n        this.needUpdate && this.update();\n        const frame = new Frame();\n        const [left, right] = getNearTimeIndex(this.times, time);\n        let realEasing = this.getEasing() || easing;\n        let nameObject = this.names;\n\n        if (this.hasName([TIMING_FUNCTION])) {\n            const nowEasing = this._getNowValue(time, [TIMING_FUNCTION], left, right, false, 0, true);\n\n            isFunction(nowEasing) && (realEasing = nowEasing);\n        }\n        if (isAccurate) {\n            const prevFrame = this.getFrame(time);\n            const prevNames = updateFrame({}, prevFrame.properties);\n\n            for (const name in ROLES) {\n                if (name in prevNames) {\n                    prevNames[name] = nameObject[name];\n                }\n            }\n            nameObject = prevNames;\n        }\n        const names = getNames(nameObject, []);\n\n        names.forEach(properties => {\n            const value = this._getNowValue(time, properties, left, right, isAccurate, realEasing, isFixed(properties));\n\n            if (isUndefined(value)) {\n                return;\n            }\n            frame.set(properties, value);\n        });\n        return frame;\n    }\n    public load(properties: any = {}, options = properties.options) {\n        options && this.setOptions(options);\n        if (isArray(properties)) {\n            this.set(properties);\n        } else if (properties.keyframes) {\n            this.set(properties.keyframes);\n        } else {\n            for (const time in properties) {\n                if (time !== \"options\") {\n                    this.set({\n                        [time]: properties[time],\n                    });\n                }\n            }\n        }\n        if (options && options[DURATION]) {\n            this.setDuration(options[DURATION]);\n        }\n        return this;\n    }\n    /**\n       * clone SceneItem.\n       * @return {SceneItem} An instance of clone\n       * @example\n       * item.clone();\n       */\n    public clone() {\n        const item = new SceneItem();\n\n        item.setOptions(this.state);\n        this.forEach((frame: Frame, time: number) => {\n            item.setFrame(time, frame.clone());\n        });\n        return item;\n    }\n    /**\n       * executes a provided function once for each scene item.\n       * @param - Function to execute for each element, taking three arguments\n       * @return {Keyframes} An instance itself\n       */\n    public forEach(callback: (item: Frame, time: number, items: IObject<Frame>) => void) {\n        const times = this.times;\n        const items = this.items;\n\n        times.forEach(time => {\n            callback(items[time], time, items);\n        });\n        return this;\n    }\n    public setOptions(options: Partial<SceneItemOptions> = {}) {\n        super.setOptions(options);\n        const { id, selector, elements, element, target } = options;\n\n        id && this.setId(id);\n        if (target) {\n            this.setTarget(target);\n        } else if (elements || element || selector) {\n            this.setElement(elements || element || selector);\n        }\n        return this;\n    }\n    public toCSS(\n        playCondition: PlayCondition = { className: START_ANIMATION },\n        parentDuration = this.getDuration(), states: AnimatorState[] = []) {\n        const itemState = this.state;\n        const selector = itemState[SELECTOR];\n\n        if (!selector) {\n            return \"\";\n        }\n        const originalDuration = this.getDuration();\n        itemState[DURATION] = originalDuration;\n        states.push(itemState);\n\n        const reversedStates = toArray(states).reverse();\n        const id = toId(getRealId(this));\n        const superParent = states[0];\n        const infiniteIndex = findIndex(reversedStates, state => {\n            return state[ITERATION_COUNT] === INFINITE || !isFinite(state[DURATION]);\n        }, states.length - 1);\n        const finiteStates = reversedStates.slice(0, infiniteIndex);\n        const duration = parentDuration || finiteStates.reduce((prev, cur) => {\n            return (cur[DELAY] + prev * (cur[ITERATION_COUNT] as number)) / cur[PLAY_SPEED];\n        }, originalDuration);\n        const delay = reversedStates.slice(infiniteIndex).reduce((prev, cur) => {\n            return (prev + cur[DELAY]) / cur[PLAY_SPEED];\n        }, 0);\n        const easingName = find(reversedStates, state => (state[EASING] && state[EASING_NAME]), itemState)[EASING_NAME];\n        const iterationCount = reversedStates[infiniteIndex][ITERATION_COUNT];\n        const fillMode = superParent[FILL_MODE];\n        const direction = reversedStates[infiniteIndex][DIRECTION];\n        const cssText = makeAnimationProperties({\n            fillMode,\n            direction,\n            iterationCount,\n            delay: `${delay}s`,\n            name: `${PREFIX}KEYFRAMES_${id}`,\n            duration: `${duration / superParent[PLAY_SPEED]}s`,\n            timingFunction: easingName,\n        });\n        const selectors = splitComma(selector).map(sel => {\n            const matches = /([\\s\\S]+)(:+[a-zA-Z]+)$/g.exec(sel);\n\n            if (matches) {\n                return [matches[0], matches[1]];\n            } else {\n                return [sel, \"\"];\n            }\n        });\n        const className = playCondition.className;\n        const selectorCallback = playCondition.selector;\n        const preselector = isFunction(selectorCallback) ? selectorCallback(this, selector) : selectorCallback;\n\n        return `\n    ${preselector || selectors.map(([sel, peusdo]) => `${sel}.${className}${peusdo}`)} {${cssText}}\n    ${selectors.map(([sel, peusdo]) => `${sel}.${PAUSE_ANIMATION}${peusdo}`)} {${ANIMATION}-play-state: paused;}\n    @${KEYFRAMES} ${PREFIX}KEYFRAMES_${id}{${this._toKeyframes(duration, finiteStates, direction)}}`;\n    }\n    /**\n     * Export the CSS of the items to the style.\n     * @param - Add a selector or className to play.\n     * @return {SceneItem} An instance itself\n     */\n    public exportCSS(\n        playCondition?: PlayCondition,\n        duration?: number, options?: AnimatorState[]) {\n        if (!this.elements.length) {\n            return \"\";\n        }\n        const css = this.toCSS(playCondition, duration, options);\n        const isParent = options && !isUndefined(options[ITERATION_COUNT]);\n\n        !isParent && exportCSS(getRealId(this), css);\n        return this;\n    }\n    public pause() {\n        super.pause();\n        isPausedCSS(this) && this.pauseCSS();\n        return this;\n    }\n    public pauseCSS() {\n        this.elements.forEach(element => {\n            addClass(element, PAUSE_ANIMATION);\n        });\n        return this;\n    }\n    public endCSS() {\n        this.elements.forEach(element => {\n            removeClass(element, PAUSE_ANIMATION);\n            removeClass(element, START_ANIMATION);\n        });\n        setPlayCSS(this, false);\n        return this;\n    }\n    public end() {\n        isEndedCSS(this) && this.endCSS();\n        super.end();\n        return this;\n    }\n    /**\n      * Play using the css animation and keyframes.\n      * @param - Check if you want to export css.\n      * @param [playClassName=\"startAnimation\"] - Add a class name to play.\n      * @param - The shorthand properties for six of the animation properties.\n      * @see {@link https://www.w3schools.com/cssref/css3_pr_animation.asp}\n      * @example\n  item.playCSS();\n  item.playCSS(false, \"startAnimation\", {\n      direction: \"reverse\",\n      fillMode: \"forwards\",\n  });\n      */\n    public playCSS(isExportCSS = true, playClassName?: string, properties: object = {}) {\n        playCSS(this, isExportCSS, playClassName, properties);\n        return this;\n    }\n    public addPlayClass(isPaused: boolean, playClassName?: string, properties: object = {}) {\n        const elements = this.elements;\n        const length = elements.length;\n        const cssText = makeAnimationProperties(properties);\n\n        if (!length) {\n            return;\n        }\n        if (isPaused) {\n            elements.forEach(element => {\n                removeClass(element, PAUSE_ANIMATION);\n            });\n        } else {\n            elements.forEach(element => {\n                element.style.cssText += cssText;\n                if (hasClass(element, START_ANIMATION)) {\n                    removeClass(element, START_ANIMATION);\n                    requestAnimationFrame(() => {\n                        requestAnimationFrame(() => {\n                            addClass(element, START_ANIMATION);\n                        });\n                    });\n                } else {\n                    addClass(element, START_ANIMATION);\n                }\n            });\n        }\n        return elements[0];\n    }\n    private _toKeyframes(duration: number, states: AnimatorState[], direction: DirectionType) {\n        const frames: IObject<string> = {};\n        const times = this.times.slice();\n\n        if (!times.length) {\n            return \"\";\n        }\n        const originalDuration = this.getDuration();\n        (!this.getFrame(0)) && times.unshift(0);\n        (!this.getFrame(originalDuration)) && times.push(originalDuration);\n        const entries = getEntries(times, states);\n        const lastEntry = entries[entries.length - 1];\n\n        // end delay time\n        lastEntry[0] < duration && addEntry(entries, duration, lastEntry[1]);\n        let prevTime = -1;\n\n        return entries.map(([time, keytime]) => {\n            if (!frames[keytime]) {\n                frames[keytime] =\n                    (!this.hasFrame(keytime) || keytime === 0 || keytime === originalDuration ?\n                        this.getNowFrame(keytime) : this.getNowFrame(keytime, 0, true)).toCSS();\n            }\n\n            let frameTime = time / duration * 100;\n\n            if (frameTime - prevTime < THRESHOLD) {\n                frameTime += THRESHOLD;\n            }\n            prevTime = frameTime;\n            return `${Math.min(frameTime, 100)}%{\n                ${time === 0 && !isDirectionReverse(0, 1, direction) ? \"\" : frames[keytime]}\n            }`;\n        }).join(\"\");\n    }\n    private _getNowValue(\n        time: number,\n        properties: string[],\n        left: number,\n        right: number,\n        isAccurate?: boolean,\n        easing?: EasingType,\n        usePrevValue?: boolean,\n    ) {\n        const times = this.times;\n        const length = times.length;\n\n        let prevTime: number;\n        let nextTime: number;\n        let prevFrame: Frame;\n        let nextFrame: Frame;\n\n        for (let i = left; i >= 0; --i) {\n            const frame = this.getFrame(times[i]);\n\n            if (frame.has(...properties)) {\n                prevTime = times[i];\n                prevFrame = frame;\n                break;\n            }\n        }\n        const prevValue = prevFrame && prevFrame.raw(...properties);\n\n        if (isAccurate && !isRole([properties[0]])) {\n            return prevTime === time ? prevValue : undefined;\n        }\n        if (usePrevValue) {\n            return prevValue;\n        }\n        for (let i = right; i < length; ++i) {\n            const frame = this.getFrame(times[i]);\n\n            if (frame.has(...properties)) {\n                nextTime = times[i];\n                nextFrame = frame;\n                break;\n            }\n        }\n        const nextValue = nextFrame && nextFrame.raw(...properties);\n\n        if (!prevFrame || isUndefined(prevValue)) {\n            return nextValue;\n        }\n        if (!nextFrame || isUndefined(nextValue) || prevValue === nextValue) {\n            return prevValue;\n        }\n        if (prevTime < 0) {\n            prevTime = 0;\n        }\n        return dotValue(time, prevTime, nextTime, prevValue, nextValue, easing);\n    }\n}\n\nexport default SceneItem;\n","import Animator from \"./Animator\";\nimport SceneItem from \"./SceneItem\";\nimport { DATA_SCENE_ID, SELECTOR, DURATION, START_ANIMATION } from \"./consts\";\nimport { playCSS, exportCSS, getRealId, makeId, isPausedCSS, isEndedCSS, setPlayCSS } from \"./utils\";\nimport { isFunction, IS_WINDOW, IObject, $, IArrayFormat } from \"@daybrush/utils\";\nimport {\n    AnimateElement, SceneState, SceneOptions, EasingType,\n    AnimatorState, SceneItemOptions, PlayCondition\n} from \"./types\";\nimport Frame from \"./Frame\";\n\n/**\n * manage sceneItems and play Scene.\n * @sort 1\n */\nclass Scene extends Animator<SceneState> {\n    /**\n    * version info\n    * @type {string}\n    * @example\n    * Scene.VERSION // #__VERSION__#\n    */\n    public static VERSION: string = \"#__VERSION__#\";\n    public items: IObject<Scene | SceneItem>;\n    public temp: IObject<Frame>;\n    /**\n    * @param - properties\n    * @param - options\n    * @example\n    const scene = new Scene({\n      item1: {\n        0: {\n          display: \"none\",\n        },\n        1: {\n          display: \"block\",\n          opacity: 0,\n        },\n        2: {\n          opacity: 1,\n        },\n      },\n      item2: {\n        2: {\n          opacity: 1,\n        },\n      }\n    });\n      */\n    constructor(properties?: IObject<any>, options?: Partial<SceneOptions>) {\n        super();\n        this.items = {};\n        this.load(properties, options);\n    }\n    public getDuration() {\n        const items = this.items;\n        let time = 0;\n\n        for (const id in items) {\n            const item = items[id];\n\n            time = Math.max(time, item.getTotalDuration() / item.getPlaySpeed());\n        }\n        return Math.max(time, this.state[DURATION]);\n    }\n    public setDuration(duration: number) {\n        const items = this.items;\n        const sceneDuration = this.getDuration();\n\n        if (duration === 0 || !isFinite(sceneDuration)) {\n            return this;\n        }\n        if (sceneDuration === 0) {\n            for (const id in items) {\n                const item = items[id];\n\n                item.setDuration(duration);\n            }\n        } else {\n            const ratio = duration / sceneDuration;\n\n            for (const id in items) {\n                const item = items[id];\n\n                item.setDelay(item.getDelay() * ratio);\n                item.setDuration(item.getDuration() * ratio);\n            }\n        }\n        super.setDuration(duration);\n        return this;\n    }\n    public getItem<T extends (Scene | SceneItem) = Scene | SceneItem>(name: number | string): T;\n    public getItem(name: number | string, index: number): SceneItem;\n    /**\n    * get item in scene by name\n    * @param - The item's name\n    * @param - If item is added as function, it can be imported via index.\n    * @return {Scene | SceneItem} item\n    * @example\n    const item = scene.getItem(\"item1\")\n    */\n    public getItem(name: number | string, index?: number) {\n        if (index != null) {\n            return (this.items[name] as Scene).getItem(index) as SceneItem;\n        }\n        return this.items[name];\n    }\n    /**\n    * create item in scene\n    * @param {} name - name of item to create\n    * @param {} options - The option object of SceneItem\n    * @return {} Newly created item\n    * @example\n    const item = scene.newItem(\"item1\")\n    */\n    public newItem(name: number | string, options: Partial<SceneItemOptions> = {}): SceneItem {\n        if (name in this.items) {\n            return;\n        }\n        const item = new SceneItem();\n\n        this.setItem(name, item);\n        item.setOptions(options);\n\n        return item;\n    }\n    /**\n    * add a sceneItem to the scene\n    * @param - name of item to create\n    * @param - sceneItem\n    * @example\n    const item = scene.newItem(\"item1\")\n    */\n    public setItem(name: number | string, item: Scene | SceneItem) {\n        item.setId(name);\n        this.items[name] = item;\n        return this;\n    }\n    public setTime(time: number | string, isTick?: boolean, parentEasing?: EasingType) {\n        super.setTime(time, isTick);\n\n        const iterationTime = this.getIterationTime();\n        const items = this.items;\n        const easing = this.getEasing() || parentEasing;\n        const frames: IObject<any> = {};\n\n        for (const id in items) {\n            const item = items[id];\n\n            item.setTime(iterationTime * item.getPlaySpeed() - item.getDelay(), isTick, easing);\n\n            frames[item.getId()] = item.temp;\n        }\n        this.temp = frames;\n\n        /**\n             * This event is fired when timeupdate and animate.\n             * @event Scene#animate\n         * @param {object} param The object of data to be sent to an event.\n             * @param {number} param.currentTime The total time that the animator is running.\n             * @param {number} param.time The iteration time during duration that the animator is running.\n             * @param {object} param.frames frames of that time.\n         * @example\n    const scene = new Scene({\n      a: {\n        0: {\n          opacity: 0,\n        },\n        1: {\n          opacity: 1,\n        }\n      },\n      b: {\n        0: {\n          opacity: 0,\n        },\n        1: {\n          opacity: 1,\n        }\n      }\n    }).on(\"animate\", e => {\n      console.log(e);\n      // {a: Frame, b: Frame}\n      console.log(e.a.get(\"opacity\"));\n    });\n             */\n        this.trigger(\"animate\", {\n            frames,\n            currentTime: this.getTime(),\n            time: iterationTime,\n        });\n\n        return this;\n    }\n    /**\n     * executes a provided function once for each scene item.\n     * @param - Function to execute for each element, taking three arguments\n     * @return {Scene} An instance itself\n     */\n    public forEach(func: (item: Scene | SceneItem, name: string, items: IObject<Scene | SceneItem>) => void) {\n        const items = this.items;\n\n        for (const name in items) {\n            func(items[name], name, items);\n        }\n        return this;\n    }\n    public toCSS(\n        playCondition?: PlayCondition,\n        duration: number = this.getDuration(), parentStates: AnimatorState[] = []) {\n        const totalDuration = !duration || !isFinite(duration) ? 0 : duration;\n        const styles: string[] = [];\n        const state = this.state;\n\n        state[DURATION] = this.getDuration();\n\n        this.forEach(item => {\n            styles.push(item.toCSS(playCondition, totalDuration, parentStates.concat(state)));\n        });\n        return styles.join(\"\");\n    }\n    /**\n     * Export the CSS of the items to the style.\n     * @param - Add a selector or className to play.\n     * @return {Scene} An instance itself\n     */\n    public exportCSS(\n        playCondition?: PlayCondition, duration?: number, parentStates?: AnimatorState[]) {\n        const css = this.toCSS(playCondition, duration, parentStates);\n\n        (!parentStates || !parentStates.length) && exportCSS(getRealId(this), css);\n        return this;\n    }\n    public append(item: SceneItem | Scene) {\n        item.setDelay(item.getDelay() + this.getDuration());\n        this.setItem(getRealId(item), item);\n    }\n    public pauseCSS() {\n        return this.forEach(item => {\n            item.pauseCSS();\n        });\n    }\n    public pause() {\n        super.pause();\n\n        isPausedCSS(this) && this.pauseCSS();\n        this.forEach(item => {\n            item.pause();\n        });\n        return this;\n    }\n    public endCSS() {\n        const items = this.items;\n\n        for (const id in items) {\n            items[id].endCSS();\n        }\n        setPlayCSS(this, false);\n    }\n    public end() {\n        isEndedCSS(this) && this.endCSS();\n        super.end();\n        return this;\n    }\n    public addPlayClass(isPaused: boolean, playClassName?: string, properties: object = {}) {\n        const items = this.items;\n        let animtionElement: AnimateElement;\n\n        for (const id in items) {\n            const el = items[id].addPlayClass(isPaused, playClassName, properties);\n\n            !animtionElement && (animtionElement = el);\n        }\n        return animtionElement;\n    }\n    /**\n    * Play using the css animation and keyframes.\n    * @param - Check if you want to export css.\n    * @param [playClassName=\"startAnimation\"] - Add a class name to play.\n    * @param - The shorthand properties for six of the animation properties.\n    * @return {Scene} An instance itself\n    * @see {@link https://www.w3schools.com/cssref/css3_pr_animation.asp}\n    * @example\n    scene.playCSS();\n    scene.playCSS(false, {\n    direction: \"reverse\",\n    fillMode: \"forwards\",\n    });\n    */\n    public playCSS(isExportCSS = true, playClassName?: string, properties: Partial<AnimatorState> = {}) {\n        playCSS(this, isExportCSS, playClassName, properties);\n        return this;\n    }\n    public set(properties: any, ...args: any[]): this;\n    public set(properties: any) {\n        this.load(properties);\n        return this;\n    }\n    public load(properties: any = {}, options = properties.options) {\n        if (!properties) {\n            return this;\n        }\n        const isSelector = options && options[SELECTOR] || this.state[SELECTOR];\n\n        for (const name in properties) {\n            if (name === \"options\") {\n                continue;\n            }\n            const object = properties[name];\n            let item;\n\n            if (object instanceof Scene || object instanceof SceneItem) {\n                this.setItem(name, object);\n                item = object;\n            } else if (isFunction(object) && isSelector) {\n                const elements = IS_WINDOW ? $(name, true) as IArrayFormat<AnimateElement> : ([] as AnimateElement[]);\n                const length = elements.length;\n                const scene = new Scene();\n\n                for (let i = 0; i < length; ++i) {\n                    const id = makeId();\n\n                    scene.newItem(`${i}`, {\n                        id,\n                        selector: `[${DATA_SCENE_ID}=\"${id}\"]`,\n                        elements: elements[i],\n                    }).load(object(i, elements[i]));\n                }\n                this.setItem(name, scene);\n                continue;\n            } else {\n                item = this.newItem(name);\n                item.load(object);\n            }\n            isSelector && item.setSelector(name);\n        }\n        this.setOptions(options);\n    }\n    public setOptions(options: Partial<SceneState> = {}): this {\n        super.setOptions(options);\n\n        if (options.selector) {\n            this.state[SELECTOR] = true;\n        }\n        return this;\n    }\n    public setSelector(target: string | boolean) {\n        const state = this.state;\n        const isSelector = target || state[SELECTOR];\n\n        state[SELECTOR] = target;\n        this.forEach((item, name) => {\n            item.setSelector(isSelector ? name : false);\n        });\n    }\n    public start(delay: number) {\n        super.start(delay);\n        this.forEach(item => {\n            item.start(delay);\n        });\n    }\n}\n\nexport default Scene;\n","import {SceneItem, EASE} from \"../../src\";\n\nexport function scroll(to: number) {\n  return new SceneItem({\n    scrollTop: to,\n  }, {\n    target: document.documentElement,\n    duration: 1,\n    easing: EASE,\n  }).play();\n}\n","import { $, addClass, removeClass, toArray } from \"@daybrush/utils\";\nimport { pages } from \"./Store\";\nimport { scroll } from \"./utils\";\n\nconst header = $(\"header\");\nconst menus = $(`header [data-item] a`, true);\n\ntoArray(menus).forEach((menu, i) => {\n    const page = pages[i];\n\n    page.range([\"window - 1\", \"window\"]).on({\n        enter: e => {\n            addClass(menu, \"enter\");\n        },\n        exit: e => {\n            removeClass(menu, \"enter\");\n        },\n    });\n    menu.addEventListener(\"click\", e => {\n        e.preventDefault();\n        scroll(page.getRect(true).top);\n    });\n});\npages.forEach((page, i) => {\n    if (i % 2 === 0) {\n        return;\n    }\n    page.range([\"window - 80\", \"100% - 80\"]).on({\n        enter: e => {\n            addClass(header, \"white\");\n        },\n        exit: e => {\n            removeClass(header, \"white\");\n        },\n    });\n});\n","import \"./MainPage\";\nimport \"./FeaturesPage\";\nimport \"./ExamplesPage\";\nimport \"./StartedPage\";\nimport \"./Header\";\nimport { scroll } from \"./Store\";\nimport \"./css/index.css\";\nimport \"./css/page1.css\";\nimport \"./css/page2.css\";\nimport \"./css/page3.css\";\nimport \"./css/page4.css\";\n\nscroll();\n"],"names":["UNDEFINED","IS_WINDOW","window","doc","document","prefixes","getCrossBrowserProperty","property","styles","body","documentElement","style","length","i","name","TRANSFORM","FILTER","ANIMATION","KEYFRAMES","replace","splitUnit","text","matches","exec","prefix","unit","value","NaN","parseFloat","now","Date","getTime","requestAnimationFrame","firstTime","raf","webkitRequestAnimationFrame","mozRequestAnimationFrame","bind","callback","currTime","id","setTimeout","hasClass","element","className","classList","contains","match","RegExp","addClass","add","__assign","Object","assign","t","s","n","arguments","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","CLASS_NAME","makeDOM","tag","createElementNS","makeSVGDOM","el","setAttributes","attributes","setAttribute","setStyles","cssText","push","join","getAbsoluteValue","pos","size","info","setOrigin","container","_a","width","height","left","top","origin","_b","split","ox","_c","oy","transformOrigin","setViewBox","right","bottom","strokeWidth","forEach","getAttribute","map","boxWidth","_d","boxHeight","Math","max","getRect","side","_e","rotate","_f","innerRadius","_g","_h","_j","_k","strokeLinejoin","_l","xPoints","yPoints","sideCos","cos","PI","startRad","rad","sin","minX","min","minY","maxX","maxY","isWidth","scale","isOuter","sideSin","innerCos","innerScale","diagonal","atan","outerScale","xp","yp","pathWidth","pathHeight","points","x1","y1","x2","y2","j","x","y","getPath","point","be","path","fill","css","d","poly","options","appendChild","oval","r","rx","ry","_m","_o","ellipse","halfStroke","isUndefined","Component","_eventHandler","_proto","trigger","eventName","customEvent","handlerList","hasHandlerList","concat","eventType","isCanceled","arg","stop","currentTarget","_len","restParam","Array","_key","once","handlerToAttach","eventHash","self","on","listener","_len2","_key2","off","hasOn","handlerToDetach","undefined","k","handlerFunction","splice","VERSION","OBJECT","isObject","isArray","splitSpace","splitBracket","suffix","$","selectors","multi","querySelectorAll","querySelector","extendStatics","b","setPrototypeOf","__proto__","__extends","__","constructor","create","resize","innerWidth","innerHeight","addEventListener","WindowSize","Page","_super","_this","ranges","_range","horizontal","margin","pages","state","enter","firstEnter","firstExit","scroll","triggerEvent","onCheck","range","rangeArr","events","__proto","page","target","onEnter","rect","onExit","calcSize","sizeInfos","stack","sign","v","pop","_calcSize","reduce","prev","cur","isAbsolute","getBoundingClientRect","width$$1","height$$1","scrollLeft","scrollTop","containerSize","rangeStart","rangeEnd","marginStart","marginEnd","sizeName","Pages","manager","RGB","RGBA","HSL","HSLA","COLOR_MODELS","FUNCTION","PROPERTY","ARRAY","STRING","NUMBER","isString","isFunction","splitComma","str","trim","camelize","all","letter","toUpperCase","decamelize","separator","letter2","toLowerCase","toArray","slice","cutHex","hex","hexToRGBA","h","parseInt","substring","g","a","isNaN","toFullHex","charAt","arr","hslToRGBA","hsl","l","floor","abs","c","m","rgb","result","round","stringToRGBA","color","colorArr","removeClass","remove","reg","fromCSS","elements","properties","Element","cssObject","getComputedStyle","addEvent","type","removeEvent","removeEventListener","clapper","func","opacity","radius","stroke","ir","makeShadow","nextStep","nextStep2","nextStep3","EASE_IN_OUT","Scene","scene","transform","delay","index","skew","easing","translateX","translateY","selector","clapperSound","mediaScene","MediaScene","getDuration","seek","playSpeed","volume","playCSS","play","page1","exportCSS","finish","direction","iterationCount","setTime","_","translate","translate2","EASE_IN","LINEAR","valueFeatureElement","setRole","icon5Scene","descriptionElements","getItem","innerHTML","frame","get","toFixed","getPlayState","pause","page2","page3","page4","PREFIX","DATA_SCENE_ID","TIMING_FUNCTION","ROLES","filter","attribute","ALIAS","FIXED","MAXIMUM","THRESHOLD","DURATION","FILL_MODE","DIRECTION","ITERATION_COUNT","DELAY","EASING","PLAY_SPEED","EASING_NAME","ITERATION_TIME","PAUSED","ENDED","TIMEUPDATE","PLAY","RUNNING","ITERATION","START_ANIMATION","PAUSE_ANIMATION","ALTERNATE","REVERSE","ALTERNATE_REVERSE","NORMAL","INFINITE","PLAY_STATE","PLAY_CSS","PREV_TIME","TICK_TIME","CURRENT_TIME","SELECTOR","TRANSFORM_NAME","OPTIONS","_on","_i","args","callback2","callbacks","data","event","t2","solveX","dx","cubic","solveFromX","easingName","bezier","EASE","EASE_OUT","setOptions","newOptions","model","PropertyObject","clone","toValue","isPropertyObject","num","names","roles","isCheckTrue","role","isInProperties","item","isActivate","isPaused","isEnded","styleId","toId","styleElement","innerText","insertAdjacentHTML","random","checkElement","getId","setId","makeId","isExportCSS","playClassName","isPausedCSS","addPlayClass","addAnimationEvent","setPlayCSS","setPlayState","defaultIndex","defalutValue","findIndex","duration","isZeroDuration","isFinite","animationend","animationstart","animationiteration","elapsedTime","currentTime","setIteration","getter","setter","parent","animator","to","prevTime","tickTime","time","tick","iteration","iteraiontCount","setters","getters","tslib_1","fillMode","iterationTime","playState","curveArray","setEasing","setDuration","getActiveDuration","count","Infinity","toTime","start","end","isTick","activeDuration","getUnitTime","calculate","isDelay","getIterationTime","passIterationCount","maxIterationCount","currentIterationTime","setIterationTime","isReverse","isDirectionReverse","isFiniteDuration","isForwards","Animator","GetterSetter","EventTrigger","obj","toPropertyObject","afterModel","arrayToColorObject","arrayToPropertyObject","values","stringToBracketObject","stringToColorObject","object","toObject","arrObj","merge","from","getType","getValue","set","raw","getPropertyName","getValueByNames","params","_set","isRole","isFixed","stylesLength","Frame","frameProperties","toInnerProperties","toCSSObject","cssArray","a1","a2","b1","b2","v1","dot","color1","color2","value1","value2","model1","model2","dotArray","colorModel","a1Type","dotColor","type1","type2","isFunction1","isFunction2","dotObject","v2","dotNumber","nextTime","prevValue","nextValue","ratio","times","isPureObject","getNames","updateFrame","entries","keytime","prevEntry","states","nextEntries","intCount","ceil","currentDuration","lastTime","entry","divideTime","addEntry","unshift","load","originalDuration","ratio_1","items_1","obj_1","time2","items","sceneId_1","realTime","this_1","innerValue","newFrame","setFrame","SceneItem","getDelay","frames","hasFrame","frameTime","needUpdate","getFrame","unshiftTime","firstFrame","removeFrame","prepend","isStartZero","startTime","setElement","targetFunc","toCSS","parentEasing","getEasing","getNowFrame","temp","addTime","update","toFrame","isAccurate","realEasing","nameObject","hasName","nowEasing","_getNowValue","prevFrame","prevNames","keyframes","setTarget","playCondition","parentDuration","itemState","reversedStates","reverse","getRealId","superParent","infiniteIndex","finiteStates","find","makeAnimationProperties","timingFunction","sel","selectorCallback","preselector","peusdo","_toKeyframes","isParent","pauseCSS","isEndedCSS","endCSS","getEntries","lastEntry","usePrevValue","nextFrame","has","dotValue","getTotalDuration","getPlaySpeed","sceneDuration","setDelay","setItem","parentStates","totalDuration","animtionElement","isSelector","newItem","setSelector","header","menus","menu","exit","preventDefault"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAA;;;;;;;;IA0HA;;;;;;;;;IASA,IAAIA,SAAS,GAAG,WAAhB;IACA;;;;;;;;;;IAUA,IAAIC,SAAS,GAAG,OAAOC,MAAP,KAAkBF,SAAlC;IACA;;;;;;;;;;;IAWA,IAAIG,GAAG,GAAG,OAAOC,QAAP,KAAoBJ,SAApB,IAAiCI,QAA3C;IACA,IAAIC,QAAQ,GAAG,CAAC,QAAD,EAAW,IAAX,EAAiB,KAAjB,EAAwB,GAAxB,CAAf;IACA;;;;IAIA;;;;;;;;;;;;;IAaA,IAAIC,uBAAuB;IAC3B;IACA,UAAUC,QAAV,EAAoB;IAClB,MAAI,CAACJ,GAAL,EAAU;IACR,WAAO,EAAP;IACD;;IAED,MAAIK,MAAM,GAAG,CAACL,GAAG,CAACM,IAAJ,IAAYN,GAAG,CAACO,eAAjB,EAAkCC,KAA/C;IACA,MAAIC,MAAM,GAAGP,QAAQ,CAACO,MAAtB;;IAEA,MAAI,OAAOJ,MAAM,CAACD,QAAD,CAAb,KAA4BP,SAAhC,EAA2C;IACzC,WAAOO,QAAP;IACD;;IAED,OAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;IAC/B,QAAIC,IAAI,GAAG,MAAMT,QAAQ,CAACQ,CAAD,CAAd,GAAoB,GAApB,GAA0BN,QAArC;;IAEA,QAAI,OAAOC,MAAM,CAACM,IAAD,CAAb,KAAwBd,SAA5B,EAAuC;IACrC,aAAOc,IAAP;IACD;IACF;;IAED,SAAO,EAAP;IACD,CAvBD;IAwBA;;;;;;;;;;IASA,IAAIC,SAAS;IACb;IACAT,uBAAuB,CAAC,WAAD,CAFvB;IAGA;;;;;;;;;IASA,IAAIU,MAAM;IACV;IACAV,uBAAuB,CAAC,QAAD,CAFvB;IAGA;;;;;;;;;IASA,IAAIW,SAAS;IACb;IACAX,uBAAuB,CAAC,WAAD,CAFvB;IAGA;;;;;;;;;IASA,IAAIY,SAAS;IACb;IACAD,SAAS,CAACE,OAAV,CAAkB,WAAlB,EAA+B,WAA/B,CAFA;AAIA,IA+JA;;;;;;;;;;;;;;;;;IAgBA,SAASC,SAAT,CAAmBC,IAAnB,EAAyB;IACvB,MAAIC,OAAO,GAAG,gDAAgDC,IAAhD,CAAqDF,IAArD,CAAd;;IAEA,MAAI,CAACC,OAAL,EAAc;IACZ,WAAO;IACLE,MAAAA,MAAM,EAAE,EADH;IAELC,MAAAA,IAAI,EAAE,EAFD;IAGLC,MAAAA,KAAK,EAAEC;IAHF,KAAP;IAKD;;IAED,MAAIH,MAAM,GAAGF,OAAO,CAAC,CAAD,CAApB;IACA,MAAII,KAAK,GAAGJ,OAAO,CAAC,CAAD,CAAnB;IACA,MAAIG,IAAI,GAAGH,OAAO,CAAC,CAAD,CAAlB;IACA,SAAO;IACLE,IAAAA,MAAM,EAAEA,MADH;IAELC,IAAAA,IAAI,EAAEA,IAFD;IAGLC,IAAAA,KAAK,EAAEE,UAAU,CAACF,KAAD;IAHZ,GAAP;IAKD;AACD,IAwCA;;;;;;;;;;;IAUA,SAASG,GAAT,GAAe;IACb,SAAOC,IAAI,CAACD,GAAL,GAAWC,IAAI,CAACD,GAAL,EAAX,GAAwB,IAAIC,IAAJ,GAAWC,OAAX,EAA/B;IACD;IACD;;;;;;;;;;;;;;;IAcA,IAAIC,qBAAqB;IACzB;IACA,YAAY;IACV,MAAIC,SAAS,GAAGJ,GAAG,EAAnB;IACA,MAAIK,GAAG,GAAGjC,SAAS,KAAKC,MAAM,CAAC8B,qBAAP,IAAgC9B,MAAM,CAACiC,2BAAvC,IAAsEjC,MAAM,CAACkC,wBAAlF,CAAnB;IACA,SAAOF,GAAG,GAAGA,GAAG,CAACG,IAAJ,CAASnC,MAAT,CAAH,GAAsB,UAAUoC,QAAV,EAAoB;IAClD,QAAIC,QAAQ,GAAGV,GAAG,EAAlB;IACA,QAAIW,EAAE,GAAGtC,MAAM,CAACuC,UAAP,CAAkB,YAAY;IACrCH,MAAAA,QAAQ,CAACC,QAAQ,GAAGN,SAAZ,CAAR;IACD,KAFQ,EAEN,OAAO,EAFD,CAAT;IAGA,WAAOO,EAAP;IACD,GAND;IAOD,CAVD,EAFA;AAcA,IA+LA;;;;;;;;;;;;;IAYA,SAASE,QAAT,CAAkBC,OAAlB,EAA2BC,SAA3B,EAAsC;IACpC,MAAID,OAAO,CAACE,SAAZ,EAAuB;IACrB,WAAOF,OAAO,CAACE,SAAR,CAAkBC,QAAlB,CAA2BF,SAA3B,CAAP;IACD;;IAED,SAAO,CAAC,CAACD,OAAO,CAACC,SAAR,CAAkBG,KAAlB,CAAwB,IAAIC,MAAJ,CAAW,YAAYJ,SAAZ,GAAwB,SAAnC,CAAxB,CAAT;IACD;IACD;;;;;;;;;;;;IAWA,SAASK,QAAT,CAAkBN,OAAlB,EAA2BC,SAA3B,EAAsC;IACpC,MAAID,OAAO,CAACE,SAAZ,EAAuB;IACrBF,IAAAA,OAAO,CAACE,SAAR,CAAkBK,GAAlB,CAAsBN,SAAtB;IACD,GAFD,MAEO;IACLD,IAAAA,OAAO,CAACC,SAAR,IAAqB,MAAMA,SAA3B;IACD;IACF;;IC7uBD;;;;;;;;AAQA,IAEA;;;;;;;;;;;;;;;IAcA,IAAIO,UAAQ,GAAG,YAAY;IACzBA,EAAAA,UAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,SAASF,QAAT,CAAkBG,CAAlB,EAAqB;IAC/C,SAAK,IAAIC,CAAJ,EAAO1C,CAAC,GAAG,CAAX,EAAc2C,CAAC,GAAGC,SAAS,CAAC7C,MAAjC,EAAyCC,CAAC,GAAG2C,CAA7C,EAAgD3C,CAAC,EAAjD,EAAqD;IACnD0C,MAAAA,CAAC,GAAGE,SAAS,CAAC5C,CAAD,CAAb;;IAEA,WAAK,IAAI6C,CAAT,IAAcH,CAAd,EAAiB,IAAIH,MAAM,CAACO,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCN,CAArC,EAAwCG,CAAxC,CAAJ,EAAgDJ,CAAC,CAACI,CAAD,CAAD,GAAOH,CAAC,CAACG,CAAD,CAAR;IAClE;;IAED,WAAOJ,CAAP;IACD,GARD;;IAUA,SAAOH,UAAQ,CAACW,KAAT,CAAe,IAAf,EAAqBL,SAArB,CAAP;IACD,CAZD;;IAaA,SAASM,QAAT,CAAgBR,CAAhB,EAAmBS,CAAnB,EAAsB;IACpB,MAAIV,CAAC,GAAG,EAAR;;IAEA,OAAK,IAAII,CAAT,IAAcH,CAAd,EAAiB,IAAIH,MAAM,CAACO,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCN,CAArC,EAAwCG,CAAxC,KAA8CM,CAAC,CAACC,OAAF,CAAUP,CAAV,IAAe,CAAjE,EAAoEJ,CAAC,CAACI,CAAD,CAAD,GAAOH,CAAC,CAACG,CAAD,CAAR;;IAErF,MAAIH,CAAC,IAAI,IAAL,IAAa,OAAOH,MAAM,CAACc,qBAAd,KAAwC,UAAzD,EAAqE,KAAK,IAAIrD,CAAC,GAAG,CAAR,EAAW6C,CAAC,GAAGN,MAAM,CAACc,qBAAP,CAA6BX,CAA7B,CAApB,EAAqD1C,CAAC,GAAG6C,CAAC,CAAC9C,MAA3D,EAAmEC,CAAC,EAApE,EAAwE,IAAImD,CAAC,CAACC,OAAF,CAAUP,CAAC,CAAC7C,CAAD,CAAX,IAAkB,CAAtB,EAAyByC,CAAC,CAACI,CAAC,CAAC7C,CAAD,CAAF,CAAD,GAAU0C,CAAC,CAACG,CAAC,CAAC7C,CAAD,CAAF,CAAX;IACtK,SAAOyC,CAAP;IACD;;IAED,IAAIa,UAAU,GAAG,aAAjB;;IAEA,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;IACpB,SAAOjE,QAAQ,CAACkE,eAAT,CAAyB,4BAAzB,EAAuDD,GAAvD,CAAP;IACD;;IAED,SAASE,UAAT,GAAsB;IACpB,MAAIC,EAAE,GAAGJ,OAAO,CAAC,KAAD,CAAhB;IACAnB,EAAAA,QAAQ,CAACuB,EAAD,EAAKL,UAAL,CAAR;IACA,SAAOK,EAAP;IACD;;IAED,SAASC,aAAT,CAAuB9B,OAAvB,EAAgC+B,UAAhC,EAA4C;IAC1C,OAAK,IAAI5D,IAAT,IAAiB4D,UAAjB,EAA6B;IAC3B/B,IAAAA,OAAO,CAACgC,YAAR,CAAqB7D,IAArB,EAA2B4D,UAAU,CAAC5D,IAAD,CAArC;IACD;IACF;;IAED,SAAS8D,SAAT,CAAmBjC,OAAnB,EAA4BnC,MAA5B,EAAoC;IAClC,MAAIqE,OAAO,GAAG,EAAd;;IAEA,OAAK,IAAI/D,IAAT,IAAiBN,MAAjB,EAAyB;IACvBqE,IAAAA,OAAO,CAACC,IAAR,CAAahE,IAAI,GAAG,GAAP,GAAaN,MAAM,CAACM,IAAD,CAAnB,GAA4B,GAAzC;IACD;;IAED6B,EAAAA,OAAO,CAAChC,KAAR,CAAckE,OAAd,IAAyBA,OAAO,CAACE,IAAR,CAAa,EAAb,CAAzB;IACD;;IAED,SAASC,gBAAT,CAA0BtD,KAA1B,EAAiCuD,GAAjC,EAAsCC,IAAtC,EAA4C;IAC1C,MAAIC,IAAI,GAAG/D,SAAS,CAACM,KAAD,CAApB;;IAEA,MAAIyD,IAAI,CAAC1D,IAAL,KAAc,GAAlB,EAAuB;IACrB,WAAOwD,GAAG,GAAGC,IAAI,GAAGC,IAAI,CAACzD,KAAZ,GAAoB,GAA1B,GAAgC,IAAvC;IACD,GAFD,MAEO,IAAIyD,IAAI,CAAC1D,IAAL,KAAc,IAAlB,EAAwB;IAC7B,WAAOwD,GAAG,GAAGE,IAAI,CAACzD,KAAX,GAAmB,IAA1B;IACD,GAFM,MAEA;IACL,WAAO,UAAUuD,GAAV,GAAgB,OAAhB,GAA0BvD,KAA1B,GAAkC,GAAzC;IACD;IACF;;IAED,SAAS0D,SAAT,CAAmBC,SAAnB,EAA8BC,EAA9B,EAAkC;IAChC,MAAIC,KAAK,GAAGD,EAAE,CAACC,KAAf;IAAA,MACIC,MAAM,GAAGF,EAAE,CAACE,MADhB;IAAA,MAEIC,IAAI,GAAGH,EAAE,CAACG,IAFd;IAAA,MAGIC,GAAG,GAAGJ,EAAE,CAACI,GAHb;IAAA,MAIIC,MAAM,GAAGL,EAAE,CAACK,MAJhB;;IAMA,MAAI,CAACA,MAAL,EAAa;IACX;IACD;;IAED,MAAIC,EAAE,GAAG,CAAC,KAAKD,MAAN,EAAcE,KAAd,CAAoB,GAApB,CAAT;IAAA,MACIC,EAAE,GAAGF,EAAE,CAAC,CAAD,CADX;IAAA,MAEIG,EAAE,GAAGH,EAAE,CAAC,CAAD,CAFX;IAAA,MAGII,EAAE,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgBD,EAAhB,GAAqBC,EAH9B;;IAKAD,EAAAA,EAAE,GAAGd,gBAAgB,CAACc,EAAD,EAAKL,IAAL,EAAWF,KAAX,CAArB;IACAS,EAAAA,EAAE,GAAGhB,gBAAgB,CAACgB,EAAD,EAAKN,GAAL,EAAUF,MAAV,CAArB;IACAH,EAAAA,SAAS,CAAC1E,KAAV,CAAgBsF,eAAhB,GAAkCH,EAAE,GAAG,GAAL,GAAWE,EAA7C;IACD;;IAED,SAASE,UAAT,CAAoBb,SAApB,EAA+BC,EAA/B,EAAmC;IACjC,MAAIC,KAAK,GAAGD,EAAE,CAACC,KAAf;IAAA,MACIC,MAAM,GAAGF,EAAE,CAACE,MADhB;IAAA,MAEIC,IAAI,GAAGH,EAAE,CAACG,IAFd;IAAA,MAGIU,KAAK,GAAGb,EAAE,CAACa,KAHf;IAAA,MAIIC,MAAM,GAAGd,EAAE,CAACc,MAJhB;IAAA,MAKIV,GAAG,GAAGJ,EAAE,CAACI,GALb;IAAA,MAMIW,WAAW,GAAGf,EAAE,CAACe,WANrB;IAAA,MAOIzD,SAAS,GAAG0C,EAAE,CAAC1C,SAPnB;;IASA,MAAIyC,SAAS,IAAI3C,QAAQ,CAAC2C,SAAD,EAAYlB,UAAZ,CAAzB,EAAkD;IAChDvB,IAAAA,SAAS,IAAIA,SAAS,CAACiD,KAAV,CAAgB,GAAhB,EAAqBS,OAArB,CAA6B,UAAUxF,IAAV,EAAgB;IACxDmC,MAAAA,QAAQ,CAACoC,SAAD,EAAYvE,IAAZ,CAAR;IACD,KAFY,CAAb;;IAIA,QAAI8E,EAAE,GAAG,CAACP,SAAS,CAACkB,YAAV,CAAuB,SAAvB,KAAqC,EAAtC,EAA0CV,KAA1C,CAAgD,GAAhD,EAAqDW,GAArD,CAAyD,UAAUvB,GAAV,EAAe;IAC/E,aAAOrD,UAAU,CAACqD,GAAG,IAAI,GAAR,CAAjB;IACD,KAFQ,CAAT;IAAA,QAGIc,EAAE,GAAGH,EAAE,CAAC,CAAD,CAHX;IAAA,QAIIa,QAAQ,GAAGV,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAJnC;IAAA,QAKIW,EAAE,GAAGd,EAAE,CAAC,CAAD,CALX;IAAA,QAMIe,SAAS,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EANpC;;IAQArB,IAAAA,SAAS,CAACV,YAAV,CAAuB,SAAvB,EAAkC;IAClCiC,IAAAA,IAAI,CAACC,GAAL,CAASpB,IAAI,GAAGF,KAAP,GAAeY,KAAf,GAAuBE,WAAhC,EAA6CI,QAA7C,IAAyD,GAAzD,GAA+DG,IAAI,CAACC,GAAL,CAASnB,GAAG,GAAGF,MAAN,GAAeY,MAAf,GAAwBC,WAAjC,EAA8CM,SAA9C,CAD7B,CAAlC;IAED;IACF;;IAED,SAASG,OAAT,CAAiBxB,EAAjB,EAAqB;IACnB,MAAIM,EAAE,GAAGN,EAAE,CAACG,IAAZ;IAAA,MACIA,IAAI,GAAGG,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAD/B;IAAA,MAEIG,EAAE,GAAGT,EAAE,CAACI,GAFZ;IAAA,MAGIA,GAAG,GAAGK,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAH9B;IAAA,MAIIW,EAAE,GAAGpB,EAAE,CAACyB,IAJZ;IAAA,MAKIA,IAAI,GAAGL,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAL/B;IAAA,MAMIM,EAAE,GAAG1B,EAAE,CAAC2B,MANZ;IAAA,MAOIA,MAAM,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAPjC;IAAA,MAQIE,EAAE,GAAG5B,EAAE,CAAC6B,WARZ;IAAA,MASIA,WAAW,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,GAAhB,GAAsBA,EATxC;IAAA,MAUIE,EAAE,GAAG9B,EAAE,CAACE,MAVZ;IAAA,MAWIA,MAAM,GAAG4B,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAXjC;IAAA,MAYIC,EAAE,GAAG/B,EAAE,CAACO,KAZZ;IAAA,MAaIA,KAAK,GAAGwB,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAbhC;IAAA,MAcIC,EAAE,GAAGhC,EAAE,CAACC,KAdZ;IAAA,MAeIA,KAAK,GAAG+B,EAAE,KAAK,KAAK,CAAZ,GAAgB9B,MAAM,GAAG,CAAH,GAAO,GAA7B,GAAmC8B,EAf/C;IAAA,MAgBIC,EAAE,GAAGjC,EAAE,CAACkC,cAhBZ;IAAA,MAiBIA,cAAc,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,OAAhB,GAA0BA,EAjB/C;IAAA,MAkBIE,EAAE,GAAGnC,EAAE,CAACe,WAlBZ;IAAA,MAmBIA,WAAW,GAAGoB,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAnBtC;IAoBA,MAAIC,OAAO,GAAG,EAAd;IACA,MAAIC,OAAO,GAAG,EAAd;IACA,MAAIC,OAAO,GAAGhB,IAAI,CAACiB,GAAL,CAASjB,IAAI,CAACkB,EAAL,GAAUf,IAAnB,CAAd;IACA,MAAIgB,QAAQ,GAAGnB,IAAI,CAACkB,EAAL,GAAU,GAAV,GAAgBb,MAAhB,GAAyBL,IAAI,CAACkB,EAAL,IAAW,CAACf,IAAI,GAAG,CAAP,GAAW,CAAX,GAAe,IAAIA,IAApB,IAA4B,IAAI,CAA3C,CAAxC;;IAEA,OAAK,IAAIlG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkG,IAApB,EAA0B,EAAElG,CAA5B,EAA+B;IAC7B,QAAImH,GAAG,GAAGpB,IAAI,CAACkB,EAAL,IAAW,IAAIf,IAAJ,GAAW,CAAX,GAAelG,CAA1B,IAA+BkH,QAAzC;IACA,QAAIF,GAAG,GAAGjB,IAAI,CAACiB,GAAL,CAASG,GAAT,CAAV;IACA,QAAIC,GAAG,GAAGrB,IAAI,CAACqB,GAAL,CAASD,GAAT,CAAV;IACAN,IAAAA,OAAO,CAAC5C,IAAR,CAAa+C,GAAb;IACAF,IAAAA,OAAO,CAAC7C,IAAR,CAAamD,GAAb;;IAEA,QAAId,WAAW,KAAK,GAApB,EAAyB;IACvB,UAAIS,OAAO,IAAIT,WAAW,GAAG,GAA7B,EAAkC;IAChC;IACD,OAFD,MAEO;IACLO,QAAAA,OAAO,CAAC5C,IAAR,CAAaqC,WAAW,GAAG,GAAd,GAAoBP,IAAI,CAACiB,GAAL,CAASG,GAAG,GAAGpB,IAAI,CAACkB,EAAL,GAAUf,IAAzB,CAAjC;IACAY,QAAAA,OAAO,CAAC7C,IAAR,CAAaqC,WAAW,GAAG,GAAd,GAAoBP,IAAI,CAACqB,GAAL,CAASD,GAAG,GAAGpB,IAAI,CAACkB,EAAL,GAAUf,IAAzB,CAAjC;IACD;IACF;IACF;;IAED,MAAImB,IAAI,GAAGtB,IAAI,CAACuB,GAAL,CAASrE,KAAT,CAAe8C,IAAf,EAAqBc,OAArB,CAAX;IACA,MAAIU,IAAI,GAAGxB,IAAI,CAACuB,GAAL,CAASrE,KAAT,CAAe8C,IAAf,EAAqBe,OAArB,CAAX;IACA,MAAIU,IAAI,GAAGzB,IAAI,CAACC,GAAL,CAAS/C,KAAT,CAAe8C,IAAf,EAAqBc,OAArB,CAAX;IACA,MAAIY,IAAI,GAAG1B,IAAI,CAACC,GAAL,CAAS/C,KAAT,CAAe8C,IAAf,EAAqBe,OAArB,CAAX;IACA,MAAIY,OAAO,GAAG,CAAC,CAAChD,KAAhB;IACA,MAAIiD,KAAK,GAAGD,OAAO,GAAGhD,KAAK,IAAI8C,IAAI,GAAGH,IAAX,CAAR,GAA2B1C,MAAM,IAAI8C,IAAI,GAAGF,IAAX,CAApD;IACA,MAAIK,OAAO,GAAGjB,cAAc,KAAK,OAAnB,IAA8BA,cAAc,KAAK,MAAjD,IAA2DA,cAAc,KAAK,YAA5F;IACA,MAAIkB,OAAO,GAAG9B,IAAI,CAACqB,GAAL,CAASrB,IAAI,CAACkB,EAAL,GAAUf,IAAnB,CAAd;IACA,MAAI4B,QAAQ,GAAG/B,IAAI,CAACuB,GAAL,CAASP,OAAT,EAAkBT,WAAW,GAAG,GAAhC,CAAf;IACA,MAAIyB,UAAU,GAAGJ,KAAK,GAAGG,QAAzB;IACA,MAAIE,QAAQ,GAAGxC,WAAW,GAAG,CAAd,IAAmBuB,OAAO,KAAKe,QAAZ,GAAuB,CAAvB,GAA2B/B,IAAI,CAACqB,GAAL,CAASrB,IAAI,CAACkC,IAAL,CAAUJ,OAAO,IAAId,OAAO,GAAGe,QAAd,CAAjB,CAAT,CAA9C,CAAf;IACA,MAAII,UAAU,GAAGN,OAAO,GAAG,CAACG,UAAU,GAAGC,QAAd,IAA0BD,UAA7B,GAA0C,CAAlE;IACA,MAAI3D,GAAG,GAAGwD,OAAO,GAAG,CAAH,GAAOpC,WAAW,GAAG,CAAtC;IACAqB,EAAAA,OAAO,GAAGA,OAAO,CAAClB,GAAR,CAAY,UAAUwC,EAAV,EAAc;IAClC,WAAO,CAACA,EAAE,GAAGd,IAAI,GAAGa,UAAb,IAA2BP,KAA3B,GAAmCvD,GAA1C;IACD,GAFS,CAAV;IAGA0C,EAAAA,OAAO,GAAGA,OAAO,CAACnB,GAAR,CAAY,UAAUyC,EAAV,EAAc;IAClC,WAAO,CAACA,EAAE,GAAGb,IAAI,GAAGW,UAAb,IAA2BP,KAA3B,GAAmCvD,GAA1C;IACD,GAFS,CAAV;IAGA,MAAIiE,SAAS,GAAG,CAACb,IAAI,GAAGH,IAAR,IAAgBa,UAAhB,GAA6BP,KAA7B,GAAqCvD,GAAG,GAAG,CAA3D;IACA,MAAIkE,UAAU,GAAG,CAACb,IAAI,GAAGF,IAAR,IAAgBW,UAAhB,GAA6BP,KAA7B,GAAqCvD,GAAG,GAAG,CAA5D;IACA,MAAIrE,MAAM,GAAG8G,OAAO,CAAC9G,MAArB;IACA,MAAIwI,MAAM,GAAG,EAAb;IACAA,EAAAA,MAAM,CAACtE,IAAP,CAAY,CAACW,IAAI,GAAGiC,OAAO,CAAC,CAAD,CAAf,EAAoBhC,GAAG,GAAGiC,OAAO,CAAC,CAAD,CAAjC,CAAZ;;IAEA,OAAK,IAAI9G,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAID,MAArB,EAA6B,EAAEC,CAA/B,EAAkC;IAChC,QAAIwI,EAAE,GAAG3B,OAAO,CAAC7G,CAAC,GAAG,CAAL,CAAhB;IACA,QAAIyI,EAAE,GAAG3B,OAAO,CAAC9G,CAAC,GAAG,CAAL,CAAhB;IACA,QAAI0I,EAAE,GAAG7B,OAAO,CAAC7G,CAAC,KAAKD,MAAN,GAAe,CAAf,GAAmBC,CAApB,CAAhB;IACA,QAAI2I,EAAE,GAAG7B,OAAO,CAAC9G,CAAC,KAAKD,MAAN,GAAe,CAAf,GAAmBC,CAApB,CAAhB;;IAEA,SAAK,IAAI4I,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI5D,KAArB,EAA4B,EAAE4D,CAA9B,EAAiC;IAC/B,UAAIC,CAAC,GAAG,CAACL,EAAE,IAAIxD,KAAK,GAAG4D,CAAZ,CAAF,GAAmBF,EAAE,GAAGE,CAAzB,IAA8B5D,KAAtC;IACA,UAAI8D,CAAC,GAAG,CAACL,EAAE,IAAIzD,KAAK,GAAG4D,CAAZ,CAAF,GAAmBD,EAAE,GAAGC,CAAzB,IAA8B5D,KAAtC;IACAuD,MAAAA,MAAM,CAACtE,IAAP,CAAY,CAACW,IAAI,GAAGiE,CAAR,EAAWhE,GAAG,GAAGiE,CAAjB,CAAZ;IACD;IACF;;IAED,SAAO;IACLP,IAAAA,MAAM,EAAEA,MADH;IAEL7D,IAAAA,KAAK,EAAE2D,SAFF;IAGL1D,IAAAA,MAAM,EAAE2D;IAHH,GAAP;IAKD;;IACD,SAASS,OAAT,CAAiBR,MAAjB,EAAyB;IACvB,SAAOA,MAAM,CAAC5C,GAAP,CAAW,UAAUqD,KAAV,EAAiBhJ,CAAjB,EAAoB;IACpC,WAAO,CAACA,CAAC,KAAK,CAAN,GAAU,GAAV,GAAgB,GAAjB,IAAwB,GAAxB,GAA8BgJ,KAAK,CAAC9E,IAAN,CAAW,GAAX,CAArC;IACD,GAFM,EAEJA,IAFI,CAEC,GAFD,IAEQ,IAFf;IAGD;;IACD,SAAS+E,EAAT,CAAYC,IAAZ,EAAkBzE,EAAlB,EAAsBD,SAAtB,EAAiC;IAC/B,MAAIO,EAAE,GAAGN,EAAE,CAACG,IAAZ;IAAA,MACIA,IAAI,GAAGG,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAD/B;IAAA,MAEIG,EAAE,GAAGT,EAAE,CAACI,GAFZ;IAAA,MAGIA,GAAG,GAAGK,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAH9B;IAAA,MAIIW,EAAE,GAAGpB,EAAE,CAACa,KAJZ;IAAA,MAKIA,KAAK,GAAGO,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EALhC;IAAA,MAMIM,EAAE,GAAG1B,EAAE,CAACc,MANZ;IAAA,MAOIA,MAAM,GAAGY,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAPjC;IAAA,MAQID,IAAI,GAAGzB,EAAE,CAACyB,IARd;IAAA,MASIlB,KAAK,GAAGP,EAAE,CAACO,KATf;IAAA,MAUIoB,MAAM,GAAG3B,EAAE,CAAC2B,MAVhB;IAAA,MAWIE,WAAW,GAAG7B,EAAE,CAAC6B,WAXrB;IAAA,MAYI3B,MAAM,GAAGF,EAAE,CAACE,MAZhB;IAAA,MAaID,KAAK,GAAGD,EAAE,CAACC,KAbf;IAAA,MAcI2B,EAAE,GAAG5B,EAAE,CAAC0E,IAdZ;IAAA,MAeIA,IAAI,GAAG9C,EAAE,KAAK,KAAK,CAAZ,GAAgB,aAAhB,GAAgCA,EAf3C;IAAA,MAgBIE,EAAE,GAAG9B,EAAE,CAACkC,cAhBZ;IAAA,MAiBIA,cAAc,GAAGJ,EAAE,KAAK,KAAK,CAAZ,GAAgB,OAAhB,GAA0BA,EAjB/C;IAAA,MAkBIC,EAAE,GAAG/B,EAAE,CAACe,WAlBZ;IAAA,MAmBIA,WAAW,GAAGgB,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAnBtC;IAAA,MAoBIC,EAAE,GAAGhC,EAAE,CAAC2E,GApBZ;IAAA,MAqBIA,GAAG,GAAG3C,EAAE,KAAK,KAAK,CAAZ,GAAgB,KAAhB,GAAwBA,EArBlC;IAAA,MAsBI1E,SAAS,GAAG0C,EAAE,CAAC1C,SAtBnB;IAAA,MAuBI8B,UAAU,GAAGX,QAAM,CAACuB,EAAD,EAAK,CAAC,MAAD,EAAS,KAAT,EAAgB,OAAhB,EAAyB,QAAzB,EAAmC,MAAnC,EAA2C,OAA3C,EAAoD,QAApD,EAA8D,aAA9D,EAA6E,QAA7E,EAAuF,OAAvF,EAAgG,MAAhG,EAAwG,gBAAxG,EAA0H,aAA1H,EAAyI,KAAzI,EAAgJ,WAAhJ,CAAL,CAvBvB;;IAyBA,MAAIiC,EAAE,GAAGT,OAAO,CAAC;IACfrB,IAAAA,IAAI,EAAEA,IADS;IAEfC,IAAAA,GAAG,EAAEA,GAFU;IAGfG,IAAAA,KAAK,EAAEA,KAHQ;IAIfkB,IAAAA,IAAI,EAAEA,IAJS;IAKfE,IAAAA,MAAM,EAAEA,MALO;IAMf1B,IAAAA,KAAK,EAAEA,KANQ;IAOfC,IAAAA,MAAM,EAAEA,MAPO;IAQf2B,IAAAA,WAAW,EAAEA,WARE;IASfK,IAAAA,cAAc,EAAEA,cATD;IAUfnB,IAAAA,WAAW,EAAEA;IAVE,GAAD,CAAhB;IAAA,MAYI+C,MAAM,GAAG7B,EAAE,CAAC6B,MAZhB;IAAA,MAaIF,SAAS,GAAG3B,EAAE,CAAChC,KAbnB;IAAA,MAcI4D,UAAU,GAAG5B,EAAE,CAAC/B,MAdpB;;IAgBAU,EAAAA,UAAU,CAACb,SAAD,EAAY;IACpBI,IAAAA,IAAI,EAAEA,IADc;IAEpBC,IAAAA,GAAG,EAAEA,GAFe;IAGpBU,IAAAA,MAAM,EAAEA,MAHY;IAIpBD,IAAAA,KAAK,EAAEA,KAJa;IAKpBvD,IAAAA,SAAS,EAAEA,SALS;IAMpByD,IAAAA,WAAW,EAAE,CANO;IAOpBd,IAAAA,KAAK,EAAE2D,SAPa;IAQpB1D,IAAAA,MAAM,EAAE2D;IARY,GAAZ,CAAV;IAUA,MAAIe,CAAC,GAAGN,OAAO,CAACR,MAAD,CAAf;IACAa,EAAAA,GAAG,GAAGrF,SAAS,CAACmF,IAAD,EAAO;IACpBG,IAAAA,CAAC,EAAE,WAAWA,CAAX,GAAe;IADE,GAAP,CAAZ,GAEEzF,aAAa,CAACsF,IAAD,EAAO;IACvBG,IAAAA,CAAC,EAAEA;IADoB,GAAP,CAFlB;IAKAzF,EAAAA,aAAa,CAACsF,IAAD,EAAO5G,UAAQ,CAAC;IAC3B6G,IAAAA,IAAI,EAAEA,IADqB;IAE3B,uBAAmBxC,cAFQ;IAG3B,oBAAgB,KAAKnB;IAHM,GAAD,EAIzB3B,UAJyB,CAAf,CAAb;IAKD;;IAUD,SAASyF,IAAT,CAAcC,OAAd,EAAuB/E,SAAvB,EAAkC;IAChC,MAAIA,SAAS,KAAK,KAAK,CAAvB,EAA0B;IACxBA,IAAAA,SAAS,GAAGd,UAAU,EAAtB;IACD;;IAED,MAAIwF,IAAI,GAAG3F,OAAO,CAAC,MAAD,CAAlB;IACA0F,EAAAA,EAAE,CAACC,IAAD,EAAOK,OAAP,EAAgB/E,SAAhB,CAAF;IACAA,EAAAA,SAAS,CAACgF,WAAV,CAAsBN,IAAtB;IACA,SAAO1E,SAAP;IACD;;IACD,SAASiF,IAAT,CAAchF,EAAd,EAAkBD,SAAlB,EAA6B;IAC3B,MAAIA,SAAS,KAAK,KAAK,CAAvB,EAA0B;IACxBA,IAAAA,SAAS,GAAGd,UAAU,EAAtB;IACD;;IAED,MAAIqB,EAAE,GAAGN,EAAE,CAACG,IAAZ;IAAA,MACIA,IAAI,GAAGG,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAD/B;IAAA,MAEIG,EAAE,GAAGT,EAAE,CAACI,GAFZ;IAAA,MAGIA,GAAG,GAAGK,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAH9B;IAAA,MAIIW,EAAE,GAAGpB,EAAE,CAACa,KAJZ;IAAA,MAKIA,KAAK,GAAGO,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EALhC;IAAA,MAMIM,EAAE,GAAG1B,EAAE,CAACc,MANZ;IAAA,MAOIA,MAAM,GAAGY,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAPjC;IAAA,MAQIE,EAAE,GAAG5B,EAAE,CAAC0E,IARZ;IAAA,MASIA,IAAI,GAAG9C,EAAE,KAAK,KAAK,CAAZ,GAAgB,aAAhB,GAAgCA,EAT3C;IAAA,MAUIE,EAAE,GAAG9B,EAAE,CAACkC,cAVZ;IAAA,MAWIA,cAAc,GAAGJ,EAAE,KAAK,KAAK,CAAZ,GAAgB,OAAhB,GAA0BA,EAX/C;IAAA,MAYIC,EAAE,GAAG/B,EAAE,CAACe,WAZZ;IAAA,MAaIA,WAAW,GAAGgB,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAbtC;IAAA,MAcIzE,SAAS,GAAG0C,EAAE,CAAC1C,SAdnB;IAAA,MAeI0E,EAAE,GAAGhC,EAAE,CAACiF,CAfZ;IAAA,MAgBIA,CAAC,GAAGjD,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAhB5B;IAAA,MAiBIC,EAAE,GAAGjC,EAAE,CAACkF,EAjBZ;IAAA,MAkBIA,EAAE,GAAGjD,EAAE,KAAK,KAAK,CAAZ,GAAgBgD,CAAhB,GAAoBhD,EAlB7B;IAAA,MAmBIE,EAAE,GAAGnC,EAAE,CAACmF,EAnBZ;IAAA,MAoBIA,EAAE,GAAGhD,EAAE,KAAK,KAAK,CAAZ,GAAgB8C,CAAhB,GAAoB9C,EApB7B;IAAA,MAqBIiD,EAAE,GAAGpF,EAAE,CAACC,KArBZ;IAAA,MAsBIA,KAAK,GAAGmF,EAAE,KAAK,KAAK,CAAZ,GAAgBF,EAAE,GAAG,CAArB,GAAyBE,EAtBrC;IAAA,MAuBIC,EAAE,GAAGrF,EAAE,CAACE,MAvBZ;IAAA,MAwBIA,MAAM,GAAGmF,EAAE,KAAK,KAAK,CAAZ,GAAgBF,EAAE,GAAG,CAArB,GAAyBE,EAxBtC;IAAA,MAyBIhF,MAAM,GAAGL,EAAE,CAACK,MAzBhB;IAAA,MA0BIjB,UAAU,GAAGX,QAAM,CAACuB,EAAD,EAAK,CAAC,MAAD,EAAS,KAAT,EAAgB,OAAhB,EAAyB,QAAzB,EAAmC,MAAnC,EAA2C,gBAA3C,EAA6D,aAA7D,EAA4E,WAA5E,EAAyF,GAAzF,EAA8F,IAA9F,EAAoG,IAApG,EAA0G,OAA1G,EAAmH,QAAnH,EAA6H,QAA7H,CAAL,CA1BvB;;IA4BA,MAAIsF,OAAO,GAAGxG,OAAO,CAAC,SAAD,CAArB;IACA,MAAIyG,UAAU,GAAGxE,WAAW,GAAG,CAA/B;IACAH,EAAAA,UAAU,CAACb,SAAD,EAAY;IACpBgB,IAAAA,WAAW,EAAEA,WADO;IAEpBZ,IAAAA,IAAI,EAAEA,IAFc;IAGpBC,IAAAA,GAAG,EAAEA,GAHe;IAIpBU,IAAAA,MAAM,EAAEA,MAJY;IAKpBD,IAAAA,KAAK,EAAEA,KALa;IAMpBvD,IAAAA,SAAS,EAAEA,SANS;IAOpB2C,IAAAA,KAAK,EAAEA,KAPa;IAQpBC,IAAAA,MAAM,EAAEA;IARY,GAAZ,CAAV;IAUAJ,EAAAA,SAAS,CAACwF,OAAD,EAAU;IACjBnF,IAAAA,IAAI,EAAEA,IAAI,GAAGoF,UADI;IAEjBnF,IAAAA,GAAG,EAAEA,GAAG,GAAGmF,UAFM;IAGjBtF,IAAAA,KAAK,EAAEA,KAHU;IAIjBC,IAAAA,MAAM,EAAEA,MAJS;IAKjBG,IAAAA,MAAM,EAAEA;IALS,GAAV,CAAT;IAOAlB,EAAAA,aAAa,CAACmG,OAAD,EAAUzH,UAAQ,CAAC;IAC9B6G,IAAAA,IAAI,EAAEA,IADwB;IAE9B,UAAMvE,IAAI,GAAGoF,UAAP,GAAoBtF,KAAK,GAAG,CAFJ;IAG9B,UAAMG,GAAG,GAAGmF,UAAN,GAAmBrF,MAAM,GAAG,CAHJ;IAI9B,UAAMD,KAAK,GAAG,CAAR,GAAYsF,UAJY;IAK9B,UAAMrF,MAAM,GAAG,CAAT,GAAaqF,UALW;IAM9B,uBAAmBrD,cANW;IAO9B,oBAAgB,KAAKnB;IAPS,GAAD,EAQ5B3B,UAR4B,CAAlB,CAAb;IASAW,EAAAA,SAAS,CAACgF,WAAV,CAAsBO,OAAtB;IACA,SAAOvF,SAAP;IACD;;ICrXD;;;;;;;;;;IASA;;;;IAIA,SAASyF,aAAT,CAAqBpJ,KAArB,EAA4B;IAC1B,SAAO,OAAOA,KAAP,KAAiB,WAAxB;IACD;IACD;;;;;;;IAOA,IAAIqJ,SAAS;IACb;IACA,YAAY;IACV,MAAIA,SAAS;IACb;IACA,cAAY;IACV;;;;;;;;;;;IAWA;;;IAGA,aAASA,SAAT,GAAqB;IACnB,WAAKC,aAAL,GAAqB,EAArB;IACA,WAAKZ,OAAL,GAAe,EAAf;IACD;IACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA6BA,QAAIa,MAAM,GAAGF,SAAS,CAACpH,SAAvB;;IAEAsH,IAAAA,MAAM,CAACC,OAAP,GAAiB,SAASA,OAAT,CAAiBC,SAAjB,EAA4BC,WAA5B,EAAyC;IACxD,UAAIA,WAAW,KAAK,KAAK,CAAzB,EAA4B;IAC1BA,QAAAA,WAAW,GAAG,EAAd;IACD;;IAED,UAAIC,WAAW,GAAG,KAAKL,aAAL,CAAmBG,SAAnB,KAAiC,EAAnD;IACA,UAAIG,cAAc,GAAGD,WAAW,CAACzK,MAAZ,GAAqB,CAA1C;;IAEA,UAAI,CAAC0K,cAAL,EAAqB;IACnB,eAAO,IAAP;IACD,OAVuD;;;IAaxDD,MAAAA,WAAW,GAAGA,WAAW,CAACE,MAAZ,EAAd;IACAH,MAAAA,WAAW,CAACI,SAAZ,GAAwBL,SAAxB;IACA,UAAIM,UAAU,GAAG,KAAjB;IACA,UAAIC,GAAG,GAAG,CAACN,WAAD,CAAV;IACA,UAAIvK,CAAC,GAAG,CAAR;;IAEAuK,MAAAA,WAAW,CAACO,IAAZ,GAAmB,YAAY;IAC7BF,QAAAA,UAAU,GAAG,IAAb;IACD,OAFD;;IAIAL,MAAAA,WAAW,CAACQ,aAAZ,GAA4B,IAA5B;;IAEA,WAAK,IAAIC,IAAI,GAAGpI,SAAS,CAAC7C,MAArB,EAA6BkL,SAAS,GAAG,IAAIC,KAAJ,CAAUF,IAAI,GAAG,CAAP,GAAWA,IAAI,GAAG,CAAlB,GAAsB,CAAhC,CAAzC,EAA6EG,IAAI,GAAG,CAAzF,EAA4FA,IAAI,GAAGH,IAAnG,EAAyGG,IAAI,EAA7G,EAAiH;IAC/GF,QAAAA,SAAS,CAACE,IAAI,GAAG,CAAR,CAAT,GAAsBvI,SAAS,CAACuI,IAAD,CAA/B;IACD;;IAED,UAAIF,SAAS,CAAClL,MAAV,IAAoB,CAAxB,EAA2B;IACzB8K,QAAAA,GAAG,GAAGA,GAAG,CAACH,MAAJ,CAAWO,SAAX,CAAN;IACD;;IAED,WAAKjL,CAAC,GAAG,CAAT,EAAYwK,WAAW,CAACxK,CAAD,CAAvB,EAA4BA,CAAC,EAA7B,EAAiC;IAC/BwK,QAAAA,WAAW,CAACxK,CAAD,CAAX,CAAeiD,KAAf,CAAqB,IAArB,EAA2B4H,GAA3B;IACD;;IAED,aAAO,CAACD,UAAR;IACD,KAtCD;IAuCA;;;;;;;;;;;;;;;;;;;;;;;;IAwBAR,IAAAA,MAAM,CAACgB,IAAP,GAAc,SAASA,IAAT,CAAcd,SAAd,EAAyBe,eAAzB,EAA0C;IACtD,UAAI,OAAOf,SAAP,KAAqB,QAArB,IAAiCL,aAAW,CAACoB,eAAD,CAAhD,EAAmE;IACjE,YAAIC,SAAS,GAAGhB,SAAhB;IACA,YAAItK,CAAJ;;IAEA,aAAKA,CAAL,IAAUsL,SAAV,EAAqB;IACnB,eAAKF,IAAL,CAAUpL,CAAV,EAAasL,SAAS,CAACtL,CAAD,CAAtB;IACD;;IAED,eAAO,IAAP;IACD,OATD,MASO,IAAI,OAAOsK,SAAP,KAAqB,QAArB,IAAiC,OAAOe,eAAP,KAA2B,UAAhE,EAA4E;IACjF,YAAIE,IAAI,GAAG,IAAX;IACA,aAAKC,EAAL,CAAQlB,SAAR,EAAmB,SAASmB,QAAT,GAAoB;IACrC,eAAK,IAAIC,KAAK,GAAG9I,SAAS,CAAC7C,MAAtB,EAA8B8K,GAAG,GAAG,IAAIK,KAAJ,CAAUQ,KAAV,CAApC,EAAsDC,KAAK,GAAG,CAAnE,EAAsEA,KAAK,GAAGD,KAA9E,EAAqFC,KAAK,EAA1F,EAA8F;IAC5Fd,YAAAA,GAAG,CAACc,KAAD,CAAH,GAAa/I,SAAS,CAAC+I,KAAD,CAAtB;IACD;;IAEDN,UAAAA,eAAe,CAACpI,KAAhB,CAAsBsI,IAAtB,EAA4BV,GAA5B;IACAU,UAAAA,IAAI,CAACK,GAAL,CAAStB,SAAT,EAAoBmB,QAApB;IACD,SAPD;IAQD;;IAED,aAAO,IAAP;IACD,KAvBD;IAwBA;;;;;;;;;;;;;;IAcArB,IAAAA,MAAM,CAACyB,KAAP,GAAe,SAASA,KAAT,CAAevB,SAAf,EAA0B;IACvC,aAAO,CAAC,CAAC,KAAKH,aAAL,CAAmBG,SAAnB,CAAT;IACD,KAFD;IAGA;;;;;;;;;;;;;;;;;;IAkBAF,IAAAA,MAAM,CAACoB,EAAP,GAAY,SAASA,EAAT,CAAYlB,SAAZ,EAAuBe,eAAvB,EAAwC;IAClD,UAAI,OAAOf,SAAP,KAAqB,QAArB,IAAiCL,aAAW,CAACoB,eAAD,CAAhD,EAAmE;IACjE,YAAIC,SAAS,GAAGhB,SAAhB;IACA,YAAIrK,IAAJ;;IAEA,aAAKA,IAAL,IAAaqL,SAAb,EAAwB;IACtB,eAAKE,EAAL,CAAQvL,IAAR,EAAcqL,SAAS,CAACrL,IAAD,CAAvB;IACD;;IAED,eAAO,IAAP;IACD,OATD,MASO,IAAI,OAAOqK,SAAP,KAAqB,QAArB,IAAiC,OAAOe,eAAP,KAA2B,UAAhE,EAA4E;IACjF,YAAIb,WAAW,GAAG,KAAKL,aAAL,CAAmBG,SAAnB,CAAlB;;IAEA,YAAIL,aAAW,CAACO,WAAD,CAAf,EAA8B;IAC5B,eAAKL,aAAL,CAAmBG,SAAnB,IAAgC,EAAhC;IACAE,UAAAA,WAAW,GAAG,KAAKL,aAAL,CAAmBG,SAAnB,CAAd;IACD;;IAEDE,QAAAA,WAAW,CAACvG,IAAZ,CAAiBoH,eAAjB;IACD;;IAED,aAAO,IAAP;IACD,KAtBD;IAuBA;;;;;;;;;;;;;;;;;;IAkBAjB,IAAAA,MAAM,CAACwB,GAAP,GAAa,SAASA,GAAT,CAAatB,SAAb,EAAwBwB,eAAxB,EAAyC;IACpD;IACA,UAAI7B,aAAW,CAACK,SAAD,CAAf,EAA4B;IAC1B,aAAKH,aAAL,GAAqB,EAArB;IACA,eAAO,IAAP;IACD,OALmD;;;IAQpD,UAAIF,aAAW,CAAC6B,eAAD,CAAf,EAAkC;IAChC,YAAI,OAAOxB,SAAP,KAAqB,QAAzB,EAAmC;IACjC,eAAKH,aAAL,CAAmBG,SAAnB,IAAgCyB,SAAhC;IACA,iBAAO,IAAP;IACD,SAHD,MAGO;IACL,cAAIT,SAAS,GAAGhB,SAAhB;IACA,cAAIrK,IAAJ;;IAEA,eAAKA,IAAL,IAAaqL,SAAb,EAAwB;IACtB,iBAAKM,GAAL,CAAS3L,IAAT,EAAeqL,SAAS,CAACrL,IAAD,CAAxB;IACD;;IAED,iBAAO,IAAP;IACD;IACF,OAtBmD;;;IAyBpD,UAAIuK,WAAW,GAAG,KAAKL,aAAL,CAAmBG,SAAnB,CAAlB;;IAEA,UAAIE,WAAJ,EAAiB;IACf,YAAIwB,CAAJ;IACA,YAAIC,eAAJ;;IAEA,aAAKD,CAAC,GAAG,CAAT,EAAY,CAACC,eAAe,GAAGzB,WAAW,CAACwB,CAAD,CAA9B,MAAuCD,SAAnD,EAA8DC,CAAC,EAA/D,EAAmE;IACjE,cAAIC,eAAe,KAAKH,eAAxB,EAAyC;IACvCtB,YAAAA,WAAW,GAAGA,WAAW,CAAC0B,MAAZ,CAAmBF,CAAnB,EAAsB,CAAtB,CAAd;IACA;IACD;IACF;IACF;;IAED,aAAO,IAAP;IACD,KAxCD;;IA0CA,WAAO9B,SAAP;IACD,GAhQD,EAFA;;IAoQAA,EAAAA,SAAS,CAACiC,OAAV,GAAoB,OAApB;IACA,SAAOjC,SAAP;IACD,CAvQD,EAFA;;ICvBA;;;;;;;;IA4FA;;;;;;;;;IASA,IAAIkC,QAAM,GAAG,QAAb;AACA,IAoBA;;;;;;;;;IASA,IAAIjN,WAAS,GAAG,WAAhB;IACA;;;;;;;;;;IAUA,IAAIC,WAAS,GAAG,OAAOC,MAAP,KAAkBF,WAAlC;IACA;;;;;;;;;;;IAWA,IAAIG,KAAG,GAAG,OAAOC,QAAP,KAAoBJ,WAApB,IAAiCI,QAA3C;IACA,IAAIC,UAAQ,GAAG,CAAC,QAAD,EAAW,IAAX,EAAiB,KAAjB,EAAwB,GAAxB,CAAf;IACA;;;;IAIA;;;;;;;;;;;;;IAaA,IAAIC,yBAAuB;IAC3B;IACA,UAAUC,QAAV,EAAoB;IAClB,MAAI,CAACJ,KAAL,EAAU;IACR,WAAO,EAAP;IACD;;IAED,MAAIK,MAAM,GAAG,CAACL,KAAG,CAACM,IAAJ,IAAYN,KAAG,CAACO,eAAjB,EAAkCC,KAA/C;IACA,MAAIC,MAAM,GAAGP,UAAQ,CAACO,MAAtB;;IAEA,MAAI,OAAOJ,MAAM,CAACD,QAAD,CAAb,KAA4BP,WAAhC,EAA2C;IACzC,WAAOO,QAAP;IACD;;IAED,OAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;IAC/B,QAAIC,IAAI,GAAG,MAAMT,UAAQ,CAACQ,CAAD,CAAd,GAAoB,GAApB,GAA0BN,QAArC;;IAEA,QAAI,OAAOC,MAAM,CAACM,IAAD,CAAb,KAAwBd,WAA5B,EAAuC;IACrC,aAAOc,IAAP;IACD;IACF;;IAED,SAAO,EAAP;IACD,CAvBD;IAwBA;;;;;;;;;;IASA,IAAIC,WAAS;IACb;AACAT,6BAAuB,CAAC,WAAD,CAFvB;IAGA;;;;;;;;;IASA,IAAIU,QAAM;IACV;AACAV,6BAAuB,CAAC,QAAD,CAFvB;IAGA;;;;;;;;;IASA,IAAIW,WAAS;IACb;AACAX,6BAAuB,CAAC,WAAD,CAFvB;IAGA;;;;;;;;;IASA,IAAIY,WAAS;IACb;AACAD,eAAS,CAACE,OAAV,CAAkB,WAAlB,EAA+B,WAA/B,CAFA;AAIA,IAsBA;;;;;;;;;;;;;;;IAcA,SAAS+L,UAAT,CAAkBxL,KAAlB,EAAyB;IACvB,SAAOA,KAAK,IAAI,OAAOA,KAAP,KAAiBuL,QAAjC;IACD;IACD;;;;;;;;;;;;;;;IAcA,SAASE,SAAT,CAAiBzL,KAAjB,EAAwB;IACtB,SAAOqK,KAAK,CAACoB,OAAN,CAAczL,KAAd,CAAP;IACD;AACD,IAmCA;;;;;;;;;;;;;;;IAcA,SAAS0L,YAAT,CAAoB/L,IAApB,EAA0B;IACxB;IACA,MAAIC,OAAO,GAAGD,IAAI,CAAC0B,KAAL,CAAW,2EAAX,CAAd;IACA,SAAOzB,OAAO,IAAI,EAAlB;IACD;AACD,IAsBA;;;;;;;;;;;;;;;IAcA,SAAS+L,cAAT,CAAsBhM,IAAtB,EAA4B;IAC1B,MAAIC,OAAO,GAAG,iCAAiCC,IAAjC,CAAsCF,IAAtC,CAAd;;IAEA,MAAI,CAACC,OAAD,IAAYA,OAAO,CAACV,MAAR,GAAiB,CAAjC,EAAoC;IAClC,WAAO,EAAP;IACD,GAFD,MAEO;IACL,WAAO;IACLY,MAAAA,MAAM,EAAEF,OAAO,CAAC,CAAD,CADV;IAELI,MAAAA,KAAK,EAAEJ,OAAO,CAAC,CAAD,CAFT;IAGLgM,MAAAA,MAAM,EAAEhM,OAAO,CAAC,CAAD;IAHV,KAAP;IAKD;IACF;IACD;;;;;;;;;;;;;;;;;IAgBA,SAASF,WAAT,CAAmBC,IAAnB,EAAyB;IACvB,MAAIC,OAAO,GAAG,gDAAgDC,IAAhD,CAAqDF,IAArD,CAAd;;IAEA,MAAI,CAACC,OAAL,EAAc;IACZ,WAAO;IACLE,MAAAA,MAAM,EAAE,EADH;IAELC,MAAAA,IAAI,EAAE,EAFD;IAGLC,MAAAA,KAAK,EAAEC;IAHF,KAAP;IAKD;;IAED,MAAIH,MAAM,GAAGF,OAAO,CAAC,CAAD,CAApB;IACA,MAAII,KAAK,GAAGJ,OAAO,CAAC,CAAD,CAAnB;IACA,MAAIG,IAAI,GAAGH,OAAO,CAAC,CAAD,CAAlB;IACA,SAAO;IACLE,IAAAA,MAAM,EAAEA,MADH;IAELC,IAAAA,IAAI,EAAEA,IAFD;IAGLC,IAAAA,KAAK,EAAEE,UAAU,CAACF,KAAD;IAHZ,GAAP;IAKD;AACD,IAwCA;;;;;;;;;;;IAUA,SAASG,KAAT,GAAe;IACb,SAAOC,IAAI,CAACD,GAAL,GAAWC,IAAI,CAACD,GAAL,EAAX,GAAwB,IAAIC,IAAJ,GAAWC,OAAX,EAA/B;IACD;IACD;;;;;;;;;;;;;;;IAcA,IAAIC,uBAAqB;IACzB;IACA,YAAY;IACV,MAAIC,SAAS,GAAGJ,KAAG,EAAnB;IACA,MAAIK,GAAG,GAAGjC,WAAS,KAAKC,MAAM,CAAC8B,qBAAP,IAAgC9B,MAAM,CAACiC,2BAAvC,IAAsEjC,MAAM,CAACkC,wBAAlF,CAAnB;IACA,SAAOF,GAAG,GAAGA,GAAG,CAACG,IAAJ,CAASnC,MAAT,CAAH,GAAsB,UAAUoC,QAAV,EAAoB;IAClD,QAAIC,QAAQ,GAAGV,KAAG,EAAlB;IACA,QAAIW,EAAE,GAAGtC,MAAM,CAACuC,UAAP,CAAkB,YAAY;IACrCH,MAAAA,QAAQ,CAACC,QAAQ,GAAGN,SAAZ,CAAR;IACD,KAFQ,EAEN,OAAO,EAFD,CAAT;IAGA,WAAOO,EAAP;IACD,GAND;IAOD,CAVD,EAFA;AAcA,IA2KA;;;;;IAKA;;;;;;;;;;;;;IAYA,SAAS+K,GAAT,CAAWC,SAAX,EAAsBC,KAAtB,EAA6B;IAC3B,SAAOA,KAAK,GAAGtN,KAAG,CAACuN,gBAAJ,CAAqBF,SAArB,CAAH,GAAqCrN,KAAG,CAACwN,aAAJ,CAAkBH,SAAlB,CAAjD;IACD;;ICxsBD;;;;;;;;AAQA,IAGA;;;;;;;;;;;;;;;IAeA;;IACA,IAAII,eAAa,GAAG,UAAU1D,CAAV,EAAa2D,CAAb,EAAgB;IAClCD,EAAAA,eAAa,GAAGxK,MAAM,CAAC0K,cAAP,IAAyB;IACvCC,IAAAA,SAAS,EAAE;IAD4B,eAE5BhC,KAF4B,IAEnB,UAAU7B,CAAV,EAAa2D,CAAb,EAAgB;IACpC3D,IAAAA,CAAC,CAAC6D,SAAF,GAAcF,CAAd;IACD,GAJe,IAIX,UAAU3D,CAAV,EAAa2D,CAAb,EAAgB;IACnB,SAAK,IAAInK,CAAT,IAAcmK,CAAd,EAAiB,IAAIA,CAAC,CAACjK,cAAF,CAAiBF,CAAjB,CAAJ,EAAyBwG,CAAC,CAACxG,CAAD,CAAD,GAAOmK,CAAC,CAACnK,CAAD,CAAR;IAC3C,GAND;;IAQA,SAAOkK,eAAa,CAAC1D,CAAD,EAAI2D,CAAJ,CAApB;IACD,CAVD;;IAYA,SAASG,WAAT,CAAmB9D,CAAnB,EAAsB2D,CAAtB,EAAyB;IACvBD,EAAAA,eAAa,CAAC1D,CAAD,EAAI2D,CAAJ,CAAb;;IAEA,WAASI,EAAT,GAAc;IACZ,SAAKC,WAAL,GAAmBhE,CAAnB;IACD;;IAEDA,EAAAA,CAAC,CAACvG,SAAF,GAAckK,CAAC,KAAK,IAAN,GAAazK,MAAM,CAAC+K,MAAP,CAAcN,CAAd,CAAb,IAAiCI,EAAE,CAACtK,SAAH,GAAekK,CAAC,CAAClK,SAAjB,EAA4B,IAAIsK,EAAJ,EAA7D,CAAd;IACD;;IAED,IAAI1I,KAAK,GAAG,CAAZ;IACA,IAAIC,MAAM,GAAG,CAAb;;IAEA,SAAS4I,MAAT,GAAkB;IAChB7I,EAAAA,KAAK,GAAGrF,MAAM,CAACmO,UAAf;IACA7I,EAAAA,MAAM,GAAGtF,MAAM,CAACoO,WAAhB;IACD;;IAEDpO,MAAM,CAACqO,gBAAP,CAAwB,QAAxB,EAAkCH,MAAlC;IACAA,MAAM;IAEN,IAAII,UAAU,GAAI;IACd,MAAIjJ,KAAJ,GAAa;IAAE,WAAOA,KAAP;IAAe,GADhB;;IAEd,MAAIC,MAAJ,GAAc;IAAE,WAAOA,MAAP;IAAgB;;IAFlB,CAAlB;IAKA;;;;;;;;;;;;;IAaA,IAAIiJ,IAAI;IACR;IACA,UAAUC,MAAV,EAAkB;IAChBV,EAAAA,WAAS,CAACS,IAAD,EAAOC,MAAP,CAAT;IACA;;;;IAIA,WAASD,IAAT,CAAcjK,EAAd,EAAkB4F,OAAlB,EAA2B;IACzB,QAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;IACtBA,MAAAA,OAAO,GAAG,EAAV;IACD;;IAED,QAAIuE,KAAK,GAAGD,MAAM,CAAC7K,IAAP,CAAY,IAAZ,KAAqB,IAAjC;;IAEA8K,IAAAA,KAAK,CAACC,MAAN,GAAe,EAAf;IACAD,IAAAA,KAAK,CAACE,MAAN,GAAe,CAAC,CAAD,EAAI,MAAJ,CAAf;IACAF,IAAAA,KAAK,CAACG,UAAN,GAAmB,KAAnB;IACAH,IAAAA,KAAK,CAACI,MAAN,GAAe,CAAC,CAAD,EAAI,CAAJ,CAAf;IACAJ,IAAAA,KAAK,CAACK,KAAN,GAAc,EAAd;IACAL,IAAAA,KAAK,CAACM,KAAN,GAAc;IACZC,MAAAA,KAAK,EAAE,KADK;IAEZC,MAAAA,UAAU,EAAE,KAFA;IAGZC,MAAAA,SAAS,EAAE;IAHC,KAAd;IAKA;;;;IAIAT,IAAAA,KAAK,CAACU,MAAN,GAAe,YAAY;IACzBV,MAAAA,KAAK,CAACW,YAAN,CAAmB,QAAnB;;IAEAX,MAAAA,KAAK,CAACY,OAAN;IACD,KAJD;IAKA;;;;;IAKAZ,IAAAA,KAAK,CAACP,MAAN,GAAe,YAAY;IACzBO,MAAAA,KAAK,CAACW,YAAN,CAAmB,QAAnB;;IAEAX,MAAAA,KAAK,CAACY,OAAN;IACD,KAJD;;IAMAZ,IAAAA,KAAK,CAACnK,EAAN,GAAWA,EAAE,GAAG0I,UAAQ,CAAC1I,EAAD,CAAR,GAAeA,EAAf,GAAoB+I,GAAC,CAAC/I,EAAD,CAAxB,GAA+B,IAA5C;;IAEA,QAAI,WAAW4F,OAAf,EAAwB;IACtB,UAAIoF,KAAK,GAAGpF,OAAO,CAACoF,KAApB;IACA,UAAIC,QAAQ,GAAGtC,SAAO,CAACqC,KAAD,CAAP,GAAiBA,KAAjB,GAAyB,CAACA,KAAD,EAAQA,KAAR,CAAxC;IACAb,MAAAA,KAAK,CAACE,MAAN,GAAeY,QAAf;IACD;;IAED,QAAI,YAAYrF,OAAhB,EAAyB;IACvB,UAAI2E,MAAM,GAAG3E,OAAO,CAAC2E,MAArB;;IAEA,UAAI5B,SAAO,CAAC4B,MAAD,CAAX,EAAqB;IACnBJ,QAAAA,KAAK,CAACI,MAAN,GAAeA,MAAf;IACD,OAFD,MAEO;IACLJ,QAAAA,KAAK,CAACI,MAAN,GAAe,CAACA,MAAD,EAASA,MAAT,CAAf;IACD;IACF;;IAED,QAAI,YAAY3E,OAAhB,EAAyB;IACvBA,MAAAA,OAAO,CAACsF,MAAR,CAAepJ,OAAf,CAAuB,UAAUxF,IAAV,EAAgB;IACrC,YAAIA,IAAI,KAAK,QAAb,EAAuB;IACrBZ,UAAAA,MAAM,CAACqO,gBAAP,CAAwB,QAAxB,EAAkCI,KAAK,CAACP,MAAxC;IACD,SAFD,MAEO,IAAItN,IAAI,KAAK,QAAb,EAAuB;IAC5BZ,UAAAA,MAAM,CAACqO,gBAAP,CAAwB,QAAxB,EAAkCI,KAAK,CAACU,MAAxC;IACD,SAFM,MAEA;IACLV,UAAAA,KAAK,CAACnK,EAAN,IAAYmK,KAAK,CAACnK,EAAN,CAAS+J,gBAAT,CAA0BzN,IAA1B,EAAgC6N,KAAK,CAACU,MAAtC,CAAZ;IACD;IACF,OARD;IASD;;IAED,QAAI,gBAAgBjF,OAApB,EAA6B;IAC3BuE,MAAAA,KAAK,CAACG,UAAN,GAAmB1E,OAAO,CAAC0E,UAA3B;IACD;;IAED,WAAOH,KAAP;IACD;IACD;;;;IAIA,MAAIgB,OAAO,GAAGlB,IAAI,CAAC9K,SAAnB;;IAEAgM,EAAAA,OAAO,CAACzM,GAAR,GAAc,UAAU0M,IAAV,EAAgB;IAC5B,SAAKZ,KAAL,CAAWlK,IAAX,CAAgB8K,IAAhB;IACA,WAAO,IAAP;IACD,GAHD;IAIA;;;;IAIAD,EAAAA,OAAO,CAACH,KAAR,GAAgB,UAAUA,KAAV,EAAiBV,UAAjB,EAA6B;IAC3C,QAAIU,KAAK,KAAK,KAAK,CAAnB,EAAsB;IACpBA,MAAAA,KAAK,GAAG,CAAC,CAAD,EAAI,MAAJ,CAAR;IACD;;IAED,QAAIC,QAAQ,GAAGtC,SAAO,CAACqC,KAAD,CAAP,GAAiBA,KAAjB,GAAyB,CAACA,KAAD,EAAQA,KAAR,CAAxC;IACA,QAAIhN,EAAE,GAAG,MAAMiN,QAAQ,CAAC1K,IAAT,CAAc,GAAd,CAAN,GAA2B,GAApC;;IAEA,QAAI,KAAK6J,MAAL,CAAYpM,EAAZ,CAAJ,EAAqB;IACnB,aAAO,KAAKoM,MAAL,CAAYpM,EAAZ,CAAP;IACD;;IAED,QAAIoN,IAAI,GAAG,IAAInB,IAAJ,CAAS,KAAKjK,EAAd,EAAkB;IAC3BgL,MAAAA,KAAK,EAAEC,QADoB;IAE3BX,MAAAA,UAAU,EAAEA;IAFe,KAAlB,CAAX;IAIA,SAAKF,MAAL,CAAYpM,EAAZ,IAAkBoN,IAAlB;IACA,SAAK1M,GAAL,CAAS0M,IAAT;IACA,WAAOA,IAAP;IACD,GAnBD;;IAqBAD,EAAAA,OAAO,CAACL,YAAR,GAAuB,UAAUxO,IAAV,EAAgB;IACrC,SAAKoK,OAAL,CAAapK,IAAb,EAAmB;IACjB+O,MAAAA,MAAM,EAAE,KAAKrL;IADI,KAAnB;IAGD,GAJD;;IAMAmL,EAAAA,OAAO,CAACG,OAAR,GAAkB,UAAUC,IAAV,EAAgB;IAChC,QAAIpB,KAAK,GAAG,IAAZ;;IAEA,QAAIM,KAAK,GAAG,KAAKA,KAAjB;;IAEA,QAAI,CAACA,KAAK,CAACC,KAAX,EAAkB;IAChBD,MAAAA,KAAK,CAACC,KAAN,GAAc,IAAd;;IAEA,UAAI,CAACD,KAAK,CAACE,UAAX,EAAuB;IACrBF,QAAAA,KAAK,CAACE,UAAN,GAAmB,IAAnB;IACA;;;;;;IAMA,aAAKG,YAAL,CAAkB,YAAlB;IACD;IACD;;;;;;;IAOA,WAAKA,YAAL,CAAkB,OAAlB;IACD;;IAED,SAAKN,KAAL,CAAW1I,OAAX,CAAmB,UAAUsJ,IAAV,EAAgB;IACjCA,MAAAA,IAAI,CAACL,OAAL,CAAaK,IAAI,CAACpL,EAAL,KAAYmK,KAAK,CAACnK,EAAlB,GAAuBuL,IAAvB,GAA8BnD,SAA3C;IACD,KAFD;IAGD,GA/BD;;IAiCA+C,EAAAA,OAAO,CAACK,MAAR,GAAiB,YAAY;IAC3B,QAAIf,KAAK,GAAG,KAAKA,KAAjB;;IAEA,QAAIA,KAAK,CAACC,KAAV,EAAiB;IACfD,MAAAA,KAAK,CAACC,KAAN,GAAc,KAAd;;IAEA,UAAI,CAACD,KAAK,CAACG,SAAX,EAAsB;IACpBH,QAAAA,KAAK,CAACG,SAAN,GAAkB,IAAlB;IACA;;;;;;IAMA,aAAKE,YAAL,CAAkB,WAAlB;IACD;IACD;;;;;;;IAOA,WAAKA,YAAL,CAAkB,MAAlB;IACD;;IAED,SAAKN,KAAL,CAAW1I,OAAX,CAAmB,UAAUsJ,IAAV,EAAgB;IACjCA,MAAAA,IAAI,CAACI,MAAL;IACD,KAFD;IAGD,GA7BD;;IA+BAL,EAAAA,OAAO,CAACM,QAAR,GAAmB,UAAU/K,IAAV,EAAgB6K,IAAhB,EAAsB;IACvC,QAAI,OAAO7K,IAAP,KAAgB,QAApB,EAA8B;IAC5B,aAAOA,IAAP;IACD;;IAED,QAAIgL,SAAS,GAAG9C,YAAU,CAAClI,IAAD,CAA1B;;IAEA,QAAI,CAACgL,SAAL,EAAgB;IACd,aAAO,CAAP;IACD;;IAED,QAAItP,MAAM,GAAGsP,SAAS,CAACtP,MAAvB;IACA,QAAIuP,KAAK,GAAG,EAAZ;IACA,QAAIC,IAAI,GAAG,CAAX;;IAEA,SAAK,IAAIvP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;IAC/B,UAAIwP,CAAC,GAAGH,SAAS,CAACrP,CAAD,CAAjB;;IAEA,UAAIwP,CAAC,KAAK,GAAV,EAAe;IACbD,QAAAA,IAAI,GAAG,CAAP;IACD,OAFD,MAEO,IAAIC,CAAC,KAAK,GAAV,EAAe;IACpBD,QAAAA,IAAI,GAAG,CAAC,CAAR;IACD,OAFM,MAEA,IAAIC,CAAC,KAAK,GAAV,EAAe;IACpBF,QAAAA,KAAK,CAACrL,IAAN,CAAW,CAACqL,KAAK,CAACG,GAAN,MAAe,CAAhB,IAAqB,KAAKC,SAAL,CAAeL,SAAS,CAACrP,CAAC,GAAG,CAAL,CAAxB,EAAiCkP,IAAjC,CAAhC;IACA,UAAElP,CAAF;IACD,OAHM,MAGA,IAAIwP,CAAC,KAAK,GAAV,EAAe;IACpBF,QAAAA,KAAK,CAACrL,IAAN,CAAW,CAACqL,KAAK,CAACG,GAAN,MAAe,CAAhB,IAAqB,KAAKC,SAAL,CAAeL,SAAS,CAACrP,CAAC,GAAG,CAAL,CAAxB,EAAiCkP,IAAjC,CAAhC;IACA,UAAElP,CAAF;IACD,OAHM,MAGA;IACLsP,QAAAA,KAAK,CAACrL,IAAN,CAAWsL,IAAI,GAAG,KAAKG,SAAL,CAAeF,CAAf,EAAkBN,IAAlB,CAAlB;IACAK,QAAAA,IAAI,GAAG,CAAP;IACD;IACF;;IAED,WAAOD,KAAK,CAACK,MAAN,CAAa,UAAUC,IAAV,EAAgBC,GAAhB,EAAqB;IACvC,aAAOD,IAAI,GAAGC,GAAd;IACD,KAFM,EAEJ,CAFI,CAAP;IAGD,GArCD;IAsCA;;;;IAIAf,EAAAA,OAAO,CAAC7I,OAAR,GAAkB,UAAU6J,UAAV,EAAsB;IACtC,QAAIZ,IAAI,GAAG,KAAKvL,EAAL,GAAU,KAAKA,EAAL,CAAQoM,qBAAR,EAAV,GAA4ChE,SAAvD;;IAEA,QAAI,CAACmD,IAAL,EAAW;IACT;IACD;;IAED,QAAIc,QAAQ,GAAGd,IAAI,CAACxK,KAApB;IACA,QAAIuL,SAAS,GAAGf,IAAI,CAACvK,MAArB;IACA,QAAIC,IAAI,GAAGsK,IAAI,CAACtK,IAAL,IAAakL,UAAU,GAAGvQ,QAAQ,CAACK,IAAT,CAAcsQ,UAAd,IAA4B3Q,QAAQ,CAACM,eAAT,CAAyBqQ,UAAxD,GAAqE,CAA5F,CAAX;IACA,QAAIrL,GAAG,GAAGqK,IAAI,CAACrK,GAAL,IAAYiL,UAAU,GAAGvQ,QAAQ,CAACK,IAAT,CAAcuQ,SAAd,IAA2B5Q,QAAQ,CAACM,eAAT,CAAyBsQ,SAAvD,GAAmE,CAAzF,CAAV;IACA,WAAO;IACLtL,MAAAA,GAAG,EAAEA,GADA;IAELD,MAAAA,IAAI,EAAEA,IAFD;IAGLF,MAAAA,KAAK,EAAEsL,QAHF;IAILrL,MAAAA,MAAM,EAAEsL;IAJH,KAAP;IAMD,GAjBD;;IAmBAnB,EAAAA,OAAO,CAACJ,OAAR,GAAkB,UAAUQ,IAAV,EAAgB;IAChC,QAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;IACnBA,MAAAA,IAAI,GAAG,KAAKjJ,OAAL,EAAP;IACD;;IAED,QAAIiJ,IAAJ,EAAU;IACR,UAAIjB,UAAU,GAAG,KAAKA,UAAtB;IACA,UAAI7J,GAAG,GAAG8K,IAAI,CAACjB,UAAU,GAAG,MAAH,GAAY,KAAvB,CAAd;IACA,UAAImC,aAAa,GAAGzC,UAAU,CAACM,UAAU,GAAG,OAAH,GAAa,QAAxB,CAA9B;IACA,UAAIoC,UAAU,GAAG,KAAKjB,QAAL,CAAc,KAAKpB,MAAL,CAAY,CAAZ,CAAd,EAA8BkB,IAA9B,CAAjB;IACA,UAAIoB,QAAQ,GAAG,KAAKlB,QAAL,CAAc,KAAKpB,MAAL,CAAY,CAAZ,CAAd,EAA8BkB,IAA9B,CAAf;IACA,UAAIqB,WAAW,GAAG,KAAKnB,QAAL,CAAc,KAAKlB,MAAL,CAAY,CAAZ,CAAd,EAA8BgB,IAA9B,CAAlB;IACA,UAAIsB,SAAS,GAAG,KAAKpB,QAAL,CAAc,KAAKlB,MAAL,CAAY,CAAZ,CAAd,EAA8BgB,IAA9B,CAAhB;;IAEA,UAAI9K,GAAG,GAAGkM,QAAN,GAAiBE,SAAjB,IAA8B,CAA9B,IAAmCpM,GAAG,GAAGiM,UAAN,GAAmBE,WAAnB,IAAkCH,aAAzE,EAAwF;IACtF,aAAKjB,MAAL;IACD,OAFD,MAEO;IACL,aAAKF,OAAL,CAAaC,IAAb;IACD;IACF,KAdD,MAcO;IACL,WAAKf,KAAL,CAAW1I,OAAX,CAAmB,UAAUsJ,IAAV,EAAgB;IACjCA,QAAAA,IAAI,CAACL,OAAL;IACD,OAFD;IAGD;IACF,GAxBD;;IA0BAI,EAAAA,OAAO,CAACY,SAAR,GAAoB,UAAUrL,IAAV,EAAgB6K,IAAhB,EAAsB;IACxC,QAAI,CAAC7K,IAAL,EAAW;IACT,aAAO,CAAP;IACD;;IAED,QAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;IAC5B,aAAOA,IAAP;IACD;;IAED,QAAI4J,UAAU,GAAG,KAAKA,UAAtB;IACA,QAAIwC,QAAQ,GAAGxC,UAAU,GAAG,OAAH,GAAa,QAAtC;;IAEA,QAAI5J,IAAI,KAAK,QAAb,EAAuB;IACrB,aAAOsJ,UAAU,CAAC8C,QAAD,CAAjB;IACD;;IAED,QAAIpM,IAAI,CAACjB,OAAL,CAAa,GAAb,IAAoB,CAAC,CAAzB,EAA4B;IAC1B,aAAO,KAAKgM,QAAL,CAAc5C,cAAY,CAACnI,IAAD,CAAZ,CAAmBxD,KAAjC,EAAwCqO,IAAxC,CAAP;IACD;;IAED,QAAI5K,IAAI,GAAG/D,WAAS,CAAC8D,IAAD,CAApB;;IAEA,QAAIC,IAAI,CAAC1D,IAAL,KAAc,GAAlB,EAAuB;IACrB,aAAOsO,IAAI,CAACuB,QAAD,CAAJ,GAAiBnM,IAAI,CAACzD,KAAtB,GAA8B,GAArC;IACD,KAFD,MAEO;IACL,aAAOyD,IAAI,CAACzD,KAAZ;IACD;IACF,GA3BD;;IA6BA,SAAO+M,IAAP;IACD,CA7SD,CA6SE1D,SA7SF,CAFA;IAiTA;;;;;;;;;;;;;;;IAcA,IAAIwG,KAAK;IACT;IACA,UAAU7C,MAAV,EAAkB;IAChBV,EAAAA,WAAS,CAACuD,KAAD,EAAQ7C,MAAR,CAAT;IACA;;;;IAIA,WAAS6C,KAAT,CAAenH,OAAf,EAAwB;IACtB,QAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;IACtBA,MAAAA,OAAO,GAAG,EAAV;IACD;;IAED,WAAOsE,MAAM,CAAC7K,IAAP,CAAY,IAAZ,EAAkB+I,SAAlB,EAA6BxC,OAA7B,KAAyC,IAAhD;IACD;;IAED,SAAOmH,KAAP;IACD,CAfD,CAeE9C,IAfF,CAFA;;IAmBAA,IAAI,CAAClL,CAAL,GAASgO,KAAT;;IC9ZO,IAAMC,OAAO,GAAG,IAAI/C,IAAI,CAAClL,CAAT,CAAW;IAChCmM,EAAAA,MAAM,EAAE,CAAC,QAAD,EAAW,QAAX;IADwB,CAAX,CAAhB;AAGP,IAAO,IAAMV,KAAK,GAAW,EAAtB;AACP,iBAAoBY;IAClBZ,EAAAA,KAAK,CAAClK,IAAN,CAAW8K,IAAX;IACA4B,EAAAA,OAAO,CAACtO,GAAR,CAAY0M,IAAZ;IACD;AACD;IACE4B,EAAAA,OAAO,CAACnC,MAAR;IACD;;ICZD;;;;;;;;;IAQA;;;;;IAKA;;;;;;;;IAQA,IAAIoC,KAAG,GAAG,KAAV;IACA;;;;;;;;;IASA,IAAIC,MAAI,GAAG,MAAX;IACA;;;;;;;;;IASA,IAAIC,KAAG,GAAG,KAAV;IACA;;;;;;;;;IASA,IAAIC,MAAI,GAAG,MAAX;IACA;;;;;;;;;IASA,IAAIC,cAAY,GAAG,CAACJ,KAAD,EAAMC,MAAN,EAAYC,KAAZ,EAAiBC,MAAjB,CAAnB;IACA;;;;;;;;;IASA,IAAIE,UAAQ,GAAG,UAAf;IACA;;;;;;;;;IASA,IAAIC,UAAQ,GAAG,UAAf;IACA;;;;;;;;;IASA,IAAIC,OAAK,GAAG,OAAZ;IACA;;;;;;;;;IASA,IAAI/E,QAAM,GAAG,QAAb;IACA;;;;;;;;;IASA,IAAIgF,QAAM,GAAG,QAAb;IACA;;;;;;;;;IASA,IAAIC,QAAM,GAAG,QAAb;IACA;;;;;;;;;IASA,IAAIlS,WAAS,GAAG,WAAhB;IACA;;;;;;;;;;IAUA,IAAIC,WAAS,GAAG,OAAOC,MAAP,KAAkBF,WAAlC;IACA;;;;;;;;;;;IAWA,IAAIG,KAAG,GAAG,OAAOC,QAAP,KAAoBJ,WAApB,IAAiCI,QAA3C;IACA,IAAIC,UAAQ,GAAG,CAAC,QAAD,EAAW,IAAX,EAAiB,KAAjB,EAAwB,GAAxB,CAAf;IACA;;;;IAIA;;;;;;;;;;;;;IAaA,IAAIC,yBAAuB;IAC3B;IACA,UAAUC,QAAV,EAAoB;IAClB,MAAI,CAACJ,KAAL,EAAU;IACR,WAAO,EAAP;IACD;;IAED,MAAIK,MAAM,GAAG,CAACL,KAAG,CAACM,IAAJ,IAAYN,KAAG,CAACO,eAAjB,EAAkCC,KAA/C;IACA,MAAIC,MAAM,GAAGP,UAAQ,CAACO,MAAtB;;IAEA,MAAI,OAAOJ,MAAM,CAACD,QAAD,CAAb,KAA4BP,WAAhC,EAA2C;IACzC,WAAOO,QAAP;IACD;;IAED,OAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;IAC/B,QAAIC,IAAI,GAAG,MAAMT,UAAQ,CAACQ,CAAD,CAAd,GAAoB,GAApB,GAA0BN,QAArC;;IAEA,QAAI,OAAOC,MAAM,CAACM,IAAD,CAAb,KAAwBd,WAA5B,EAAuC;IACrC,aAAOc,IAAP;IACD;IACF;;IAED,SAAO,EAAP;IACD,CAvBD;IAwBA;;;;;;;;;;IASA,IAAIC,WAAS;IACb;AACAT,6BAAuB,CAAC,WAAD,CAFvB;IAGA;;;;;;;;;IASA,IAAIU,QAAM;IACV;AACAV,6BAAuB,CAAC,QAAD,CAFvB;IAGA;;;;;;;;;IASA,IAAIW,WAAS;IACb;AACAX,6BAAuB,CAAC,WAAD,CAFvB;IAGA;;;;;;;;;IASA,IAAIY,WAAS;IACb;AACAD,eAAS,CAACE,OAAV,CAAkB,WAAlB,EAA+B,WAA/B,CAFA;IAIA;;;;;IAKA;;;;;;;;;;;;;;IAcA,SAAS2J,aAAT,CAAqBpJ,KAArB,EAA4B;IAC1B,SAAO,OAAOA,KAAP,KAAiB1B,WAAxB;IACD;IACD;;;;;;;;;;;;;;;IAcA,SAASkN,UAAT,CAAkBxL,KAAlB,EAAyB;IACvB,SAAOA,KAAK,IAAI,OAAOA,KAAP,KAAiBuL,QAAjC;IACD;IACD;;;;;;;;;;;;;;;IAcA,SAASE,SAAT,CAAiBzL,KAAjB,EAAwB;IACtB,SAAOqK,KAAK,CAACoB,OAAN,CAAczL,KAAd,CAAP;IACD;IACD;;;;;;;;;;;;;;;IAcA,SAASyQ,UAAT,CAAkBzQ,KAAlB,EAAyB;IACvB,SAAO,OAAOA,KAAP,KAAiBuQ,QAAxB;IACD;IACD;;;;;;;;;;;;;;;;IAeA,SAASG,YAAT,CAAoB1Q,KAApB,EAA2B;IACzB,SAAO,OAAOA,KAAP,KAAiBoQ,UAAxB;IACD;IACD;;;;;;;;;;;;;;;IAcA,SAAS1E,YAAT,CAAoB/L,IAApB,EAA0B;IACxB;IACA,MAAIC,OAAO,GAAGD,IAAI,CAAC0B,KAAL,CAAW,2EAAX,CAAd;IACA,SAAOzB,OAAO,IAAI,EAAlB;IACD;IACD;;;;;;;;;;;;;;;IAcA,SAAS+Q,YAAT,CAAoBhR,IAApB,EAA0B;IACxB;IACA;IACA,MAAIC,OAAO,GAAGD,IAAI,CAAC0B,KAAL,CAAW,uEAAX,CAAd;IACA,SAAOzB,OAAO,GAAGA,OAAO,CAACkF,GAAR,CAAY,UAAU8L,GAAV,EAAe;IAC1C,WAAOA,GAAG,CAACC,IAAJ,EAAP;IACD,GAFgB,CAAH,GAET,EAFL;IAGD;IACD;;;;;;;;;;;;;;;IAcA,SAASlF,cAAT,CAAsBhM,IAAtB,EAA4B;IAC1B,MAAIC,OAAO,GAAG,iCAAiCC,IAAjC,CAAsCF,IAAtC,CAAd;;IAEA,MAAI,CAACC,OAAD,IAAYA,OAAO,CAACV,MAAR,GAAiB,CAAjC,EAAoC;IAClC,WAAO,EAAP;IACD,GAFD,MAEO;IACL,WAAO;IACLY,MAAAA,MAAM,EAAEF,OAAO,CAAC,CAAD,CADV;IAELI,MAAAA,KAAK,EAAEJ,OAAO,CAAC,CAAD,CAFT;IAGLgM,MAAAA,MAAM,EAAEhM,OAAO,CAAC,CAAD;IAHV,KAAP;IAKD;IACF;IACD;;;;;;;;;;;;;;;;;IAgBA,SAASF,WAAT,CAAmBC,IAAnB,EAAyB;IACvB,MAAIC,OAAO,GAAG,gDAAgDC,IAAhD,CAAqDF,IAArD,CAAd;;IAEA,MAAI,CAACC,OAAL,EAAc;IACZ,WAAO;IACLE,MAAAA,MAAM,EAAE,EADH;IAELC,MAAAA,IAAI,EAAE,EAFD;IAGLC,MAAAA,KAAK,EAAEC;IAHF,KAAP;IAKD;;IAED,MAAIH,MAAM,GAAGF,OAAO,CAAC,CAAD,CAApB;IACA,MAAII,KAAK,GAAGJ,OAAO,CAAC,CAAD,CAAnB;IACA,MAAIG,IAAI,GAAGH,OAAO,CAAC,CAAD,CAAlB;IACA,SAAO;IACLE,IAAAA,MAAM,EAAEA,MADH;IAELC,IAAAA,IAAI,EAAEA,IAFD;IAGLC,IAAAA,KAAK,EAAEE,UAAU,CAACF,KAAD;IAHZ,GAAP;IAKD;IACD;;;;;;;;;;;;;;IAaA,SAAS8Q,UAAT,CAAkBF,GAAlB,EAAuB;IACrB,SAAOA,GAAG,CAACnR,OAAJ,CAAY,gBAAZ,EAA8B,UAAUsR,GAAV,EAAeC,MAAf,EAAuB;IAC1D,WAAOA,MAAM,CAACC,WAAP,EAAP;IACD,GAFM,CAAP;IAGD;IACD;;;;;;;;;;;;;;IAaA,SAASC,YAAT,CAAoBN,GAApB,EAAyBO,SAAzB,EAAoC;IAClC,MAAIA,SAAS,KAAK,KAAK,CAAvB,EAA0B;IACxBA,IAAAA,SAAS,GAAG,GAAZ;IACD;;IAED,SAAOP,GAAG,CAACnR,OAAJ,CAAY,iBAAZ,EAA+B,UAAUsR,GAAV,EAAeC,MAAf,EAAuBI,OAAvB,EAAgC;IACpE,WAAO,KAAKJ,MAAL,GAAcG,SAAd,GAA0BC,OAAO,CAACC,WAAR,EAAjC;IACD,GAFM,CAAP;IAGD;IACD;;;;;;;;;;;;;IAYA,SAASC,OAAT,CAAiBtR,KAAjB,EAAwB;IACtB,SAAO,GAAGuR,KAAH,CAASpP,IAAT,CAAcnC,KAAd,CAAP;IACD;IACD;;;;;;;;;;;IAUA,SAASG,KAAT,GAAe;IACb,SAAOC,IAAI,CAACD,GAAL,GAAWC,IAAI,CAACD,GAAL,EAAX,GAAwB,IAAIC,IAAJ,GAAWC,OAAX,EAA/B;IACD;IACD;;;;;;;;;;;;;;;IAcA,IAAIC,uBAAqB;IACzB;IACA,YAAY;IACV,MAAIC,SAAS,GAAGJ,KAAG,EAAnB;IACA,MAAIK,GAAG,GAAGjC,WAAS,KAAKC,MAAM,CAAC8B,qBAAP,IAAgC9B,MAAM,CAACiC,2BAAvC,IAAsEjC,MAAM,CAACkC,wBAAlF,CAAnB;IACA,SAAOF,GAAG,GAAGA,GAAG,CAACG,IAAJ,CAASnC,MAAT,CAAH,GAAsB,UAAUoC,QAAV,EAAoB;IAClD,QAAIC,QAAQ,GAAGV,KAAG,EAAlB;IACA,QAAIW,EAAE,GAAGtC,MAAM,CAACuC,UAAP,CAAkB,YAAY;IACrCH,MAAAA,QAAQ,CAACC,QAAQ,GAAGN,SAAZ,CAAR;IACD,KAFQ,EAEN,OAAO,EAFD,CAAT;IAGA,WAAOO,EAAP;IACD,GAND;IAOD,CAVD,EAFA;IAcA;;;;;IAKA;;;;;;;;;;;;IAWA,SAAS0Q,QAAT,CAAgBC,GAAhB,EAAqB;IACnB,SAAOA,GAAG,CAAChS,OAAJ,CAAY,GAAZ,EAAiB,EAAjB,CAAP;IACD;IACD;;;;;;;;;;;;;;;IAcA,SAASiS,WAAT,CAAmBD,GAAnB,EAAwB;IACtB,MAAIE,CAAC,GAAGH,QAAM,CAACC,GAAD,CAAd;IACA,MAAI5I,CAAC,GAAG+I,QAAQ,CAACD,CAAC,CAACE,SAAF,CAAY,CAAZ,EAAe,CAAf,CAAD,EAAoB,EAApB,CAAhB;IACA,MAAIC,CAAC,GAAGF,QAAQ,CAACD,CAAC,CAACE,SAAF,CAAY,CAAZ,EAAe,CAAf,CAAD,EAAoB,EAApB,CAAhB;IACA,MAAI1F,CAAC,GAAGyF,QAAQ,CAACD,CAAC,CAACE,SAAF,CAAY,CAAZ,EAAe,CAAf,CAAD,EAAoB,EAApB,CAAhB;IACA,MAAIE,CAAC,GAAGH,QAAQ,CAACD,CAAC,CAACE,SAAF,CAAY,CAAZ,EAAe,CAAf,CAAD,EAAoB,EAApB,CAAR,GAAkC,GAA1C;;IAEA,MAAIG,KAAK,CAACD,CAAD,CAAT,EAAc;IACZA,IAAAA,CAAC,GAAG,CAAJ;IACD;;IAED,SAAO,CAAClJ,CAAD,EAAIiJ,CAAJ,EAAO3F,CAAP,EAAU4F,CAAV,CAAP;IACD;IACD;;;;;;;;;;;;;IAYA,SAASE,WAAT,CAAmBN,CAAnB,EAAsB;IACpB,MAAI9I,CAAC,GAAG8I,CAAC,CAACO,MAAF,CAAS,CAAT,CAAR;IACA,MAAIJ,CAAC,GAAGH,CAAC,CAACO,MAAF,CAAS,CAAT,CAAR;IACA,MAAI/F,CAAC,GAAGwF,CAAC,CAACO,MAAF,CAAS,CAAT,CAAR;IACA,MAAIH,CAAC,GAAGJ,CAAC,CAACO,MAAF,CAAS,CAAT,CAAR;IACA,MAAIC,GAAG,GAAG,CAAC,GAAD,EAAMtJ,CAAN,EAASA,CAAT,EAAYiJ,CAAZ,EAAeA,CAAf,EAAkB3F,CAAlB,EAAqBA,CAArB,EAAwB4F,CAAxB,EAA2BA,CAA3B,CAAV;IACA,SAAOI,GAAG,CAAC9O,IAAJ,CAAS,EAAT,CAAP;IACD;IACD;;;;;;;;;;;;;IAYA,SAAS+O,WAAT,CAAmBC,GAAnB,EAAwB;IACtB,MAAIV,CAAC,GAAGU,GAAG,CAAC,CAAD,CAAX;IACA,MAAIxQ,CAAC,GAAGwQ,GAAG,CAAC,CAAD,CAAX;IACA,MAAIC,CAAC,GAAGD,GAAG,CAAC,CAAD,CAAX;;IAEA,MAAIV,CAAC,GAAG,CAAR,EAAW;IACTA,IAAAA,CAAC,IAAIzM,IAAI,CAACqN,KAAL,CAAW,CAACrN,IAAI,CAACsN,GAAL,CAASb,CAAT,IAAc,GAAf,IAAsB,GAAjC,IAAwC,GAA7C;IACD;;IAEDA,EAAAA,CAAC,IAAI,GAAL;IACA,MAAIc,CAAC,GAAG,CAAC,IAAIvN,IAAI,CAACsN,GAAL,CAAS,IAAIF,CAAJ,GAAQ,CAAjB,CAAL,IAA4BzQ,CAApC;IACA,MAAImG,CAAC,GAAGyK,CAAC,IAAI,IAAIvN,IAAI,CAACsN,GAAL,CAASb,CAAC,GAAG,EAAJ,GAAS,CAAT,GAAa,CAAtB,CAAR,CAAT;IACA,MAAIe,CAAC,GAAGJ,CAAC,GAAGG,CAAC,GAAG,CAAhB;IACA,MAAIE,GAAJ;;IAEA,MAAIhB,CAAC,GAAG,EAAR,EAAY;IACVgB,IAAAA,GAAG,GAAG,CAACF,CAAD,EAAIzK,CAAJ,EAAO,CAAP,CAAN;IACD,GAFD,MAEO,IAAI2J,CAAC,GAAG,GAAR,EAAa;IAClBgB,IAAAA,GAAG,GAAG,CAAC3K,CAAD,EAAIyK,CAAJ,EAAO,CAAP,CAAN;IACD,GAFM,MAEA,IAAId,CAAC,GAAG,GAAR,EAAa;IAClBgB,IAAAA,GAAG,GAAG,CAAC,CAAD,EAAIF,CAAJ,EAAOzK,CAAP,CAAN;IACD,GAFM,MAEA,IAAI2J,CAAC,GAAG,GAAR,EAAa;IAClBgB,IAAAA,GAAG,GAAG,CAAC,CAAD,EAAI3K,CAAJ,EAAOyK,CAAP,CAAN;IACD,GAFM,MAEA,IAAId,CAAC,GAAG,GAAR,EAAa;IAClBgB,IAAAA,GAAG,GAAG,CAAC3K,CAAD,EAAI,CAAJ,EAAOyK,CAAP,CAAN;IACD,GAFM,MAEA,IAAId,CAAC,GAAG,GAAR,EAAa;IAClBgB,IAAAA,GAAG,GAAG,CAACF,CAAD,EAAI,CAAJ,EAAOzK,CAAP,CAAN;IACD;;IAED,MAAI4K,MAAM,GAAG,CAAC1N,IAAI,CAAC2N,KAAL,CAAW,CAACF,GAAG,CAAC,CAAD,CAAH,GAASD,CAAV,IAAe,GAA1B,CAAD,EAAiCxN,IAAI,CAAC2N,KAAL,CAAW,CAACF,GAAG,CAAC,CAAD,CAAH,GAASD,CAAV,IAAe,GAA1B,CAAjC,EAAiExN,IAAI,CAAC2N,KAAL,CAAW,CAACF,GAAG,CAAC,CAAD,CAAH,GAASD,CAAV,IAAe,GAA1B,CAAjE,EAAiGL,GAAG,CAACnT,MAAJ,GAAa,CAAb,GAAiBmT,GAAG,CAAC,CAAD,CAApB,GAA0B,CAA3H,CAAb;IACA,SAAOO,MAAP;IACD;IACD;;;;;;;;;;;;;;IAaA,SAASE,cAAT,CAAsBC,KAAtB,EAA6B;IAC3B,MAAIA,KAAK,CAACb,MAAN,CAAa,CAAb,MAAoB,GAAxB,EAA6B;IAC3B,QAAIa,KAAK,CAAC7T,MAAN,KAAiB,CAAjB,IAAsB6T,KAAK,CAAC7T,MAAN,KAAiB,CAA3C,EAA8C;IAC5C,aAAOwS,WAAS,CAACO,WAAS,CAACc,KAAD,CAAV,CAAhB;IACD,KAFD,MAEO;IACL,aAAOrB,WAAS,CAACqB,KAAD,CAAhB;IACD;IACF,GAND,MAMO,IAAIA,KAAK,CAACxQ,OAAN,CAAc,GAAd,MAAuB,CAAC,CAA5B,EAA+B;IACpC;IACA,QAAIqB,EAAE,GAAG+H,cAAY,CAACoH,KAAD,CAArB;IAAA,QACIjT,MAAM,GAAG8D,EAAE,CAAC9D,MADhB;IAAA,QAEIE,KAAK,GAAG4D,EAAE,CAAC5D,KAFf;;IAIA,QAAI,CAACF,MAAD,IAAW,CAACE,KAAhB,EAAuB;IACrB;IACD;;IAED,QAAImS,GAAG,GAAGxB,YAAU,CAAC3Q,KAAD,CAApB;IACA,QAAIgT,QAAQ,GAAG,EAAf;IACA,QAAI9T,MAAM,GAAGiT,GAAG,CAACjT,MAAjB;;IAEA,YAAQY,MAAR;IACE,WAAKiQ,KAAL;IACA,WAAKC,MAAL;IACE,aAAK,IAAI7Q,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;IAC/B6T,UAAAA,QAAQ,CAAC7T,CAAD,CAAR,GAAce,UAAU,CAACiS,GAAG,CAAChT,CAAD,CAAJ,CAAxB;IACD;;IAED,eAAO6T,QAAP;;IAEF,WAAK/C,KAAL;IACA,WAAKC,MAAL;IACE,aAAK,IAAI/Q,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;IAC/B,cAAIgT,GAAG,CAAChT,CAAD,CAAH,CAAOoD,OAAP,CAAe,GAAf,MAAwB,CAAC,CAA7B,EAAgC;IAC9ByQ,YAAAA,QAAQ,CAAC7T,CAAD,CAAR,GAAce,UAAU,CAACiS,GAAG,CAAChT,CAAD,CAAJ,CAAV,GAAqB,GAAnC;IACD,WAFD,MAEO;IACL6T,YAAAA,QAAQ,CAAC7T,CAAD,CAAR,GAAce,UAAU,CAACiS,GAAG,CAAChT,CAAD,CAAJ,CAAxB;IACD;IACF,SAPH;;;IAUE,eAAOiT,WAAS,CAACY,QAAD,CAAhB;IApBJ;IAsBD;;IAED;IACD;IAED;;;;;IAKA;;;;;;;;;;;;;IAYA,SAASnH,GAAT,CAAWC,SAAX,EAAsBC,KAAtB,EAA6B;IAC3B,SAAOA,KAAK,GAAGtN,KAAG,CAACuN,gBAAJ,CAAqBF,SAArB,CAAH,GAAqCrN,KAAG,CAACwN,aAAJ,CAAkBH,SAAlB,CAAjD;IACD;IACD;;;;;;;;;;;;;IAYA,SAAS9K,UAAT,CAAkBC,OAAlB,EAA2BC,SAA3B,EAAsC;IACpC,MAAID,OAAO,CAACE,SAAZ,EAAuB;IACrB,WAAOF,OAAO,CAACE,SAAR,CAAkBC,QAAlB,CAA2BF,SAA3B,CAAP;IACD;;IAED,SAAO,CAAC,CAACD,OAAO,CAACC,SAAR,CAAkBG,KAAlB,CAAwB,IAAIC,MAAJ,CAAW,YAAYJ,SAAZ,GAAwB,SAAnC,CAAxB,CAAT;IACD;IACD;;;;;;;;;;;;IAWA,SAASK,UAAT,CAAkBN,OAAlB,EAA2BC,SAA3B,EAAsC;IACpC,MAAID,OAAO,CAACE,SAAZ,EAAuB;IACrBF,IAAAA,OAAO,CAACE,SAAR,CAAkBK,GAAlB,CAAsBN,SAAtB;IACD,GAFD,MAEO;IACLD,IAAAA,OAAO,CAACC,SAAR,IAAqB,MAAMA,SAA3B;IACD;IACF;IACD;;;;;;;;;;;;IAWA,SAAS+R,aAAT,CAAqBhS,OAArB,EAA8BC,SAA9B,EAAyC;IACvC,MAAID,OAAO,CAACE,SAAZ,EAAuB;IACrBF,IAAAA,OAAO,CAACE,SAAR,CAAkB+R,MAAlB,CAAyBhS,SAAzB;IACD,GAFD,MAEO;IACL,QAAIiS,GAAG,GAAG,IAAI7R,MAAJ,CAAW,YAAYJ,SAAZ,GAAwB,SAAnC,CAAV;IACAD,IAAAA,OAAO,CAACC,SAAR,GAAoBD,OAAO,CAACC,SAAR,CAAkBzB,OAAlB,CAA0B0T,GAA1B,EAA+B,GAA/B,CAApB;IACD;IACF;IACD;;;;;;;;;;;;;IAYA,SAASC,SAAT,CAAiBC,QAAjB,EAA2BC,UAA3B,EAAuC;IACrC,MAAI,CAACD,QAAD,IAAa,CAACC,UAAd,IAA4B,CAACA,UAAU,CAACpU,MAA5C,EAAoD;IAClD,WAAO,EAAP;IACD;;IAED,MAAI+B,OAAJ;;IAEA,MAAIoS,QAAQ,YAAYE,OAAxB,EAAiC;IAC/BtS,IAAAA,OAAO,GAAGoS,QAAV;IACD,GAFD,MAEO,IAAIA,QAAQ,CAACnU,MAAb,EAAqB;IAC1B+B,IAAAA,OAAO,GAAGoS,QAAQ,CAAC,CAAD,CAAlB;IACD,GAFM,MAEA;IACL,WAAO,EAAP;IACD;;IAED,MAAIG,SAAS,GAAG,EAAhB;IACA,MAAI1U,MAAM,GAAGN,MAAM,CAACiV,gBAAP,CAAwBxS,OAAxB,CAAb;IACA,MAAI/B,MAAM,GAAGoU,UAAU,CAACpU,MAAxB;;IAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;IAC/BqU,IAAAA,SAAS,CAACF,UAAU,CAACnU,CAAD,CAAX,CAAT,GAA2BL,MAAM,CAACwU,UAAU,CAACnU,CAAD,CAAX,CAAjC;IACD;;IAED,SAAOqU,SAAP;IACD;IACD;;;;;;;;;;;;;;;;IAeA,SAASE,QAAT,CAAkB5Q,EAAlB,EAAsB6Q,IAAtB,EAA4B/I,QAA5B,EAAsClC,OAAtC,EAA+C;IAC7C5F,EAAAA,EAAE,CAAC+J,gBAAH,CAAoB8G,IAApB,EAA0B/I,QAA1B,EAAoClC,OAApC;IACD;IACD;;;;;;;;;;;;;;;;IAeA,SAASkL,WAAT,CAAqB9Q,EAArB,EAAyB6Q,IAAzB,EAA+B/I,QAA/B,EAAyC;IACvC9H,EAAAA,EAAE,CAAC+Q,mBAAH,CAAuBF,IAAvB,EAA6B/I,QAA7B;IACD;;IC70BD,IAAMkJ,OAAO,GAAGpV,QAAQ,CAACuN,aAAT,CAAuB,UAAvB,CAAhB;;IAEA,mBAAA,CAAoBhL,OAApB,EAA6B8S,IAA7B,EAAmCrL,OAAnC,EAA4C3E,IAA5C,EAAuDC,GAAvD;IAA4C,qBAAA,EAAA;IAAAD,IAAAA,SAAA;;;IAAW,oBAAA,EAAA;IAAAC,IAAAA,QAAA;;;IACnD,MAAMmK,MAAM,GAAG4F,IAAI;IACfhQ,IAAAA,IAAI;IACJC,IAAAA,GAAG;IACHgQ,IAAAA,OAAO,EAAE;SACNtL,QAJY,CAAnB;IAOAqL,EAAAA,IAAI;IACAhQ,IAAAA,IAAI,EAAEA,IAAI,GAAG;IACbC,IAAAA,GAAG,EAAEA,GAAG,GAAG;IACXgQ,IAAAA,OAAO,EAAE;SACNtL,QAJH,EAKDyF,MALC,CAAJ;IAOAlN,EAAAA,OAAO,CAAC0H,WAAR,CAAoBwF,MAApB;IAEA,SAAOA,MAAP;IACH;;IAED,IAAM8F,MAAM,GAAG,EAAf;;IAEA,KAAK,IAAI9U,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,CAArB,EAAwB,EAAEA,CAA1B,EAA6B;IACzB,MAAMqE,IAAI,GAAI,MAAM,CAACrE,CAAC,GAAG,CAAL,IAAU,EAA9B;IACA,MAAM+U,MAAM,GAAGD,MAAM,GAAG,EAAT,GAAczQ,IAA7B;IACA,MAAM2Q,EAAE,GAAGF,MAAM,GAAGC,MAApB;IAEA,MAAM/F,MAAM,GAAGiG,UAAU,CAACN,OAAD,EAAUlL,IAAV,EAAgB;IACrC,iBAAa,0BAAwBzJ,CAAxB,YADwB;IAErC,SAAKgV,EAFgC;IAGrC,mBAAeD,MAHsB;IAIrC,sBAAkB,OAJmB;IAKrC,sBAAkB,OALmB;IAMrC,cAAU,MAN2B;IAOrC,cAAU,CAAC,GAP0B;IAQrC,cAAU;IAR2B,GAAhB,EAStB,CATsB,EASnB,CATmB,CAAzB;IAWA/F,EAAAA,MAAM,CAAClP,KAAP,CAAakE,OAAb,GAAuB,YAAUK,IAAV,iBAAA,GAA6BA,IAA7B,QAAvB;IACH;;IAED4Q,UAAU,CAACN,OAAD,EAAUrL,IAAV,EAAgB;IACtBvH,EAAAA,SAAS,EAAE,eADW;IAEtBmE,EAAAA,IAAI,EAAE,CAFgB;IAGtBxB,EAAAA,KAAK,EAAE,EAHe;IAItBc,EAAAA,WAAW,EAAE,CAJS;IAKtBmB,EAAAA,cAAc,EAAE,OALM;IAMtBP,EAAAA,MAAM,EAAE,EANc;IAOtB2O,EAAAA,MAAM,EAAE,MAPc;IAQtB5L,EAAAA,IAAI,EAAE,MARgB;IAStBrE,EAAAA,MAAM,EAAE;IATc,CAAhB,CAAV;IAWAmQ,UAAU,CAACN,OAAD,EAAUrL,IAAV,EAAgB;IACtBvH,EAAAA,SAAS,EAAE,gBADW;IAEtBmE,EAAAA,IAAI,EAAE,CAFgB;IAGtBxB,EAAAA,KAAK,EAAE,EAHe;IAItBc,EAAAA,WAAW,EAAE,CAJS;IAKtBmB,EAAAA,cAAc,EAAE,OALM;IAMtBP,EAAAA,MAAM,EAAE,EANc;IAOtB2O,EAAAA,MAAM,EAAE,MAPc;IAQtB5L,EAAAA,IAAI,EAAE,MARgB;IAStBrE,EAAAA,MAAM,EAAE;IATc,CAAhB,CAAV;IAYA,IAAMoQ,QAAQ,GAAG,GAAjB;IACA,IAAMC,SAAS,GAAGD,QAAQ,GAAG,CAA7B;IACA,IAAME,SAAS,GAAGD,SAAS,GAAG,GAA9B;IAEA,IAAME,WAAW,GAAGC,KAAK,CAACD,WAA1B;IAEA,IAAME,KAAK,GAAG,IAAID,KAAJ,CAAU;IACpB,2BAAyB,UAAAtV,CAAA;IAAK,WAAC;IAC3B,SAAG;IACCwV,QAAAA,SAAS,EAAE;IADZ,OADwB;IAI3B,WAAK;IACD,wBAAgB;IADf,OAJsB;IAO3B,WAAK;IACDX,QAAAA,OAAO,EAAE;IADR,OAPsB;IAU3B,SAAG;IACC,qBAAa,UADd;IAEC,wBAAgB,KAFjB;IAGC,mBAAW;IAHZ,OAVwB;IAe3BtL,MAAAA,OAAO,EAAE;IACLkM,QAAAA,KAAK,EAAEzV,CAAC,GAAG;IADN;IAfkB,KAAD;IAkB5B,GAnBkB;IAoBpB,oBAAkB,UAACA,CAAD,EAAI2D,EAAJ;IACd,QAAMkR,OAAO,GAAGlR,EAAE,CAAC+B,YAAH,CAAgB,SAAhB,CAAhB;IACA,QAAMgQ,KAAK,GAAG3P,IAAI,CAACqN,KAAL,CAAWpT,CAAC,GAAG,CAAf,CAAd;IAEA;IACI,SAAG;IACC,mBAAW,CADZ;IAEC,4BAAoB,QAFrB;IAGC,qBAAa,aAAU0V,KAAK,GAAG,CAAR,GAAY,CAAC,CAAb,GAAiB,CAA3B,eAAA,IAAwC,CAAC,EAAD,GAAMA,KAAK,GAAG,GAAtD;IAHd;IAKH,WAAK;IACDb,QAAAA,OAAO;IADN;WAGLpQ,GAAC,IAAD,GAAO;IACH,0BAAuB,YADpB;IAEH,2BAAqB;IAFlB,OAIPA,GAAC,MAAMiR,KAAK,GAAG,KAAf,GAAsB;IAClBb,MAAAA,OAAO;IADW,OAGtBpQ,GAAC,MAAMiR,KAAK,GAAG,KAAf,GAAsB;IAClB,2BAAqB,CAAC,EADJ;IAElB,0BAAoB,QAFF;IAGlB,mBAAa,aAAU,MAAMA,KAAK,GAAG,GAAxB,UAHK;IAIlB,iBAAW;IAJO,OAMtBjR,UAAA,GAAS;IACLgR,MAAAA,KAAK,EAAEP,QAAQ,GAAGQ,KAAK,GAAG;IADrB,SAtBb;;;IA0BH,GAlDmB;IAmDpB,oBAAkB;IACd,OAAG;IACCF,MAAAA,SAAS,EAAE;IADZ,KADW;IAId,OAAG;IACCA,MAAAA,SAAS,EAAE;IADZ,KAJW;IAOd,OAAG;IACCA,MAAAA,SAAS,EAAE;IADZ,KAPW;IAUdjM,IAAAA,OAAO,EAAE;IACLkM,MAAAA,KAAK,EAAEP,QAAQ,GAAG;IADb;IAVK,GAnDE;IAiEpB,qBAAmB;IACf,OAAG;IACCM,MAAAA,SAAS,EAAE;IADZ,KADY;IAIf,OAAG;IACCA,MAAAA,SAAS,EAAE;IADZ,KAJY;IAOfjM,IAAAA,OAAO,EAAE;IACLkM,MAAAA,KAAK,EAAEP,QAAQ,GAAG;IADb;IAPM,GAjEC;IA4EpB,kBAAgB;IACZ,OAAG;IACCM,MAAAA,SAAS,EAAE;IADZ,KADS;IAIZ,OAAG;IACCA,MAAAA,SAAS,EAAE;IADZ,KAJS;IAOZjM,IAAAA,OAAO,EAAE;IACLkM,MAAAA,KAAK,EAAEP,QAAQ,GAAG;IADb;IAPG,GA5EI;IAuFpB,iBAAe;IACX,OAAG;IACCM,MAAAA,SAAS,EAAE;IADZ,KADQ;IAIX,OAAG;IACCA,MAAAA,SAAS,EAAE;IADZ,KAJQ;IAOXjM,IAAAA,OAAO,EAAE;IACLkM,MAAAA,KAAK,EAAEP,QAAQ,GAAG;IADb;IAPE,GAvFK;IAkGpB,mBAAiB,UAAAlV,CAAA;IAAK,WAAC;IACnB,SAAG;IACCwV,QAAAA,SAAS,EAAE;IACP7N,UAAAA,KAAK,EAAE,CADA;IAEPgO,UAAAA,IAAI,EAAE;IAFC;IADZ,OADgB;IAOnB,WAAK;IACDH,QAAAA,SAAS,EAAE;IACP7N,UAAAA,KAAK,EAAE;IADA;IADV,OAPc;IAYnB4B,MAAAA,OAAO,EAAE;IACLkM,QAAAA,KAAK,EAAEN,SAAS,GAAG,GAAZ,GAAkBnV,CAAC,GAAG;IADxB;IAZU,KAAD;IAepB,GAjHkB;IAkHpB,mBAAiB,UAAAA,CAAA;IAAK,WAAC;IACnB,SAAG;IACCwV,QAAAA,SAAS,EAAE;IACP7N,UAAAA,KAAK,EAAE,CADA;IAEPgO,UAAAA,IAAI,EAAE;IAFC;IADZ,OADgB;IAOnB,WAAK;IACDH,QAAAA,SAAS,EAAE;IACP7N,UAAAA,KAAK,EAAE;IADA;IADV,OAPc;IAYnB4B,MAAAA,OAAO,EAAE;IACLkM,QAAAA,KAAK,EAAEN,SAAS,GAAGnV,CAAC,GAAG;IADlB;IAZU,KAAD;IAepB,GAjIkB;IAkIpB,aAAW;IACP,OAAG;IACCwV,MAAAA,SAAS,EAAE;IACPpP,QAAAA,MAAM,EAAE;IADD;IADZ,KADI;IAMP,SAAK;IACDoP,MAAAA,SAAS,EAAE;IACPpP,QAAAA,MAAM,EAAE;IADD;IADV,KANE;IAWP,OAAG;IACCoP,MAAAA,SAAS,EAAE;IACPpP,QAAAA,MAAM,EAAE;IADD;IADZ,KAXI;IAgBP,SAAK;IACDoP,MAAAA,SAAS,EAAE;IACPpP,QAAAA,MAAM,EAAE;IADD;IADV,KAhBE;IAqBPmD,IAAAA,OAAO,EAAE;IACLkM,MAAAA,KAAK,EAAEL,SADF;IAELQ,MAAAA,MAAM,EAAEP;IAFH;IArBF,GAlIS;IA4JpB,qBAAmB;IACf,OAAG;IACCG,MAAAA,SAAS,EAAE;IADZ,KADY;IAIf,SAAK;IACDA,MAAAA,SAAS,EAAE;IADV,KAJU;IAOf,OAAG;IACCA,MAAAA,SAAS,EAAE;IADZ,KAPY;IAUf,SAAK;IACDA,MAAAA,SAAS,EAAE;IADV,KAVU;IAafjM,IAAAA,OAAO,EAAE;IACLkM,MAAAA,KAAK,EAAEL,SADF;IAELQ,MAAAA,MAAM,EAAEP;IAFH;IAbM,GA5JC;IA8KpB,6BAA2B,UAAArV,CAAA;IAAK,WAAC;IAC7B,SAAG;IACCwV,QAAAA,SAAS,EAAE;IACPK,UAAAA,UAAU,EAAE;IADL;IADZ,OAD0B;IAM7B,SAAG;IACCL,QAAAA,SAAS,EAAE;IACPK,UAAAA,UAAU,EAAE;IADL;IADZ,OAN0B;IAW7BtM,MAAAA,OAAO,EAAE;IACLkM,QAAAA,KAAK,EAAEN,SAAS,GAAGnV,CAAC,GAAG;IADlB;IAXoB,KAAD;IAc9B,GA5LkB;IA6LpB,8BAA4B,UAAAA,CAAA;IAAK,WAAC;IAC9B,SAAG;IACCwV,QAAAA,SAAS,EAAE;IACPK,UAAAA,UAAU,EAAE;IADL;IADZ,OAD2B;IAM9B,SAAG;IACCL,QAAAA,SAAS,EAAE;IACPK,UAAAA,UAAU,EAAE;IADL;IADZ,OAN2B;IAW9BtM,MAAAA,OAAO,EAAE;IACLkM,QAAAA,KAAK,EAAEN,SAAS,GAAGnV,CAAC,GAAG;IADlB;IAXqB,KAAD;IAc/B,GA3MkB;IA4MpB,gCAA8B,UAAAA,CAAA;IAAK,WAAC;IAChC,SAAG;IACCwV,QAAAA,SAAS,EAAE;IACPM,UAAAA,UAAU,EAAE;IADL;IADZ,OAD6B;IAMhC,SAAG;IACCN,QAAAA,SAAS,EAAE;IACPM,UAAAA,UAAU,EAAE;IADL;IADZ,OAN6B;IAWhCvM,MAAAA,OAAO,EAAE;IACLkM,QAAAA,KAAK,EAAEL,SAAS,GAAG,GAAZ,GAAkBpV,CAAC,GAAG;IADxB;IAXuB,KAAD;IAcjC;IA1NkB,CAAV,EA2NX;IACK4V,EAAAA,MAAM,EAAEP,WADb;IAEKU,EAAAA,QAAQ,EAAE;IAFf,CA3NW,CAAd;IAgOA,IAAMC,YAAY,GAAGzW,QAAQ,CAACuN,aAAT,CAAuB,OAAvB,CAArB;IACA,IAAMmJ,UAAU,GAAG,IAAIC,UAAJ,CACfX,KAAK,CAACY,WAAN,EADe,EAEf;IACI,6BACI1R,GAAC2Q,SAAS,GAAG,IAAb,GAAmB;IACfgB,IAAAA,IAAI,EAAE,CAAC,CAAD,EAAI,CAAJ,CADS;IAEfC,IAAAA,SAAS,EAAE,CAFI;IAGfC,IAAAA,MAAM,EAAE;IAHO,KAKnB7R,UAAA,GAAS;IACL3C,IAAAA,OAAO,EAAEkU;IADJ,OANb;IADJ,CAFe,CAAnB;IAgBAzB,QAAQ,CAAC7H,GAAC,CAAc,iBAAd,CAAF,EAAoC,OAApC,EAA6C;IACjD6I,EAAAA,KAAK,CAACgB,OAAN,CAAc,KAAd;IACAN,EAAAA,UAAU,CAACO,IAAX;IACH,CAHO,CAAR;IAIA,IAAMC,KAAK,GAAG,IAAI7I,IAAJ,CAAS,aAAT,CAAd;IAEA6I,KAAK,CAAC9H,KAAN,CAAY,CAAC,KAAD,EAAQ,KAAR,CAAZ,EAA4BnD,EAA5B,CAA+B;IAC3B8C,EAAAA,UAAU,EAAE;IACRiH,IAAAA,KAAK,CAACmB,SAAN;IACH,GAH0B;IAI3BrI,EAAAA,KAAK,EAAE;IACHkH,IAAAA,KAAK,CAACgB,OAAN,CAAc,KAAd;IACAN,IAAAA,UAAU,CAACO,IAAX;IACH;IAP0B,CAA/B;IASAC,KAAK,CAACjL,EAAN,CAAS,MAAT,EAAiB;IACb+J,EAAAA,KAAK,CAACoB,MAAN;IACAV,EAAAA,UAAU,CAACU,MAAX;IACH,CAHD;IAKAtU,GAAG,CAACoU,KAAD,CAAH;;;;IC5UA,IAAInB,KAAJ,CAAU;IACN,yBAAuB,UAAAtV,CAAA;IAAK,WAAC;IACzB,SAAG;IACC,wBAAgB,MADjB;IAEC,iBAAS;IAFV,OADsB;IAKzB,WAAK;IACD,wBAAgB,MADf;IAED,iBAAS;IAFR,OALoB;IASzB,WAAK;IACD,wBAAgB,MADf;IAED,iBAAS;IAFR,OAToB;IAazB,SAAG;IACC,wBAAgB,MADjB;IAEC,iBAAS;IAFV,OAbsB;IAiBzBuJ,MAAAA,OAAO,EAAE;IACLqN,QAAAA,SAAS,EAAE5W,CAAC,GAAG,mBAAH,GAAyB,WADhC;IAEL6W,QAAAA,cAAc,EAAE;IAFX;IAjBgB,KAAD;IAqB1B;IAtBI,CAAV,EAuBG;IACCjB,EAAAA,MAAM,EAAEN,KAAK,CAACD,WADf;IAECU,EAAAA,QAAQ,EAAE;IAFX,CAvBH,EA0BGe,OA1BH,CA0BW,CA1BX,EA0BcJ,SA1Bd,CA0BwB;IACpBX,EAAAA,QAAQ,EAAE,UAACgB,CAAD,EAAIhB,QAAJ;IACN,WAAO,iDAA6CA,QAApD;IACH;IAHmB,CA1BxB;IAgCA,IAAIT,KAAJ,CAAU;IACN,0BAAwB;IACpB,OAAG;IACCE,MAAAA,SAAS,EAAE;IACPwB,QAAAA,SAAS,EAAE,YADJ;IAEPC,QAAAA,UAAU,EAAE;IAFL;IADZ,KADiB;IAOpB,OAAG;IACCzB,MAAAA,SAAS,EAAE;IACPyB,QAAAA,UAAU,EAAE;IADL;IADZ;IAPiB;IADlB,CAAV,EAcG;IACCJ,EAAAA,cAAc,EAAE,UADjB;IAECD,EAAAA,SAAS,EAAE,WAFZ;IAGChB,EAAAA,MAAM,EAAEN,KAAK,CAACD,WAHf;IAICU,EAAAA,QAAQ,EAAE;IAJX,CAdH,EAmBGW,SAnBH,CAmBa;IACTX,EAAAA,QAAQ,EAAE;IADD,CAnBb;IAuBA,IAAIT,KAAJ,CAAU;IACN,4BAA0B;IACtB,SAAK;IACD,0BAAoB;IADnB,KADiB;IAItB,UAAM;IACF,0BAAoB;IADlB,KAJgB;IAOtB,WAAO;IACH,0BAAoB;IADjB,KAPe;IAUtB,WAAO;IACH,0BAAoB;IADjB,KAVe;IAatB,WAAO;IACH,0BAAoB;IADjB,KAbe;IAgBtB,SAAK;IAhBiB;IADpB,CAAV,EAqBG;IACCuB,EAAAA,cAAc,EAAE,UADjB;IAECjB,EAAAA,MAAM,EAAEN,KAAK,CAAC4B,OAFf;IAGCnB,EAAAA,QAAQ,EAAE;IAHX,CArBH,EAyBGW,SAzBH,CAyBa;IACTX,EAAAA,QAAQ,EAAE;IADD,CAzBb,EA2BGe,OA3BH,CA2BW,CA3BX;IA6BA,IAAIxB,KAAJ,CAAU;IACN,6BAA2B;IACvB,OAAG;IACC1Q,MAAAA,IAAI,EAAE;IADP,KADoB;IAIvB,OAAG;IACCA,MAAAA,IAAI,EAAE;IADP;IAJoB;IADrB,CAAV,EASG;IACKiS,EAAAA,cAAc,EAAE,UADrB;IAEKjB,EAAAA,MAAM,EAAEN,KAAK,CAAC6B,MAFnB;IAGKpB,EAAAA,QAAQ,EAAE;IAHf,CATH,EAaOW,SAbP,CAaiB;IACTX,EAAAA,QAAQ,EAAE;IADD,CAbjB;IAgBA,IAAMqB,mBAAmB,GAAG1K,GAAC,CAAC,iCAAD,CAA7B;IAEA4I,KAAK,CAAC+B,OAAN,CAAc,CAAC,MAAD,CAAd,EAAwB,IAAxB;IAEA,IAAMC,UAAU,GAAG,IAAIhC,KAAJ,CAAU;IACzB,YAAU,UAAAtV,CAAA;IAAK,WAAC;IACZ,WAAK;IACDwV,QAAAA,SAAS,EAAE,gCAA8BxV,CAAC,GAAG,GAAlC;IADV,OADO;IAIZ,WAAK;IACDwV,QAAAA,SAAS,EAAE,eAAa,CAACxV,CAAC,GAAG,CAAL,IAAU,GAAvB;IADV,OAJO;IAOZ,SAAG;IACCwV,QAAAA,SAAS,EAAE,gCAA8B,CAACxV,CAAC,GAAG,CAAL,IAAU,GAAxC;IADZ,OAPS;IAUZ,SAAG;IACCwV,QAAAA,SAAS,EAAE,eAAa,CAACxV,CAAC,GAAG,CAAL,IAAU,GAAvB;IADZ,OAVS;IAaZuJ,MAAAA,OAAO,EAAE;IACLqM,QAAAA,MAAM,EAAEN,KAAK,CAACD;IADT;IAbG,KAAD;IAgBb,GAjBuB;IAkBzB,iCAA+B;IAC3B,OAAG;IACCR,MAAAA,OAAO,EAAE;IADV,KADwB;IAI3B,OAAG;IACCA,MAAAA,OAAO,EAAE;IADV;IAJwB,GAlBN;IA0BzB,iCAA+B;IAC3B,OAAG;IACC,0BAAoB;IADrB,KADwB;IAI3B,OAAG;IACC,0BAAoB;IADrB,KAJwB;IAO3BtL,IAAAA,OAAO,EAAE;IACLkM,MAAAA,KAAK,EAAE;IADF;IAPkB,GA1BN;IAqCzB,iCAA+B;IAC3B,OAAG;IACC,qBAAe,MADhB;IAEC,oBAAc,aAFf;IAGC,cAAQ;IAHT,KADwB;IAM3B,UAAM;IACFjV,MAAAA,IAAI,EAAE;IADJ,KANqB;IAS3B,UAAM;IACFA,MAAAA,IAAI,EAAE;IADJ,KATqB;IAY3B,UAAM;IACFA,MAAAA,IAAI,EAAE;IADJ,KAZqB;IAe3B,UAAM;IACFA,MAAAA,IAAI,EAAE;IADJ,KAfqB;IAkB3B,UAAM;IACFA,MAAAA,IAAI,EAAE;IADJ,KAlBqB;IAqB3B,UAAM;IACFA,MAAAA,IAAI,EAAE;IADJ,KArBqB;IAwB3B,UAAM;IACFA,MAAAA,IAAI,EAAE;IADJ,KAxBqB;IA2B3B,UAAM;IACFA,MAAAA,IAAI,EAAE;IADJ,KA3BqB;IA8B3B,OAAG,EA9BwB;IAiC3B+I,IAAAA,OAAO,EAAE;IACLkM,MAAAA,KAAK,EAAE;IADF;IAjCkB;IArCN,CAAV,EA0EhB;IACCoB,EAAAA,cAAc,EAAE,UADjB;IAECd,EAAAA,QAAQ,EAAE;IAFX,CA1EgB,EA6EhBe,OA7EgB,CA6ER,CA7EQ,CAAnB;IA+EA,IAAMS,mBAAmB,GAAGpF,OAAO,CAACzF,GAAC,CAAC,gCAAD,EAAmC,IAAnC,CAAF,CAAnC;IAEA4K,UAAU,CAACE,OAAX,CAAmB,6BAAnB,EAAkDhM,EAAlD,CAAqD,SAArD,EAAgE,UAAArI,CAAA;IAC5D,MAAMQ,EAAE,GAAG4T,mBAAmB,CAAC,CAAD,CAA9B;IAEA5T,EAAAA,EAAE,CAAC8T,SAAH,GAAe,cAAYtU,CAAC,CAACuU,KAAF,CAAQC,GAAR,CAAY,SAAZ,EAAuBC,OAAvB,CAA+B,CAA/B,CAA3B;IACH,CAJD;IAKAN,UAAU,CAACE,OAAX,CAAmB,6BAAnB,EAAkDhM,EAAlD,CAAqD,SAArD,EAAgE,UAAArI,CAAA;IAC5D,MAAMQ,EAAE,GAAG4T,mBAAmB,CAAC,CAAD,CAA9B;IAEA5T,EAAAA,EAAE,CAAC8T,SAAH,GAAe,KAAGtU,CAAC,CAACuU,KAAF,CAAQC,GAAR,CAAY,kBAAZ,CAAlB;IACH,CAJD;IAKAL,UAAU,CAACE,OAAX,CAAmB,6BAAnB,EAAkDhM,EAAlD,CAAqD,SAArD,EAAgE,UAAArI,CAAA;IAC5D,MAAMQ,EAAE,GAAGR,CAAC,CAAC4H,aAAF,CAAgBmJ,QAAhB,CAAyB,CAAzB,CAAX;IAEAvQ,EAAAA,EAAE,CAAC8T,SAAH,GAAe,KAAGtU,CAAC,CAACuU,KAAF,CAAQC,GAAR,CAAY,MAAZ,CAAlB;IACH,CAJD;IAKApD,QAAQ,CAAC6C,mBAAD,EAAsB,YAAtB,EAAoC;IACxCE,EAAAA,UAAU,CAACO,YAAX,OAA8B,SAA9B,IAA2CP,UAAU,CAACd,IAAX,EAA3C;IACH,CAFO,CAAR;IAGAjC,QAAQ,CAAC6C,mBAAD,EAAsB,YAAtB,EAAoC;IACxCE,EAAAA,UAAU,CAACQ,KAAX;IACH,CAFO,CAAR;IAIA,IAAMC,KAAK,GAAG,IAAInK,IAAJ,CAAS,aAAT,CAAd;IAEAvL,GAAG,CAAC0V,KAAD,CAAH;;IC1NA,IAAMC,KAAK,GAAG,IAAIpK,IAAJ,CAAS,aAAT,CAAd;IAEAvL,GAAG,CAAC2V,KAAD,CAAH;;ICFA,IAAMC,KAAK,GAAG,IAAIrK,IAAJ,CAAS,aAAT,CAAd;IAEAvL,GAAG,CAAC4V,KAAD,CAAH;;ICFO,IAAMC,MAAM,GAAG,YAAf;AACP,IAAO,IAAMC,aAAa,GAAG,eAAtB;AACP,IAAO,IAAMC,eAAe,GAAG,2BAAxB;AACP,IAAO,IAAMC,KAAK,GAAe;IAAE7C,EAAAA,SAAS,EAAE,EAAb;IAAiB8C,EAAAA,MAAM,EAAE,EAAzB;IAA6BC,EAAAA,SAAS,EAAE;IAAxC,CAA1B;AACP,IAAO,IAAMC,KAAK,GAAsB;IAAE5C,EAAAA,MAAM,EAAE,CAACwC,eAAD;IAAV,CAAjC;AACP,IAAO,IAAMK,KAAK,eAAKhU,KAAC2T,gBAAD,GAAmB,MAAM3T,aAAA,GAAU,UAAxC,CAAX;AACP,IAAO,IAAMiU,OAAO,GAAG,OAAhB;AACP,IAAO,IAAMC,SAAS,GAAG,QAAlB;AAEP,IAAO,IAAMC,QAAQ,GAAG,UAAjB;AACP,IAAO,IAAMC,SAAS,GAAG,UAAlB;AACP,IAAO,IAAMC,SAAS,GAAG,WAAlB;AACP,IAAO,IAAMC,eAAe,GAAG,gBAAxB;AACP,IAAO,IAAMC,KAAK,GAAG,OAAd;AACP,IAAO,IAAMC,MAAM,GAAG,QAAf;AACP,IAAO,IAAMC,UAAU,GAAG,WAAnB;AACP,IAAO,IAAMC,WAAW,GAAG,YAApB;AACP,IAAO,IAAMC,cAAc,GAAG,eAAvB;AACP,IAAO,IAAMC,MAAM,GAAG,QAAf;AACP,IAAO,IAAMC,KAAK,GAAG,OAAd;AACP,IAAO,IAAMC,UAAU,GAAG,YAAnB;AACP,IACO,IAAMC,IAAI,GAAG,MAAb;AACP,IAAO,IAAMC,OAAO,GAAG,SAAhB;AACP,IAAO,IAAMC,SAAS,GAAG,WAAlB;AACP,IAAO,IAAMC,eAAe,GAAG,gBAAxB;AACP,IAAO,IAAMC,eAAe,GAAG,gBAAxB;AACP,IAAO,IAAMC,SAAS,GAAG,WAAlB;AACP,IAAO,IAAMC,OAAO,GAAG,SAAhB;AACP,IAAO,IAAMC,iBAAiB,GAAG,mBAA1B;AACP,IAAO,IAAMC,MAAM,GAAG,QAAf;AACP,IAAO,IAAMC,QAAQ,GAAG,UAAjB;AACP,IAAO,IAAMC,UAAU,GAAG,WAAnB;AACP,IAAO,IAAMC,QAAQ,GAAG,SAAjB;AACP,IAAO,IAAMC,SAAS,GAAG,UAAlB;AACP,IAAO,IAAMC,SAAS,GAAG,UAAlB;AACP,IAAO,IAAMC,YAAY,GAAG,aAArB;AACP,IAAO,IAAMC,QAAQ,GAAG,UAAjB;AACP,IAAO,IAAMC,cAAc,GAAG,WAAvB;IAEP;;;;;;;;;;AASA,IAAO,IAAMC,OAAO,GAAe,CAAC7B,QAAD,EAAWC,SAAX,EAAsBC,SAAtB,EAAiCC,eAAjC,EAAkDC,KAAlD,EAAyDC,MAAzD,EAAiEC,UAAjE,CAA5B;AAEP;;;ICnDA;;;;IAGA;;;IAEI;;;;;;;;;;;;;IAcA,uBAAA;IACI,SAAKrK,MAAL,GAAc,EAAd;IACH;;;;IACM,aAAA,GAAP,UAAW5O,IAAX,EAA0CwB,QAA1C,EAAoF2J,IAApF;IAAA,oBAAA;;IACI,QAAMyD,MAAM,GAAG,KAAKA,MAApB;;IAEA,QAAIxC,UAAQ,CAACpM,IAAD,CAAZ,EAAoB;IAChB,WAAK,IAAM0C,CAAX,IAAgB1C,IAAhB,EAAsB;IAClB,aAAKya,GAAL,CAAS/X,CAAT,EAAY1C,IAAI,CAAC0C,CAAD,CAAhB,EAAqByI,IAArB;IACH;;IACD;IACH;;IACD,QAAI,EAAEnL,IAAI,IAAI4O,MAAV,CAAJ,EAAuB;IACnBA,MAAAA,MAAM,CAAC5O,IAAD,CAAN,GAAe,EAAf;IACH;;IACD,QAAI,CAACwB,QAAL,EAAe;IACX;IACH;;IACD,QAAI6K,SAAO,CAAC7K,QAAD,CAAX,EAAuB;IACnBA,MAAAA,QAAQ,CAACgE,OAAT,CAAiB,UAAAmP,IAAA;IAAQ,eAAA9G,KAAI,CAAC4M,GAAL,CAASza,IAAT,EAAe2U,IAAf,EAAqBxJ,IAArB,CAAA;IAA0B,OAAnD;IACA;IACH;;IACDyD,IAAAA,MAAM,CAAC5O,IAAD,CAAN,CAAagE,IAAb,CAAkBmH,IAAI,GAAG,kBAAA;IAAmB,mBAAA;;eAAA,YAAAuP,uBAAAA;IAAAC,QAAAA,QAAA,gBAAA;;;IACxCnZ,MAAAA,QAAQ,MAAR,OAAA,EAAYmZ,IAAZ;IACA,WAAKhP,GAAL,CAAS3L,IAAT,EAAe4a,SAAf;IACH,KAHqB,GAGlBpZ,QAHJ;IAIH,GAvBM;IAwBP;;;;;;;;;;;;;IAaO,YAAA,GAAP,UAAUxB,IAAV,EAAyCwB,QAAzC;IACI,SAAKiZ,GAAL,CAASza,IAAT,EAAewB,QAAf;;IACA,WAAO,IAAP;IACH,GAHM;IAIP;;;;;;;;;;;;;;;IAeO,aAAA,GAAP,UAAWxB,IAAX,EAA0BwB,QAA1B;IACI,QAAI,CAACxB,IAAL,EAAW;IACP,WAAK4O,MAAL,GAAc,EAAd;IACH,KAFD,MAEO,IAAI,CAACpN,QAAL,EAAe;IAClB,WAAKoN,MAAL,CAAY5O,IAAZ,IAAoB,EAApB;IACH,KAFM,MAEA;IACH,UAAM6a,SAAS,GAAG,KAAKjM,MAAL,CAAY5O,IAAZ,CAAlB;;IAEA,UAAI,CAAC6a,SAAL,EAAgB;IACZ,eAAO,IAAP;IACH;;IACD,UAAMpF,KAAK,GAAGoF,SAAS,CAAC1X,OAAV,CAAkB3B,QAAlB,CAAd;;IAEA,UAAIiU,KAAK,KAAK,CAAC,CAAf,EAAkB;IACdoF,QAAAA,SAAS,CAAC5O,MAAV,CAAiBwJ,KAAjB,EAAwB,CAAxB;IACH;IACJ;;IACD,WAAO,IAAP;IACH,GAlBM;IAmBP;;;;;;;;;;;;;IAaO,iBAAA,GAAP,UAAezV,IAAf;IAAA,oBAAA;;IAA6B,iBAAA;;aAAA,YAAA0a,uBAAAA;IAAAI,MAAAA,YAAA,gBAAA;;;IACzB,QAAMlM,MAAM,GAAG,KAAKA,MAApB;;IAEA,QAAI,EAAE5O,IAAI,IAAI4O,MAAV,CAAJ,EAAuB;IACnB,aAAO,IAAP;IACH;;IAED,QAAM+L,IAAI,GAAGG,IAAI,IAAI,EAArB;IAEA,KAACH,IAAI,CAAC,CAAD,CAAL,KAAaA,IAAI,CAAC,CAAD,CAAJ,GAAU,EAAvB;IACA,QAAMI,KAAK,GAAGnM,MAAM,CAAC5O,IAAD,CAApB;IACA,QAAM+O,MAAM,GAAG4L,IAAI,CAAC,CAAD,CAAnB;IAEA5L,IAAAA,MAAM,CAACwF,IAAP,GAAcvU,IAAd;IACA+O,IAAAA,MAAM,CAACjE,aAAP,GAAuB,IAAvB;IACA,KAACiE,MAAM,CAACA,MAAR,KAAmBA,MAAM,CAACA,MAAP,GAAgB,IAAnC;IACAmD,IAAAA,OAAO,CAACtD,MAAM,CAAC5O,IAAD,CAAP,CAAP,CAAsBwF,OAAtB,CAA8B,UAAAhE,QAAA;IAC1BA,MAAAA,QAAQ,CAACwB,KAAT,CAAe6K,KAAf,EAAqBiN,IAArB;IACH,KAFD;IAIA,WAAO,IAAP;IACH,GArBM;;IAsBA,cAAA,GAAP,UAAY9a,IAAZ,EAA2CwB,QAA3C;IACI,SAAKiZ,GAAL,CAASza,IAAT,EAAewB,QAAf,EAAyB,IAAzB;;IACA,WAAO,IAAP;IACH,GAHM;;IAIX,qBAAA;IAAC,GArID;;ICJA,cAAA,CAAegH,EAAf,EAA2BE,EAA3B,EAAuClG,CAAvC;IACE,MAAMwY,EAAE,GAAG,IAAIxY,CAAf;;IAGA,SAAOA,CAAC,GAAGA,CAAJ,GAAQA,CAAR,GAAY,IAAIA,CAAJ,GAAQA,CAAR,GAAYwY,EAAZ,GAAiBtS,EAA7B,GAAkC,IAAIlG,CAAJ,GAAQwY,EAAR,GAAaA,EAAb,GAAkBxS,EAA3D;IACD;;IACD,mBAAA,CAAoBD,EAApB,EAAgCE,EAAhC,EAA4CG,CAA5C;IACE;IACA;IACA,MAAIpG,CAAC,GAAGoG,CAAR;IACA,MAAIqS,MAAM,GAAGrS,CAAb;IACA,MAAIsS,EAAE,GAAG,CAAT;;IAEA,SAAOpV,IAAI,CAACsN,GAAL,CAAS8H,EAAT,IAAe,IAAI,IAA1B,EAAgC;IAC9B;IACAD,IAAAA,MAAM,GAAGE,KAAK,CAAC5S,EAAD,EAAKE,EAAL,EAASjG,CAAT,CAAd;IACA0Y,IAAAA,EAAE,GAAGD,MAAM,GAAGrS,CAAd,CAH8B;;IAK9B,QAAI9C,IAAI,CAACsN,GAAL,CAAS8H,EAAT,IAAe,IAAI,IAAvB,EAA6B;IAC3B,aAAO1Y,CAAP;IACD;;IACDA,IAAAA,CAAC,IAAI0Y,EAAE,GAAG,CAAV;IACD;;IACD,SAAO1Y,CAAP;IACD;IACD;;;;IAGA;;;;;;;;;;;;;;;;AAcA,oBAAuB+F,IAAYC,IAAYC,IAAYC;IACzD;;;;;IAKA,MAAMiM,IAAI,GAAoB,UAAC/L,CAAD;IAC5B,QAAMpG,CAAC,GAAG4Y,UAAU,CAAC7S,EAAD,EAAKE,EAAL,EAAS3C,IAAI,CAACC,GAAL,CAASD,IAAI,CAACuB,GAAL,CAAS,CAAT,EAAYuB,CAAZ,CAAT,EAAyB,CAAzB,CAAT,CAApB;IAEA,WAAOuS,KAAK,CAAC3S,EAAD,EAAKE,EAAL,EAASlG,CAAT,CAAZ;IACD,GAJD;;IAMAmS,EAAAA,IAAI,CAAC0G,UAAL,GAAkB,kBAAgB9S,EAAhB,MAAA,GAAsBC,EAAtB,MAAA,GAA4BC,EAA5B,MAAA,GAAkCC,EAAlC,MAAlB;IACA,SAAOiM,IAAP;IACD;AACD,IAkDA;;;;;;;;;;;AAUA,IAAO,IAAMuC,MAAM;IAAG;IAAcoE,MAAM,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAnC;IACP;;;;;;;;;;;AAUA,IAAO,IAAMC,IAAI;IAAG;IAAcD,MAAM,CAAC,IAAD,EAAO,GAAP,EAAY,IAAZ,EAAkB,CAAlB,CAAjC;IACP;;;;;;;;;;;AAUA,IAAO,IAAMrE,OAAO;IAAG;IAAcqE,MAAM,CAAC,IAAD,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAApC;IACP;;;;;;;;;;;AAUA,IAAO,IAAME,QAAQ;IAAG;IAAcF,MAAM,CAAC,CAAD,EAAI,CAAJ,EAAO,IAAP,EAAa,CAAb,CAArC;IACP;;;;;;;;;;;AAUA,IAAO,IAAMlG,aAAW;IAAG;IAAckG,MAAM,CAAC,IAAD,EAAO,CAAP,EAAU,IAAV,EAAgB,CAAhB,CAAxC;;IChKP;;;;IAGA;;;IAQI;;;;;;;;;;IAUA,yBAAA,CAAY1a,KAAZ,EAAmC0I,OAAnC;IAhBO,eAAA,GAAiB,EAAjB;IACA,eAAA,GAAiB,EAAjB;IACA,cAAA,GAAgB,EAAhB;IACA,aAAA,GAAe,EAAf;IACA,kBAAA,GAAoB,GAApB;IAaHA,IAAAA,OAAO,IAAI,KAAKmS,UAAL,CAAgBnS,OAAhB,CAAX;IACA,SAAK1I,KAAL,GAAayQ,UAAQ,CAACzQ,KAAD,CAAR,GAAkBA,KAAK,CAACmE,KAAN,CAAY,KAAKgN,SAAjB,CAAlB,GAAgDnR,KAA7D;IACH;;;;IACM,oBAAA,GAAP,UAAkB8a,UAAlB;IACI,SAAK,IAAM1b,IAAX,IAAmB0b,UAAnB,EAA+B;IAC3B,WAAK1b,IAAL,IAA0C0b,UAAU,CAAC1b,IAAD,CAApD;IACH;;IACD,WAAO,IAAP;IACH,GALM;IAMP;;;;;;;;;IAQO,cAAA,GAAP;IACI,WAAO,KAAKY,KAAL,CAAWd,MAAlB;IACH,GAFM;IAGP;;;;;;;;;;;IAUO,aAAA,GAAP,UAAW2V,KAAX;IACI,WAAO,KAAK7U,KAAL,CAAW6U,KAAX,CAAP;IACH,GAFM;IAGP;;;;;;;;;;;;;IAWO,aAAA,GAAP,UAAWA,KAAX,EAA0B7U,KAA1B;IACI,SAAKA,KAAL,CAAW6U,KAAX,IAAoB7U,KAApB;IACA,WAAO,IAAP;IACH,GAHM;IAIP;;;;;;;;;IAOO,eAAA,GAAP;IACU,QAAA4D,SAAA;IAAA,QACFuN,wBADE;IAAA,QAEFrR,kBAFE;IAAA,QAGF8L,kBAHE;IAAA,QAIFmP,gBAJE;IAAA,QAKFpH,cALE;;IAON,QAAMxB,GAAG,GAAG,KAAKnS,KAAL,CAAW8E,GAAX,CAAe,UAAA6J,CAAA;IAAK,aAAEA,CAAC,YAAYqM,cAAd,GAAgCrM,CAAC,CAACsM,KAAF,EAAhC,GAA4CtM,CAA7C;IAA+C,KAAnE,CAAZ;IACA,WAAO,IAAIqM,cAAJ,CAAmB7I,GAAnB,EAAwB;IAC3BhB,MAAAA,SAAS,WADkB;IAE3BrR,MAAAA,MAAM,QAFqB;IAG3B8L,MAAAA,MAAM,QAHqB;IAI3BmP,MAAAA,KAAK,OAJsB;IAK3BpH,MAAAA,IAAI;IALuB,KAAxB,CAAP;IAOH,GAhBM;IAiBP;;;;;;;;;;;;;;;IAaO,iBAAA,GAAP;IACI,WAAO,KAAK7T,MAAL,GAAc,KAAKuD,IAAL,EAAd,GAA4B,KAAKuI,MAAxC;IACH,GAFM;IAGP;;;;;;;;;;;;;;IAYO,cAAA,GAAP;IACI,WAAO,KAAK5L,KAAL,CAAW8E,GAAX,CAAe,UAAA6J,CAAA;IAAK,aAAEA,CAAC,YAAYqM,cAAd,GAAgCrM,CAAC,CAACuM,OAAF,EAAhC,GAA8CvM,CAA/C;IAAiD,KAArE,EAAuEtL,IAAvE,CAA4E,KAAK8N,SAAjF,CAAP;IACH,GAFM;IAGP;;;;;;;;;;;;;;;;;;;;;IAoBO,iBAAA,GAAP,UAAe4C,IAAf;IACI,SAAK/T,KAAL,CAAW4E,OAAX,CAAmBmP,IAAnB;IACA,WAAO,IAAP;IACH,GAHM;;IAIX,uBAAA;IAAC,GAlJD;;8BCMiC/T;IAC7B,SAAOA,KAAK,YAAYgb,cAAxB;IACH;AACD,qBAmBwBhb;IACpB,MAAM2T,IAAI,GAAG,OAAO3T,KAApB;;IAEA,MAAI2T,IAAI,KAAKpI,QAAb,EAAqB;IACjB,QAAIE,SAAO,CAACzL,KAAD,CAAX,EAAoB;IAChB,aAAOsQ,OAAP;IACH,KAFD,MAEO,IAAI6K,gBAAgB,CAACnb,KAAD,CAApB,EAA6B;IAChC,aAAOqQ,UAAP;IACH;IACJ,GAND,MAMO,IAAIsD,IAAI,KAAKpD,QAAT,IAAmBoD,IAAI,KAAKnD,QAAhC,EAAwC;IAC3C,WAAO,OAAP;IACH;;IACD,SAAOmD,IAAP;IACH;AACD,qBAAwByH;IACpB,SAAOlW,IAAI,CAAC2N,KAAL,CAAWuI,GAAG,GAAGvD,OAAjB,IAA4BA,OAAnC;IACH;AACD,6BACIwD,OACA/H,YAA0BpU;IAAA,uBAAA,EAAA;IAAAA,IAAAA,SAAiBmc,KAAK,CAACnc,MAAvB;;;IAC1B,MAAIc,KAAK,GAAGsT,UAAZ;;IAEA,OAAK,IAAInU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;IAC7B,QAAI,CAACqM,UAAQ,CAACxL,KAAD,CAAb,EAAsB;IAClB,aAAOkL,SAAP;IACH;;IACDlL,IAAAA,KAAK,GAAGA,KAAK,CAACqb,KAAK,CAAClc,CAAD,CAAN,CAAb;IACH;;IACD,SAAOa,KAAP;IACH;AACD,4BAA+Bsb,OAAqBvB,MAAgBwB;IAChE,MAAMrc,MAAM,GAAG6a,IAAI,CAAC7a,MAApB;IACA,MAAIsc,IAAI,GAAQF,KAAhB;;IAEA,MAAIpc,MAAM,KAAK,CAAf,EAAkB;IACd,WAAO,KAAP;IACH;;IACD,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;IAC7B,QAAIqc,IAAI,KAAK,IAAb,EAAmB;IACf,aAAO,KAAP;IACH;;IACDA,IAAAA,IAAI,GAAGA,IAAI,CAACzB,IAAI,CAAC5a,CAAD,CAAL,CAAX;;IACA,QAAI,CAACqc,IAAD,IAAU,CAACD,WAAD,IAAgBC,IAAI,KAAK,IAAvC,EAA8C;IAC1C,aAAO,KAAP;IACH;IACJ;;IACD,SAAO,IAAP;IACH;AACD,oBAAuBzB,MAAgBwB;IACnC,SAAOE,cAAc,CAACjE,KAAD,EAAQuC,IAAR,EAAcwB,WAAd,CAArB;IACH;AACD,qBAAwBxB;IACpB,SAAO0B,cAAc,CAAC7D,KAAD,EAAQmC,IAAR,EAAc,IAAd,CAArB;IACH;AAOD,wBAA2B2B,MAAyBC;IAChDD,EAAAA,IAAI,CAACnO,KAAL,CAAW+L,QAAX,IAAuBqC,UAAvB;IACH;AACD,yBAA4BD;IACxB,SAAOA,IAAI,CAACnO,KAAL,CAAW+L,QAAX,KAAwBoC,IAAI,CAACE,QAAL,EAA/B;IACH;AACD,wBAA2BF;IACvB,SAAO,CAACA,IAAI,CAACG,OAAL,EAAD,IAAmBH,IAAI,CAACnO,KAAL,CAAW+L,QAAX,CAA1B;IACH;AAED,uBAA0BxY,IAAqByH;IAC3C,MAAMuT,OAAO,GAAMzE,MAAM,WAAN,GAAe0E,IAAI,CAACjb,EAAD,CAAtC;IACA,MAAMkb,YAAY,GAAgBnQ,GAAC,CAAC,MAAIiQ,OAAL,CAAnC;;IAEA,MAAIE,YAAJ,EAAkB;IACdA,IAAAA,YAAY,CAACC,SAAb,GAAyB1T,GAAzB;IACH,GAFD,MAEO;IACH7J,IAAAA,KAAQ,CAACK,IAAT,CAAcmd,kBAAd,CAAiC,WAAjC,EACI,iBAAcJ,OAAd,QAAA,GAA0BvT,GAA1B,aADJ;IAEH;IACJ;AACD,oBAAuB2M;IACnB,WAAU;IACN,QAAMpU,EAAE,GAAG,KAAGoE,IAAI,CAACqN,KAAL,CAAWrN,IAAI,CAACiX,MAAL,KAAgB,QAA3B,CAAd;;IAEA,QAAI,CAAC5d,WAAD,IAAc,CAAC2W,QAAnB,EAA6B;IACzB,aAAOpU,EAAP;IACH;;IACD,QAAMsb,YAAY,GAAGvQ,GAAC,CAAC,sBAAmB/K,EAAnB,QAAD,CAAtB;;IAEA,QAAI,CAACsb,YAAL,EAAmB;IACf,aAAOtb,EAAP;IACH;IACJ;IACJ;AACD,uBAA0B4a;IACtB,SAAOA,IAAI,CAACW,KAAL,MAAgBX,IAAI,CAACY,KAAL,CAAWC,MAAM,CAAC,KAAD,CAAjB,EAA0BF,KAA1B,EAAvB;IACH;AACD,kBAAqB1c;IACjB,SAAO,CAAA,KAAGA,IAAH,EAAU0B,KAAV,CAAgB,eAAhB,EAAiCgC,IAAjC,CAAsC,EAAtC,CAAP;IACH;AACD,qBACIqY,MAAyBc,aACzBC,eAAwBnJ;IAAA,2BAAA,EAAA;IAAAA,IAAAA,eAAA;;;IACxB,MAAI,CAAC/T,WAAD,IAAcmc,IAAI,CAAC1E,YAAL,OAAwB4B,OAA1C,EAAmD;IAC/C;IACH;;IACD,MAAM1X,SAAS,GAAGub,aAAa,IAAI3D,eAAnC;;IAEA,MAAI4D,WAAW,CAAChB,IAAD,CAAf,EAAuB;IACnBA,IAAAA,IAAI,CAACiB,YAAL,CAAkB,IAAlB,EAAwBzb,SAAxB,EAAmCoS,UAAnC;IACH,GAFD,MAEO;IACH,QAAIoI,IAAI,CAACG,OAAL,EAAJ,EAAoB;IAChBH,MAAAA,IAAI,CAACzF,OAAL,CAAa,CAAb;IACH;;IACDuG,IAAAA,WAAW,IAAId,IAAI,CAAC7F,SAAL,CAAe;IAAE3U,MAAAA,SAAS;IAAX,KAAf,CAAf;IACA,QAAM4B,EAAE,GAAG4Y,IAAI,CAACiB,YAAL,CAAkB,KAAlB,EAAyBzb,SAAzB,EAAoCoS,UAApC,CAAX;;IAEA,QAAI,CAACxQ,EAAL,EAAS;IACL;IACH;;IACD8Z,IAAAA,iBAAiB,CAAClB,IAAD,EAAO5Y,EAAP,CAAjB;IACA+Z,IAAAA,UAAU,CAACnB,IAAD,EAAO,IAAP,CAAV;IACH;;IACDA,EAAAA,IAAI,CAACoB,YAAL,CAAkBlE,OAAlB;IACH;AACD,uBAA6BzG,KAAUvR,UAA+Bmc;IAAA,6BAAA,EAAA;IAAAA,IAAAA,gBAAwB,CAAxB;;;IAClE,MAAM7d,MAAM,GAAGiT,GAAG,CAACjT,MAAnB;;IAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;IAC7B,QAAIyB,QAAQ,CAACuR,GAAG,CAAChT,CAAD,CAAJ,CAAZ,EAAsB;IAClB,aAAOA,CAAP;IACH;IACJ;;IACD,SAAO4d,YAAP;IACH;AACD,kBAAwB5K,KAAUvR,UAA+Boc;IAC7D,MAAMnI,KAAK,GAAGoI,SAAS,CAAC9K,GAAD,EAAMvR,QAAN,CAAvB;IAEA,SAAOiU,KAAK,GAAG,CAAE,CAAV,GAAc1C,GAAG,CAAC0C,KAAD,CAAjB,GAA2BmI,YAAlC;IACH;AACD,+BAAkCtB,MAAyB5Y;IACvD,MAAMyK,KAAK,GAAGmO,IAAI,CAACnO,KAAnB;IACA,MAAM2P,QAAQ,GAAGxB,IAAI,CAACpG,WAAL,EAAjB;IACA,MAAM6H,cAAc,GAAG,CAACD,QAAD,IAAa,CAACE,QAAQ,CAACF,QAAD,CAA7C;;IACA,MAAMG,YAAY,GAAG;IACjBR,IAAAA,UAAU,CAACnB,IAAD,EAAO,KAAP,CAAV;IACAA,IAAAA,IAAI,CAAC5F,MAAL;IACH,GAHD;;IAIA,MAAMwH,cAAc,GAAG;IACnB5B,IAAAA,IAAI,CAAClS,OAAL,CAAamP,IAAb;IACH,GAFD;;IAGA+C,EAAAA,IAAI,CAACnR,IAAL,CAAUkO,KAAV,EAAiB;IACb7E,IAAAA,WAAW,CAAC9Q,EAAD,EAAK,iBAAL,EAAwBua,YAAxB,CAAX;IACAzJ,IAAAA,WAAW,CAAC9Q,EAAD,EAAK,cAAL,EAAqBua,YAArB,CAAX;IACAzJ,IAAAA,WAAW,CAAC9Q,EAAD,EAAK,oBAAL,EAA2Bya,kBAA3B,CAAX;IACA3J,IAAAA,WAAW,CAAC9Q,EAAD,EAAK,gBAAL,EAAuBwa,cAAvB,CAAX;IACH,GALD;;IAMA,MAAMC,kBAAkB,GAAG,UAAC3Z,EAAD;YAAG4Z;IAC1B,QAAMC,WAAW,GAAGD,WAApB;IACA,QAAMxH,cAAc,GAAGmH,cAAc,GAAG,CAAH,GAAQM,WAAW,GAAGP,QAA3D;IAEA3P,IAAAA,KAAK,CAACkM,YAAD,CAAL,GAAsBgE,WAAtB;IACA/B,IAAAA,IAAI,CAACgC,YAAL,CAAkB1H,cAAlB;IACH,GAND;;IAOAtC,EAAAA,QAAQ,CAAC5Q,EAAD,EAAK,iBAAL,EAAwBua,YAAxB,CAAR;IACA3J,EAAAA,QAAQ,CAAC5Q,EAAD,EAAK,cAAL,EAAqBua,YAArB,CAAR;IACA3J,EAAAA,QAAQ,CAAC5Q,EAAD,EAAK,oBAAL,EAA2Bya,kBAA3B,CAAR;IACA7J,EAAAA,QAAQ,CAAC5Q,EAAD,EAAK,gBAAL,EAAuBwa,cAAvB,CAAR;IACH;;IC3LD,qBAAA,CACIK,MADJ,EACsBC,MADtB,EACwCC,MADxC;IAEI,SAAO,UAACrR,WAAD;IACH,QAAMvK,SAAS,GAAGuK,WAAW,CAACvK,SAA9B;IAEA0b,IAAAA,MAAM,CAAC/Y,OAAP,CAAe,UAAAxF,IAAA;IACX6C,MAAAA,SAAS,CAAC6O,UAAQ,CAAC,SAAO1R,IAAR,CAAT,CAAT,GAAqC;IACjC,eAAO,KAAKye,MAAL,EAAaze,IAAb,CAAP;IACH,OAFD;IAGH,KAJD;IAKAwe,IAAAA,MAAM,CAAChZ,OAAP,CAAe,UAAAxF,IAAA;IACX6C,MAAAA,SAAS,CAAC6O,UAAQ,CAAC,SAAO1R,IAAR,CAAT,CAAT,GAAqC,UAASY,KAAT;IACjC,aAAK6d,MAAL,EAAaze,IAAb,IAAqBY,KAArB;IACA,eAAO,IAAP;IACH,OAHD;IAIH,KALD;IAMH,GAdD;IAeH;;IACD,aAAA,CAAc8d,QAAd,EAAkC3d,GAAlC,EAA+C4d,EAA/C;IACI,MAAID,QAAQ,CAAClC,QAAT,EAAJ,EAAyB;IACrB;IACH;;IACD,MAAMrO,KAAK,GAAGuQ,QAAQ,CAACvQ,KAAvB;IACA,MAAMiI,SAAS,GAAGjI,KAAK,CAAC8K,UAAD,CAAvB;IACA,MAAM2F,QAAQ,GAAGzQ,KAAK,CAACgM,SAAD,CAAtB;IACA,MAAM3E,KAAK,GAAGrH,KAAK,CAAC4K,KAAD,CAAnB;IACA,MAAM8F,QAAQ,GAAG1Q,KAAK,CAACiM,SAAD,CAAtB;IACA,MAAMiE,WAAW,GAAGQ,QAAQ,GAAG/Y,IAAI,CAACuB,GAAL,CAAS,IAAT,EAAetG,GAAG,GAAG6d,QAArB,IAAiC,IAAjC,GAAwCxI,SAAvE;IAEAjI,EAAAA,KAAK,CAACgM,SAAD,CAAL,GAAmBpZ,GAAnB;IACA2d,EAAAA,QAAQ,CAAC7H,OAAT,CAAiBwH,WAAW,GAAG7I,KAA/B,EAAsC,IAAtC;;IACA,MAAImJ,EAAE,IAAIA,EAAE,GAAG,IAAL,GAAY5d,GAAtB,EAA2B;IACvB2d,IAAAA,QAAQ,CAAC7G,KAAT;IACH;;IACD,MAAI1J,KAAK,CAAC8L,UAAD,CAAL,KAAsBb,MAA1B,EAAkC;IAC9B;IACH;;IAEDlY,EAAAA,uBAAqB,CAAC,UAAC4d,IAAD;IAClBC,IAAAA,IAAI,CAACL,QAAD,EAAWI,IAAX,EAAiBH,EAAjB,CAAJ;IACH,GAFoB,CAArB;IAGH;;AAED,gCAAmCK,WAAmBC,gBAAoCtI;IACtF,MAAIA,SAAS,KAAKkD,OAAlB,EAA2B;IACvB,WAAO,IAAP;IACH,GAFD,MAEO,IAAIoF,cAAc,KAAKjF,QAAnB,IAA+BgF,SAAS,KAAKC,cAA7C,IAA+DA,cAAc,GAAG,CAAjB,KAAuB,CAA1F,EAA6F;IAChG,WAAOtI,SAAS,MAAMqI,SAAS,GAAG,CAAZ,IAAiB,CAAjB,GAAqBlF,iBAArB,GAAyCF,SAA/C,CAAhB;IACH;;IACD,SAAOjD,SAAS,MAAMqI,SAAS,GAAG,CAAZ,IAAiB,CAAjB,GAAqBpF,SAArB,GAAiCE,iBAAvC,CAAhB;IACH;IACD;;;;;;;;;;IAUA,IAAMoF,OAAO,GAAG,CAAC,IAAD,EAAOpG,eAAP,EAAwBC,KAAxB,EAA+BH,SAA/B,EACZC,SADY,EACDI,UADC,EACWN,QADX,EACqBM,UADrB,EACiCE,cADjC,EACiDc,UADjD,CAAhB;IAEA,IAAMkF,OAAO,GAAOD,OAAO,OAAP,EAASlG,QAAQE,YAAjB,CAApB;IAEA;;;;;;IAMA;;;IAAgEkG,EAAAA,SAAA,SAAA,QAAA;IAG5D;;;;;;;;;;;;;;IAYA,mBAAA,CAAY9V,OAAZ;IAAA,gBACIsE,WAAA,KAAA,SADJ;;IAEIC,IAAAA,KAAI,CAACM,KAAL,GAAa;IACTzM,MAAAA,EAAE,EAAE,EADK;IAETiU,MAAAA,MAAM,EAAE,CAFC;IAGT0F,MAAAA,UAAU,EAAE,QAHH;IAITzE,MAAAA,cAAc,EAAE,CAJP;IAKTpB,MAAAA,KAAK,EAAE,CALE;IAMT6J,MAAAA,QAAQ,EAAE,UAND;IAOT1I,MAAAA,SAAS,EAAEoD,MAPF;IAQT3D,MAAAA,SAAS,EAAE,CARF;IASTiI,MAAAA,WAAW,EAAE,CATJ;IAUTiB,MAAAA,aAAa,EAAE,CAAC,CAVP;IAWTN,MAAAA,SAAS,EAAE,CAXF;IAYTH,MAAAA,QAAQ,EAAE,CAZD;IAaTD,MAAAA,QAAQ,EAAE,CAbD;IAcTW,MAAAA,SAAS,EAAEnG,MAdF;IAeT0E,MAAAA,QAAQ,EAAE;IAfD,KAAb;;IAiBAjQ,IAAAA,KAAI,CAAC4N,UAAL,CAAgBnS,OAAhB;;;IACH;IACD;;;;;;;;;;;;;;;;;;IAcO,mBAAA,GAAP,UAAiBkW,UAAjB;IACI,QAAM7J,MAAM,GAAGtJ,SAAO,CAACmT,UAAD,CAAP,GACXlE,MAAM,CAACkE,UAAU,CAAC,CAAD,CAAX,EAAgBA,UAAU,CAAC,CAAD,CAA1B,EAA+BA,UAAU,CAAC,CAAD,CAAzC,EAA8CA,UAAU,CAAC,CAAD,CAAxD,CADK,GAC0DA,UADzE;IAEA,QAAMnE,UAAU,GAAG1F,MAAM,CAACuD,WAAD,CAAN,IAAuB,QAA1C;IAEA,QAAM/K,KAAK,GAAG,KAAKA,KAAnB;IAEAA,IAAAA,KAAK,CAAC6K,MAAD,CAAL,GAAgBrD,MAAhB;IACAxH,IAAAA,KAAK,CAAC+K,WAAD,CAAL,GAAqBmC,UAArB;IACA,WAAO,IAAP;IACH,GAVM;IAWP;;;;;;;;;;;;;;;;;IAeO,oBAAA,GAAP,UAAkB/R,OAAlB;IAAkB,0BAAA,EAAA;IAAAA,MAAAA,YAAA;;;IACd,SAAK,IAAMtJ,IAAX,IAAmBsJ,OAAnB,EAA4B;IACxB,UAAM1I,KAAK,GAAG0I,OAAO,CAACtJ,IAAD,CAArB;;IAEA,UAAIA,IAAI,KAAKgZ,MAAb,EAAqB;IACjB,aAAKyG,SAAL,CAAe7e,KAAf;IACA;IACH,OAHD,MAGO,IAAIZ,IAAI,KAAK2Y,QAAb,EAAuB;IAC1B/X,QAAAA,KAAK,IAAI,KAAK8e,WAAL,CAAiB9e,KAAjB,CAAT;IACA;IACH;;IACD,UAAI4Z,OAAO,CAACrX,OAAR,CAAgBnD,IAAhB,IAA+B,CAAC,CAApC,EAAuC;IACnC,aAAKmO,KAAL,CAAWnO,IAAX,IAAmBY,KAAnB;IACH;IACJ;;IAED,WAAO,IAAP;IACH,GAjBM;IAkBP;;;;;;;;IAMO,0BAAA,GAAP;IACI,WAAO,KAAK+e,iBAAL,CAAuB,IAAvB,CAAP;IACH,GAFM;IAGP;;;;;;;;IAMO,2BAAA,GAAP,UAAyBnK,KAAzB;IACI,QAAMrH,KAAK,GAAG,KAAKA,KAAnB;IACA,QAAMyR,KAAK,GAAGzR,KAAK,CAAC2K,eAAD,CAAnB;;IACA,QAAI8G,KAAK,KAAK5F,QAAd,EAAwB;IACpB,aAAO6F,QAAP;IACH;;IACD,WAAO,CAACrK,KAAK,GAAGrH,KAAK,CAAC4K,KAAD,CAAR,GAAkB,CAAxB,IAA6B,KAAK7C,WAAL,KAAqB0J,KAAzD;IACH,GAPM;IAQP;;;;;;;;IAMO,iBAAA,GAAP;IACI,QAAI,KAAKzR,KAAL,CAAWiM,SAAX,MAA0B,CAA1B,IAA+B,KAAKjM,KAAL,CAAW8L,UAAX,MAA2Bb,MAA9D,EAAsE;IAClE,aAAO,IAAP;IACH,KAFD,MAEO,IAAI,KAAKnY,OAAL,KAAiB,KAAK0e,iBAAL,EAArB,EAA+C;IAClD,aAAO,KAAP;IACH;;IACD,WAAO,IAAP;IACH,GAPM;IAQP;;;;;;;;IAMO,kBAAA,GAAP;IACI,WAAO,KAAKxR,KAAL,CAAW8L,UAAX,MAA2Bb,MAAlC;IACH,GAFM;;IAGA,eAAA,GAAP,UAAa5D,KAAb;IAAa,wBAAA,EAAA;IAAAA,MAAAA,QAAgB,KAAKrH,KAAL,CAAW4K,KAAX,CAAhB;;;IACT,QAAM5K,KAAK,GAAG,KAAKA,KAAnB;IAEAA,IAAAA,KAAK,CAAC8L,UAAD,CAAL,GAAoBT,OAApB;;IACA,QAAIrL,KAAK,CAACiM,SAAD,CAAL,IAAoB5E,KAAxB,EAA+B;IAC3B;;;;IAIA,WAAKpL,OAAL,CAAamP,IAAb;IACH;IACJ,GAXM;IAYP;;;;;;IAIO,cAAA,GAAP,UAAYuG,MAAZ;IAAA,oBAAA;;IACI,QAAM3R,KAAK,GAAG,KAAKA,KAAnB;IACA,QAAMqH,KAAK,GAAGrH,KAAK,CAAC4K,KAAD,CAAnB;IACA,QAAMsF,WAAW,GAAG,KAAKpd,OAAL,EAApB;IAEAkN,IAAAA,KAAK,CAAC8L,UAAD,CAAL,GAAoBT,OAApB;;IAEA,QAAI,KAAKiD,OAAL,OAAmB4B,WAAW,KAAK,CAAhB,IAAqBA,WAAW,IAAI,KAAKsB,iBAAL,EAAvD,CAAJ,EAAsF;IAClF,WAAK9I,OAAL,CAAa,CAACrB,KAAd,EAAqB,IAArB;IACH;;IACDrH,IAAAA,KAAK,CAACiM,SAAD,CAAL,GAAmB,KAAKnZ,OAAL,EAAnB;IAEAC,IAAAA,uBAAqB,CAAC,UAAC4d,IAAD;IAClB3Q,MAAAA,KAAK,CAACgM,SAAD,CAAL,GAAmB2E,IAAnB;IACAC,MAAAA,IAAI,CAAClR,KAAD,EAAOiR,IAAP,EAAagB,MAAb,CAAJ;IACH,KAHoB,CAArB;IAIA,SAAKC,KAAL;IACA,WAAO,IAAP;IACH,GAlBM;IAmBP;;;;;;IAIO,eAAA,GAAP;IACI,QAAM5R,KAAK,GAAG,KAAKA,KAAnB;;IAEA,QAAIA,KAAK,CAAC8L,UAAD,CAAL,KAAsBb,MAA1B,EAAkC;IAC9BjL,MAAAA,KAAK,CAAC8L,UAAD,CAAL,GAAoBb,MAApB;IACA;;;;;IAIA,WAAKhP,OAAL,CAAagP,MAAb;IACH;;IACD,WAAO,IAAP;IACH,GAZM;IAaP;;;;;;IAIO,gBAAA,GAAP;IACI,SAAKvC,OAAL,CAAa,CAAb;IACA,SAAK1I,KAAL,CAAWiM,SAAX,IAAwB,CAAxB;IACA,SAAK4F,GAAL;IACA,WAAO,IAAP;IACH,GALM;IAMP;;;;;;IAIO,aAAA,GAAP;IACI,SAAKnI,KAAL;IACA;;;;;IAIA,SAAKzN,OAAL,CAAaiP,KAAb;IACA,WAAO,IAAP;IACH,GARM;IASP;;;;;;;;;;;;;IAYO,iBAAA,GAAP,UAAeyF,IAAf,EAAsCmB,MAAtC;IACI,QAAMC,cAAc,GAAG,KAAKP,iBAAL,EAAvB;IACA,QAAMxR,KAAK,GAAG,KAAKA,KAAnB;IACA,QAAMyQ,QAAQ,GAAGzQ,KAAK,CAACiM,SAAD,CAAtB;IACA,QAAM5E,KAAK,GAAGrH,KAAK,CAAC4K,KAAD,CAAnB;IACA,QAAIsF,WAAW,GAAG4B,MAAM,GAAInB,IAAJ,GAAsB,KAAKqB,WAAL,CAAiBrB,IAAjB,CAA9C;IAEA3Q,IAAAA,KAAK,CAACiM,SAAD,CAAL,GAAmB5E,KAAK,GAAG6I,WAA3B;;IACA,QAAIA,WAAW,GAAG,CAAlB,EAAqB;IACjBA,MAAAA,WAAW,GAAG,CAAd;IACH,KAFD,MAEO,IAAIA,WAAW,GAAG6B,cAAlB,EAAkC;IACrC7B,MAAAA,WAAW,GAAG6B,cAAd;IACH;;IACD/R,IAAAA,KAAK,CAACkM,YAAD,CAAL,GAAsBgE,WAAtB;IACA,SAAK+B,SAAL;;IAEA,QAAIH,MAAJ,EAAY;IACR,UAAMpB,QAAQ,GAAG1Q,KAAK,CAACiM,SAAD,CAAtB;;IAEA,UAAIwE,QAAQ,GAAGpJ,KAAX,IAAoBsJ,IAAI,IAAI,CAA5B,IACA3Q,KAAK,CAAC8L,UAAD,CAAL,KAAsBT,OAAtB,IAAiCqF,QAAQ,IAAIrJ,KAA7C,IAAsD,CAAC,KAAKiH,OAAL,EAD3D,EAC2E;IACvE,aAAKsD,KAAL,CAAW,CAAX;IACH;;IACD,UAAIlB,QAAQ,GAAGD,QAAX,IAAuB,KAAKnC,OAAL,EAA3B,EAA2C;IACvC,aAAKuD,GAAL;IACA;IACH;IACJ;;IACD,QAAI,KAAKK,OAAL,EAAJ,EAAoB;IAChB,aAAO,IAAP;IACH;IACD;;;;;;;;;;IAQA,SAAKjW,OAAL,CAAakP,UAAb,EAAyB;IACrB+E,MAAAA,WAAW,aADU;IAErBS,MAAAA,IAAI,EAAE,KAAKwB,gBAAL,EAFe;IAGrB1J,MAAAA,cAAc,EAAEzI,KAAK,CAACsL,SAAD;IAHA,KAAzB;IAMA,WAAO,IAAP;IACH,GA9CM;IA+CP;;;;;;;;IAMO,iBAAA,GAAP;IACI,WAAO,KAAKtL,KAAL,CAAWkM,YAAX,CAAP;IACH,GAFM;;IAGA,qBAAA,GAAP,UAAmByE,IAAnB;IACI,QAAIzN,UAAQ,CAACyN,IAAD,CAAZ,EAAoB;IAChB,UAAMhB,QAAQ,GAAG,KAAK5H,WAAL,MAAsB,GAAvC;;IAEA,UAAI4I,IAAI,KAAK,MAAb,EAAqB;IACjB,eAAO,CAAP;IACH,OAFD,MAEO,IAAIA,IAAI,KAAK,IAAb,EAAmB;IACtB,eAAOhB,QAAP;IACH;;IACK,UAAAtZ,sBAAA;IAAA,UAAE7D,cAAF;IAAA,UAAQC,gBAAR;;IAEN,UAAID,IAAI,KAAK,GAAb,EAAkB;IACd,SAAC,KAAKuV,WAAL,EAAD,KAAwB,KAAK/H,KAAL,CAAWwK,QAAX,IAAuBmF,QAA/C;IACA,eAAOnG,OAAO,CAAC7W,UAAU,CAACge,IAAD,CAAV,GAAmB,GAAnB,GAAyBhB,QAA1B,CAAd;IACH,OAHD,MAGO,IAAInd,IAAI,KAAK,GAAb,EAAkB;IACrB,eAAOC,KAAK,GAAG8X,SAAf;IACH,OAFM,MAEA;IACH,eAAO9X,KAAP;IACH;IACJ,KAlBD,MAkBO;IACH,aAAO+W,OAAO,CAACmH,IAAD,CAAd;IACH;IACJ,GAtBM;IAuBP;;;;;;IAIO,iBAAA,GAAP;IACI,QAAM3Q,KAAK,GAAG,KAAKA,KAAnB;IACA,QAAMqH,KAAK,GAAGrH,KAAK,CAAC4K,KAAD,CAAnB;IACA,QAAM8F,QAAQ,GAAG1Q,KAAK,CAACiM,SAAD,CAAtB;IAEA,WAAO5E,KAAK,GAAG,CAAR,IAAcqJ,QAAQ,GAAGrJ,KAAhC;IACH,GANM;;IAOA,sBAAA,GAAP,UAAoBoB,cAApB;IACI,QAAMzI,KAAK,GAAG,KAAKA,KAAnB;IACA,QAAMoS,kBAAkB,GAAGza,IAAI,CAACqN,KAAL,CAAWyD,cAAX,CAA3B;IACA,QAAM4J,iBAAiB,GAAGrS,KAAK,CAAC2K,eAAD,CAAL,KAA2BkB,QAA3B,GAAsC6F,QAAtC,GAAiD1R,KAAK,CAAC2K,eAAD,CAAhF;;IAEA,QAAI3K,KAAK,CAACsL,SAAD,CAAL,GAAmB8G,kBAAnB,IAAyCA,kBAAkB,GAAGC,iBAAlE,EAAqF;IACjF;;;;;;;IAOA,WAAKpW,OAAL,CAAa,WAAb,EAA0B;IACtBiU,QAAAA,WAAW,EAAElQ,KAAK,CAACkM,YAAD,CADI;IAEtBzD,QAAAA,cAAc,EAAE2J;IAFM,OAA1B;IAIH;;IACDpS,IAAAA,KAAK,CAACsL,SAAD,CAAL,GAAmB7C,cAAnB;IACA,WAAO,IAAP;IACH,GApBM;;IAqBG,mBAAA,GAAV;IACI,QAAMzI,KAAK,GAAG,KAAKA,KAAnB;IACA,QAAMyI,cAAc,GAAGzI,KAAK,CAAC2K,eAAD,CAA5B;IACA,QAAMuG,QAAQ,GAAGlR,KAAK,CAACyK,SAAD,CAAtB;IACA,QAAMjC,SAAS,GAAGxI,KAAK,CAAC0K,SAAD,CAAvB;IACA,QAAMiF,QAAQ,GAAG,KAAK5H,WAAL,EAAjB;IACA,QAAM4I,IAAI,GAAG,KAAK7d,OAAL,EAAb;IACA,QAAM+d,SAAS,GAAGlB,QAAQ,KAAK,CAAb,GAAiB,CAAjB,GAAqBgB,IAAI,GAAGhB,QAA9C;IACA,QAAI2C,oBAAoB,GAAG3C,QAAQ,GAAGgB,IAAI,GAAGhB,QAAV,GAAqB,CAAxD;;IAEA,QAAI,CAACA,QAAL,EAAe;IACX,WAAK4C,gBAAL,CAAsB,CAAtB;IACA,aAAO,IAAP;IACH;;IACD,SAAKpC,YAAL,CAAkBU,SAAlB;IAGA;;IACA,QAAM2B,SAAS,GAAGC,kBAAkB,CAAC5B,SAAD,EAAYpI,cAAZ,EAA4BD,SAA5B,CAApC;IAEA,QAAMkK,gBAAgB,GAAG7C,QAAQ,CAACF,QAAD,CAAjC;;IACA,QAAI+C,gBAAgB,IAAIF,SAAxB,EAAmC;IAC/BF,MAAAA,oBAAoB,GAAG3C,QAAQ,GAAG2C,oBAAlC;IACH;;IACD,QAAII,gBAAgB,IAAIjK,cAAc,KAAKoD,QAA3C,EAAqD;IACjD,UAAM8G,UAAU,GAAGzB,QAAQ,KAAK,MAAb,IAAuBA,QAAQ,KAAK,UAAvD,CADiD;;IAIjD,UAAIL,SAAS,IAAIpI,cAAjB,EAAiC;IAC7B6J,QAAAA,oBAAoB,GAAG3C,QAAQ,IAAIgD,UAAU,GAAIlK,cAAc,GAAG,CAAlB,IAAwB,CAA3B,GAA+B,CAA7C,CAA/B;IACA+J,QAAAA,SAAS,KAAKF,oBAAoB,GAAG3C,QAAQ,GAAG2C,oBAAvC,CAAT;IACH;IACJ;;IACD,SAAKC,gBAAL,CAAsBD,oBAAtB;IACA,WAAO,IAAP;IACH,GAnCS;;IAlVRM,EAAAA,QAAQ,eADbC,YAAY,CAAC7B,OAAD,EAAUD,OAAV,EAAmB,OAAnB,IACP6B,SAAA;IAsXN,iBAAA;IAAC,EAtX+DE,aAAhE;;ICvFA;;;;AAKA,wBAO2BzP;IACzB,MAAM0C,UAAU,GAAG1C,GAAG,CAACzM,KAAJ,CAAU,GAAV,CAAnB;IACA,MAAMmc,GAAG,GAAqC,EAA9C;IACA,MAAIphB,MAAM,GAAGoU,UAAU,CAACpU,MAAxB;;IAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;IAC/B,QAAMS,OAAO,GAAG,qBAAqBC,IAArB,CAA0ByT,UAAU,CAACnU,CAAD,CAApC,CAAhB;;IAEA,QAAI,CAACS,OAAD,IAAYA,OAAO,CAACV,MAAR,GAAiB,CAA7B,IAAkC,CAACU,OAAO,CAAC,CAAD,CAA9C,EAAmD;IACjD,QAAEV,MAAF;IACA;IACD;;IACDohB,IAAAA,GAAG,CAAC1gB,OAAO,CAAC,CAAD,CAAP,CAAWiR,IAAX,EAAD,CAAH,GAAyB0P,gBAAgB,CAAC3gB,OAAO,CAAC,CAAD,CAAP,CAAWiR,IAAX,EAAD,CAAzC;IACD;;IACD,SAAO;IAAC/R,IAAAA,MAAM,EAAEwhB,GAAT;IAAcphB,IAAAA,MAAM;IAApB,GAAP;IACD;IACD;;;;;;;;;;;;AAWA,gCAAmCiT;IACjC,MAAM4I,KAAK,GAAG/K,MAAd;;IAEA,MAAImC,GAAG,CAACjT,MAAJ,KAAe,CAAnB,EAAsB;IACpBiT,IAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,CAAT;IACD;;IACD,SAAO,IAAI6I,cAAJ,CAAmB7I,GAAnB,EAAwB;IAC7B4I,IAAAA,KAAK,OADwB;IAE7B5J,IAAAA,SAAS,EAAE,GAFkB;IAG7BwC,IAAAA,IAAI,EAAE,OAHuB;IAI7B7T,IAAAA,MAAM,EAAKib,KAAK,MAJa;IAK7BnP,IAAAA,MAAM,EAAE;IALqB,GAAxB,CAAP;IAOD;IACD;;;;;;;;;;;AAUA,mCAAsCjM;IACpC;IACM,MAAAiE,yBAAA;IAAA,MAAEmX,iBAAF;IAAA,MAAiB/a,gBAAjB;IAAA,MAAwBwgB,sBAAxB;;IAEN,MAAI,OAAOxgB,KAAP,KAAiB,WAArB,EAAkC;IAChC,WAAOL,IAAP;IACD;;IACD,MAAIwQ,cAAY,CAAC5N,OAAb,CAAqBwY,KAArB,MAAgC,CAAC,CAArC,EAAwC;IACtC,WAAO0F,kBAAkB,CAAC3N,cAAY,CAACnT,IAAD,CAAb,CAAzB;IACD;;;IAED,MAAM2gB,GAAG,GAAGC,gBAAgB,CAACvgB,KAAD,CAA5B;IAEA,MAAImS,GAAG,GAAG,CAACnS,KAAD,CAAV;IACA,MAAImR,SAAS,GAAG,GAAhB;IACA,MAAIrR,MAAM,GAAMib,KAAK,MAArB;IACA,MAAInP,MAAM,GAAG,MAAI4U,UAAjB;;IAEA,MAAIF,GAAG,YAAYtF,cAAnB,EAAmC;IACjC7J,IAAAA,SAAS,GAAGmP,GAAG,CAACnP,SAAhB;IACAgB,IAAAA,GAAG,GAAGmO,GAAG,CAACtgB,KAAV;IACAF,IAAAA,MAAM,IAAIwgB,GAAG,CAACxgB,MAAd;IACA8L,IAAAA,MAAM,GAAG0U,GAAG,CAAC1U,MAAJ,GAAaA,MAAtB;IACD;;IACD,SAAO,IAAIoP,cAAJ,CAAmB7I,GAAnB,EAAwB;IAC7BhB,IAAAA,SAAS,WADoB;IAE7B4J,IAAAA,KAAK,OAFwB;IAG7Bjb,IAAAA,MAAM,QAHuB;IAI7B8L,IAAAA,MAAM;IAJuB,GAAxB,CAAP;IAMD;AAED,mCAAsCuG,KAAYhB;IAChD,SAAO,IAAI6J,cAAJ,CAAmB7I,GAAnB,EAAwB;IAC7BwB,IAAAA,IAAI,EAAE,OADuB;IAE7BxC,IAAAA,SAAS;IAFoB,GAAxB,CAAP;IAID;IAED;;;;;;;;;;;;AAWA,iCAAoCnR;IAClC,MAAM4S,MAAM,GAAGE,cAAY,CAAC9S,KAAD,CAA3B;IAEA,SAAO4S,MAAM,GAAG6N,kBAAkB,CAAC7N,MAAD,CAArB,GAAgC5S,KAA7C;IACD;AAgBD,8BAAiCA;IAC/B,MAAI,CAACyQ,UAAQ,CAACzQ,KAAD,CAAb,EAAsB;IACpB,QAAIyL,SAAO,CAACzL,KAAD,CAAX,EAAoB;IAClB,aAAO0gB,qBAAqB,CAAC1gB,KAAD,EAAQ,GAAR,CAA5B;IACD;;IACD,WAAOA,KAAP;IACD;;IACD,MAAI2gB,MAAM,GAAGhQ,YAAU,CAAC3Q,KAAD,CAAvB;;IAEA,MAAI2gB,MAAM,CAACzhB,MAAP,GAAgB,CAApB,EAAuB;IACrB,WAAOwhB,qBAAqB,CAACC,MAAM,CAAC7b,GAAP,CAAW,UAAA6J,CAAA;IAAK,aAAA4R,gBAAgB,CAAC5R,CAAD,CAAhB;IAAmB,KAAnC,CAAD,EAAuC,GAAvC,CAA5B;IACD;;IACDgS,EAAAA,MAAM,GAAGjV,YAAU,CAAC1L,KAAD,CAAnB;;IACA,MAAI2gB,MAAM,CAACzhB,MAAP,GAAgB,CAApB,EAAuB;IACrB,WAAOwhB,qBAAqB,CAACC,MAAM,CAAC7b,GAAP,CAAW,UAAA6J,CAAA;IAAK,aAAA4R,gBAAgB,CAAC5R,CAAD,CAAhB;IAAmB,KAAnC,CAAD,EAAuC,GAAvC,CAA5B;IACD;;IACDgS,EAAAA,MAAM,GAAG,0BAA0B9gB,IAA1B,CAA+BG,KAA/B,CAAT;;IACA,MAAI2gB,MAAM,IAAIA,MAAM,CAAC,CAAD,CAAN,KAAcA,MAAM,CAAC,CAAD,CAAlC,EAAuC;IACrC;IACA,WAAO,IAAI3F,cAAJ,CAAmB,CAACuF,gBAAgB,CAACI,MAAM,CAAC,CAAD,CAAP,CAAjB,CAAnB,EAAkD;IACvD7gB,MAAAA,MAAM,EAAE6gB,MAAM,CAAC,CAAD,CADyC;IAEvD/U,MAAAA,MAAM,EAAE+U,MAAM,CAAC,CAAD;IAFyC,KAAlD,CAAP;IAID,GAND,MAMO,IAAI3gB,KAAK,CAACuC,OAAN,CAAc,GAAd,MAAuB,CAAC,CAA5B,EAA+B;IACpC;IACA,WAAOqe,qBAAqB,CAAC5gB,KAAD,CAA5B;IACD,GAHM,MAGA,IAAIA,KAAK,CAACkS,MAAN,CAAa,CAAb,MAAoB,GAAxB,EAA6B;IAClC,WAAO2O,mBAAmB,CAAC7gB,KAAD,CAA1B;IACD;;IACD,SAAOA,KAAP;IACD;AACD,sBAAyB8gB,QAAwBlO;IAAA,uBAAA,EAAA;IAAAA,IAAAA,WAAA;;;IAC/C,MAAMmI,KAAK,GAAG+F,MAAM,CAAC/F,KAArB;;IAEA,MAAIA,KAAJ,EAAW;IACT+F,IAAAA,MAAM,CAACjG,UAAP,CAAkB;IAChBE,MAAAA,KAAK,EAAE,EADS;IAEhBnP,MAAAA,MAAM,EAAE,EAFQ;IAGhB9L,MAAAA,MAAM,EAAE;IAHQ,KAAlB;IAKA,QAAME,KAAK,GAAG8gB,MAAM,CAACtd,IAAP,KAAgB,CAAhB,GAAoBsd,MAApB,GAA6BA,MAAM,CAAChK,GAAP,CAAW,CAAX,CAA3C;IAEAlE,IAAAA,MAAM,CAACmI,KAAD,CAAN,GAAgB/a,KAAhB;IACD,GATD,MASO;IACL8gB,IAAAA,MAAM,CAAClc,OAAP,CAAe,UAAA0b,GAAA;IACbS,MAAAA,QAAQ,CAACT,GAAD,EAAM1N,MAAN,CAAR;IACD,KAFD;IAGD;;IACD,SAAOA,MAAP;IACD;;IC3KD,0BAAA,CAA2B0N,GAA3B;IACI,MAAI,CAACA,GAAL,EAAU;IACN,WAAO,EAAP;IACH;;IACD,MAAMU,MAAM,GAAG,EAAf;;IAEA,OAAK,IAAM5hB,IAAX,IAAmBkhB,GAAnB,EAAwB;IACpBU,IAAAA,MAAM,CAAC5d,IAAP,CAAehE,IAAI,CAACK,OAAL,CAAa,KAAb,EAAoB,EAApB,OAAA,GAA2B6gB,GAAG,CAAClhB,IAAD,CAA9B,MAAf;IACH;;IACD,SAAO4hB,MAAM,CAAC3d,IAAP,CAAY,GAAZ,CAAP;IACH;IAED;;;IACA,cAAA,CAAe8K,MAAf,EAAqC+M,OAArC;IAAqC,wBAAA,EAAA;IAAAA,IAAAA,eAAA;;;IACjC,SAAO+F,KAAK,CAAC,EAAD,EAAK9S,MAAL,EAAa+M,OAAb,CAAZ;IACH;;IACD,cAAA,CAAe6C,EAAf,EAAiCmD,IAAjC,EAAqDhG,OAArD;IAAqD,wBAAA,EAAA;IAAAA,IAAAA,eAAA;;;IACjD,OAAK,IAAM9b,IAAX,IAAmB8hB,IAAnB,EAAyB;IACrB,QAAMlhB,KAAK,GAAGkhB,IAAI,CAAC9hB,IAAD,CAAlB;IACA,QAAMuU,IAAI,GAAGwN,OAAO,CAACnhB,KAAD,CAApB;;IAEA,QAAI2T,IAAI,KAAKtD,UAAb,EAAuB;IACnB0N,MAAAA,EAAE,CAAC3e,IAAD,CAAF,GAAW8b,OAAO,GAAGlb,KAAK,CAACkb,OAAN,EAAH,GAAqBlb,KAAK,CAACib,KAAN,EAAvC;IACH,KAFD,MAEO,IAAItH,IAAI,KAAKvD,UAAb,EAAuB;IAC1B2N,MAAAA,EAAE,CAAC3e,IAAD,CAAF,GAAW8b,OAAO,GAAGkG,QAAQ,CAAC,CAAChiB,IAAD,CAAD,EAASY,KAAT,CAAX,GAA6BA,KAA/C;IACH,KAFM,MAEA,IAAI2T,IAAI,KAAKrD,OAAb,EAAoB;IACvByN,MAAAA,EAAE,CAAC3e,IAAD,CAAF,GAAWY,KAAK,CAACuR,KAAN,EAAX;IACH,KAFM,MAEA,IAAIoC,IAAI,KAAKpI,QAAb,EAAqB;IACxB,UAAIC,UAAQ,CAACuS,EAAE,CAAC3e,IAAD,CAAH,CAAR,IAAsB,CAAC+b,gBAAgB,CAAC4C,EAAE,CAAC3e,IAAD,CAAH,CAA3C,EAAuD;IACnD6hB,QAAAA,KAAK,CAAClD,EAAE,CAAC3e,IAAD,CAAH,EAAWY,KAAX,EAAkBkb,OAAlB,CAAL;IACH,OAFD,MAEO;IACH6C,QAAAA,EAAE,CAAC3e,IAAD,CAAF,GAAW6b,KAAK,CAACjb,KAAD,EAAQkb,OAAR,CAAhB;IACH;IACJ,KANM,MAMA;IACH6C,MAAAA,EAAE,CAAC3e,IAAD,CAAF,GAAW8hB,IAAI,CAAC9hB,IAAD,CAAf;IACH;IACJ;;IACD,SAAO2e,EAAP;IACH;IACD;;;IAEA,wBAAA,CAAyBhE,IAAzB;IACI,SAAOA,IAAI,CAAC,CAAD,CAAJ,IAAWpC,KAAX,GAAmBA,KAAK,CAACoC,IAAI,CAAC,CAAD,CAAL,CAAxB,GAAoCA,IAA3C;IACH;;IACD,iBAAA,CAAkBsB,KAAlB,EAAqCrb,KAArC;IACI,MAAM2T,IAAI,GAAGwN,OAAO,CAACnhB,KAAD,CAApB;;IAEA,MAAI2T,IAAI,KAAKtD,UAAb,EAAuB;IACnB,WAAOrQ,KAAK,CAACkb,OAAN,EAAP;IACH,GAFD,MAEO,IAAIvH,IAAI,KAAKvD,UAAb,EAAuB;IAC1B,QAAIiL,KAAK,CAAC,CAAD,CAAL,KAAa9D,eAAjB,EAAkC;IAC9B,aAAO6J,QAAQ,CAAC/F,KAAD,EAAQrb,KAAK,EAAb,CAAf;IACH;IACJ,GAJM,MAIA,IAAI2T,IAAI,KAAKpI,QAAb,EAAqB;IACxB,WAAO0P,KAAK,CAACjb,KAAD,EAAQ,IAAR,CAAZ;IACH;;IACD,SAAOA,KAAP;IACH;IACD;;;;;IAGA;;;IAEI;;;;;;;;;;;IAWA,gBAAA,CAAYsT,UAAZ;IAAY,6BAAA,EAAA;IAAAA,MAAAA,eAAA;;;IACR,SAAKA,UAAL,GAAkB,EAAlB;IACA,SAAK+N,GAAL,CAAS/N,UAAT;IACH;IACD;;;;;;;;;;;IAOO,aAAA,GAAP;IAAW,iBAAA;;aAAA,YAAAwG,uBAAAA;IAAAC,MAAAA,QAAA,gBAAA;;;IACP,QAAM/Z,KAAK,GAAG,KAAKshB,GAAL,MAAA,CAAA,IAAA,EAAYvH,IAAZ,CAAd;IAEA,WAAOqH,QAAQ,CAACG,eAAe,CAACxH,IAAD,CAAhB,EAAwB/Z,KAAxB,CAAf;IACH,GAJM;;IAMA,aAAA,GAAP;IAAW,iBAAA;;aAAA,YAAA8Z,uBAAAA;IAAAC,MAAAA,QAAA,gBAAA;;;IACP,WAAOyH,eAAe,CAACD,eAAe,CAACxH,IAAD,CAAhB,EAAwB,KAAKzG,UAA7B,CAAtB;IACH,GAFM;IAGP;;;;;;;;;IAOO,gBAAA,GAAP;IAAc,iBAAA;;aAAA,YAAAwG,uBAAAA;IAAAC,MAAAA,QAAA,gBAAA;;;IACV,QAAM0H,MAAM,GAAGF,eAAe,CAACxH,IAAD,CAA9B;IACA,QAAM7a,MAAM,GAAGuiB,MAAM,CAACviB,MAAtB;;IAEA,QAAI,CAACA,MAAL,EAAa;IACT,aAAO,IAAP;IACH;;IACD,QAAMc,KAAK,GAAGwhB,eAAe,CAACC,MAAD,EAAS,KAAKnO,UAAd,EAA0BpU,MAAM,GAAG,CAAnC,CAA7B;;IAEA,QAAIsM,UAAQ,CAACxL,KAAD,CAAZ,EAAqB;IACjB,aAAOA,KAAK,CAACyhB,MAAM,CAACviB,MAAM,GAAG,CAAV,CAAP,CAAZ;IACH;;IACD,WAAO,IAAP;IACH,GAbM;IAcP;;;;;;;;;;;;;;;;;;;;;;;;;;;IA2BO,aAAA,GAAP;IAAW,iBAAA;;aAAA,YAAA4a,uBAAAA;IAAAC,MAAAA,QAAA,gBAAA;;;IACP,QAAMrP,IAAI,GAAG,IAAb;IACA,QAAMxL,MAAM,GAAG6a,IAAI,CAAC7a,MAApB;IACA,QAAMuiB,MAAM,GAAG1H,IAAI,CAACxI,KAAL,CAAW,CAAX,EAAc,CAAC,CAAf,CAAf;IACA,QAAMvR,KAAK,GAAG+Z,IAAI,CAAC7a,MAAM,GAAG,CAAV,CAAlB;;IAEA,QAAIuiB,MAAM,CAAC,CAAD,CAAN,IAAa9J,KAAjB,EAAwB;IACpBjN,MAAAA,IAAI,CAACgX,IAAL,CAAU/J,KAAK,CAAC8J,MAAM,CAAC,CAAD,CAAP,CAAf,EAA4BzhB,KAA5B;IACH,KAFD,MAEO,IAAId,MAAM,KAAK,CAAX,IAAgBuM,SAAO,CAACgW,MAAM,CAAC,CAAD,CAAP,CAA3B,EAAwC;IAC3C/W,MAAAA,IAAI,CAACgX,IAAL,CAAUD,MAAM,CAAC,CAAD,CAAhB,EAAqBzhB,KAArB;IACH,KAFM,MAEA,IAAIyL,SAAO,CAACzL,KAAD,CAAX,EAAoB;IACvB0K,MAAAA,IAAI,CAACgX,IAAL,CAAUD,MAAV,EAAkBzhB,KAAlB;IACH,KAFM,MAEA,IAAImb,gBAAgB,CAACnb,KAAD,CAApB,EAA6B;IAChC,UAAI2hB,MAAM,CAACF,MAAD,CAAV,EAAoB;IAChB/W,QAAAA,IAAI,CAAC2W,GAAL,MAAA,CAAA3W,IAAA,EAAY+W,MAAM,OAAN,EAAQV,QAAQ,CAAC/gB,KAAD,EAAhB,CAAZ;IACH,OAFD,MAEO;IACH0K,QAAAA,IAAI,CAACgX,IAAL,CAAUD,MAAV,EAAkBzhB,KAAlB;IACH;IACJ,KANM,MAMA,IAAIwL,UAAQ,CAACxL,KAAD,CAAZ,EAAqB;IACxB,WAAK,IAAMZ,IAAX,IAAmBY,KAAnB,EAA0B;IACtB0K,QAAAA,IAAI,CAAC2W,GAAL,MAAA,CAAA3W,IAAA,EAAY+W,MAAM,OAAN,EAAQriB,MAAMY,KAAK,CAACZ,IAAD,EAAnB,CAAZ;IACH;IACJ,KAJM,MAIA,IAAIqR,UAAQ,CAACzQ,KAAD,CAAZ,EAAqB;IACxB,UAAI2hB,MAAM,CAACF,MAAD,EAAS,IAAT,CAAV,EAA0B;IACtB,YAAIG,OAAO,CAACH,MAAD,CAAP,IAAmB,CAACE,MAAM,CAACF,MAAD,CAA9B,EAAwC;IACpC,eAAKC,IAAL,CAAUD,MAAV,EAAkBzhB,KAAlB;IACH,SAFD,MAEQ;IACJ,cAAMsgB,GAAG,GAAGC,gBAAgB,CAACvgB,KAAD,CAA5B;;IAEA,cAAIwL,UAAQ,CAAC8U,GAAD,CAAZ,EAAmB;IACf5V,YAAAA,IAAI,CAAC2W,GAAL,MAAA,CAAA3W,IAAA,EAAY+W,MAAM,OAAN,EAAQnB,IAAR,CAAZ;IACH;IACJ;;IACD,eAAO,IAAP;IACH,OAXD,MAWO;IACG,YAAA1c,sBAAA;IAAA,YAAE9E,kBAAF;IAAA,YAAU+iB,wBAAV;;IAEN,aAAK,IAAMziB,IAAX,IAAmBN,MAAnB,EAA2B;IACvB4L,UAAAA,IAAI,CAAC2W,GAAL,MAAA,CAAA3W,IAAA,EAAY+W,MAAM,OAAN,EAAQriB,MAAMN,MAAM,CAACM,IAAD,EAApB,CAAZ;IACH;;IACD,YAAIyiB,YAAJ,EAAkB;IACd,iBAAO,IAAP;IACH;IACJ;;IACDnX,MAAAA,IAAI,CAACgX,IAAL,CAAUD,MAAV,EAAkBzhB,KAAlB;IACH,KAvBM,MAuBA;IACH0K,MAAAA,IAAI,CAACgX,IAAL,CAAUD,MAAV,EAAkBzhB,KAAlB;IACH;;IACD,WAAO0K,IAAP;IACH,GAjDM;IAkDP;;;;;;;;IAMO,aAAA,GAAP;IAAW,iBAAA;;aAAA,YAAAoP,uBAAAA;IAAAC,MAAAA,QAAA,gBAAA;;;IACP,QAAM0H,MAAM,GAAGF,eAAe,CAACxH,IAAD,CAA9B;IACA,QAAM7a,MAAM,GAAGuiB,MAAM,CAACviB,MAAtB;;IAEA,QAAI,CAACA,MAAL,EAAa;IACT,aAAO,KAAP;IACH;;IACD,WAAO,CAACkK,aAAW,CAACoY,eAAe,CAACC,MAAD,EAAS,KAAKnO,UAAd,EAA0BpU,MAA1B,CAAhB,CAAnB;IACH,GARM;IASP;;;;;;;;IAMO,eAAA,GAAP;IACI,QAAM2X,KAAK,GAAG,IAAIiL,KAAJ,EAAd;IAEA,WAAOjL,KAAK,CAACoK,KAAN,CAAY,IAAZ,CAAP;IACH,GAJM;IAKP;;;;;;;;;IAOO,eAAA,GAAP,UAAapK,KAAb;IACI,QAAMvD,UAAU,GAAG,KAAKA,UAAxB;IACA,QAAMyO,eAAe,GAAGlL,KAAK,CAACvD,UAA9B;;IAEA,QAAI,CAACyO,eAAL,EAAsB;IAClB,aAAO,IAAP;IACH;;IACDd,IAAAA,KAAK,CAAC3N,UAAD,EAAayO,eAAb,CAAL;IAEA,WAAO,IAAP;IACH,GAVM;IAWP;;;;;;IAIO,qBAAA,GAAP;IACI,QAAMzO,UAAU,GAAG,KAAKwD,GAAL,EAAnB;IACA,QAAMtD,SAAS,GAAoB,EAAnC;;IAEA,SAAK,IAAMpU,IAAX,IAAmBkU,UAAnB,EAA+B;IAC3B,UAAIqO,MAAM,CAAC,CAACviB,IAAD,CAAD,EAAS,IAAT,CAAV,EAA0B;IACtB;IACH;;IACD,UAAMY,KAAK,GAAGsT,UAAU,CAAClU,IAAD,CAAxB;;IAEA,UAAIA,IAAI,KAAKmY,eAAb,EAA8B;IAC1B/D,QAAAA,SAAS,CAAC+D,eAAe,CAAC9X,OAAhB,CAAwB,WAAxB,EAAqCF,WAArC,CAAD,CAAT,GACI,CAACkR,UAAQ,CAACzQ,KAAD,CAAR,GAAkBA,KAAlB,GAA0BA,KAAK,CAACsY,WAAD,CAAhC,KAAkD,SADtD;IAEA;IACH;;IACD9E,MAAAA,SAAS,CAACpU,IAAD,CAAT,GAAkBY,KAAlB;IACH;;IACD,QAAM2U,SAAS,GAAGqN,iBAAiB,CAAC1O,UAAU,CAACqG,cAAD,CAAX,CAAnC;IACA,QAAMlC,MAAM,GAAGuK,iBAAiB,CAAC1O,UAAU,CAACmE,MAAZ,CAAhC;IAEApY,IAAAA,WAAS,IAAIsV,SAAb,KAA2BnB,SAAS,CAACnU,WAAD,CAAT,GAAuBsV,SAAlD;IACArV,IAAAA,QAAM,IAAImY,MAAV,KAAqBjE,SAAS,CAAClU,QAAD,CAAT,GAAoBmY,MAAzC;IACA,WAAOjE,SAAP;IACH,GAvBM;IAwBP;;;;;;IAIO,eAAA,GAAP;IACI,QAAMA,SAAS,GAAG,KAAKyO,WAAL,EAAlB;IACA,QAAMC,QAAQ,GAAG,EAAjB;;IAEA,SAAK,IAAM9iB,IAAX,IAAmBoU,SAAnB,EAA8B;IAC1B0O,MAAAA,QAAQ,CAAC9e,IAAT,CAAiBhE,IAAI,MAAJ,GAAQoU,SAAS,CAACpU,IAAD,CAAjB,MAAjB;IACH;;IACD,WAAO8iB,QAAQ,CAAC7e,IAAT,CAAc,EAAd,CAAP;IACH,GARM;;IASC,cAAA,GAAR,UAAa0W,IAAb,EAA+B/Z,KAA/B;IACI,QAAIsT,UAAU,GAAG,KAAKA,UAAtB;IACA,QAAMpU,MAAM,GAAG6a,IAAI,CAAC7a,MAApB;;IAEA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAAM,GAAG,CAA7B,EAAgC,EAAEC,CAAlC,EAAqC;IACjC,UAAMC,IAAI,GAAG2a,IAAI,CAAC5a,CAAD,CAAjB;IAEA,QAAEC,IAAI,IAAIkU,UAAV,MAA0BA,UAAU,CAAClU,IAAD,CAAV,GAAmB,EAA7C;IACAkU,MAAAA,UAAU,GAAGA,UAAU,CAAClU,IAAD,CAAvB;IACH;;IACD,QAAI,CAACF,MAAL,EAAa;IACT;IACH;;IACDoU,IAAAA,UAAU,CAACyG,IAAI,CAAC7a,MAAM,GAAG,CAAV,CAAL,CAAV,GAA+BuR,UAAQ,CAACzQ,KAAD,CAAR,GAAkBugB,gBAAgB,CAACvgB,KAAD,CAAlC,GAA4CA,KAA3E;IACH,GAdO;;IAeZ,cAAA;IAAC,GAvOD;;ICjEA,iBAAA,CAAkBmiB,EAAlB,EAA6BC,EAA7B,EAAsCC,EAAtC,EAAkDC,EAAlD;IACE,MAAMpjB,MAAM,GAAGkjB,EAAE,CAACljB,MAAlB;IAEA,SAAOijB,EAAE,CAACrd,GAAH,CAAO,UAACyd,EAAD,EAAKpjB,CAAL;IACZ,QAAIA,CAAC,IAAID,MAAT,EAAiB;IACf,aAAOqjB,EAAP;IACD,KAFD,MAEO;IACL,aAAOC,GAAG,CAACD,EAAD,EAAKH,EAAE,CAACjjB,CAAD,CAAP,EAAYkjB,EAAZ,EAAgBC,EAAhB,CAAV;IACD;IACF,GANM,CAAP;IAOD;;IAED,iBAAA,CAAkBG,MAAlB,EAA0CC,MAA1C,EAAkEL,EAAlE,EAA8EC,EAA9E;IACE;IACA,MAAMK,MAAM,GAAGF,MAAM,CAACziB,KAAtB;IACA,MAAM4iB,MAAM,GAAGF,MAAM,CAAC1iB,KAAtB;;IAEA,MAAM6iB,MAAM,GAAGJ,MAAM,CAAC1H,KAAtB;IACA,MAAM+H,MAAM,GAAGJ,MAAM,CAAC3H,KAAtB;;IAEA,MAAI8H,MAAM,KAAKC,MAAf,EAAuB;IACrB;IACA,WAAON,GAAG,CAACC,MAAM,CAACvH,OAAP,EAAD,EAAmBwH,MAAM,CAACxH,OAAP,EAAnB,EAAqCmH,EAArC,EAAyCC,EAAzC,CAAV;IACD;;IACD,MAAIK,MAAM,CAACzjB,MAAP,KAAkB,CAAtB,EAAyB;IACvByjB,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAY,CAAZ;IACD;;IACD,MAAIC,MAAM,CAAC1jB,MAAP,KAAkB,CAAtB,EAAyB;IACvB0jB,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAY,CAAZ;IACD;;IACD,MAAMjU,CAAC,GAAGoU,QAAQ,CAACJ,MAAD,EAASC,MAAT,EAAiBP,EAAjB,EAAqBC,EAArB,CAAlB;IACA,MAAMU,UAAU,GAAGH,MAAnB;;IAEA,OAAK,IAAI1jB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuB,EAAEA,CAAzB,EAA4B;IAC1BwP,IAAAA,CAAC,CAACxP,CAAD,CAAD,GAAOyS,QAAQ,CAACjD,CAAC,CAACxP,CAAD,CAAF,EAAO,EAAP,CAAf;IACD;;IACD,MAAM2hB,MAAM,GAAG,IAAI9F,cAAJ,CAAmBrM,CAAnB,EAAsB;IACnCgF,IAAAA,IAAI,EAAE,OAD6B;IAEnCoH,IAAAA,KAAK,EAAEiI,UAF4B;IAGnCljB,IAAAA,MAAM,EAAKkjB,UAAU,MAHc;IAInCpX,IAAAA,MAAM,EAAE;IAJ2B,GAAtB,CAAf;IAOA,SAAOkV,MAAP;IACD;;IAED,kBAAA,CAAmBqB,EAAnB,EAAuCC,EAAvC,EAA2DC,EAA3D,EAAuEC,EAAvE;IACE,MAAMW,MAAM,GAAGd,EAAE,CAACxO,IAAlB;;IAEA,MAAIsP,MAAM,KAAK,OAAf,EAAwB;IACtB,WAAOC,QAAQ,CAACf,EAAD,EAAKC,EAAL,EAASC,EAAT,EAAaC,EAAb,CAAf;IACD;;IACD,MAAMK,MAAM,GAAGR,EAAE,CAACniB,KAAlB;IACA,MAAM4iB,MAAM,GAAGR,EAAE,CAACpiB,KAAlB;IACA,MAAMmS,GAAG,GAAG4Q,QAAQ,CAACJ,MAAD,EAASC,MAAT,EAAiBP,EAAjB,EAAqBC,EAArB,CAApB;IAEA,SAAO,IAAItH,cAAJ,CAAmB7I,GAAnB,EAAwB;IAC7BwB,IAAAA,IAAI,EAAEsP,MADuB;IAE7B9R,IAAAA,SAAS,EAAEgR,EAAE,CAAChR,SAAH,IAAgBiR,EAAE,CAACjR,SAFD;IAG7BrR,IAAAA,MAAM,EAAEqiB,EAAE,CAACriB,MAAH,IAAasiB,EAAE,CAACtiB,MAHK;IAI7B8L,IAAAA,MAAM,EAAEuW,EAAE,CAACvW,MAAH,IAAawW,EAAE,CAACxW,MAJK;IAK7BmP,IAAAA,KAAK,EAAEoH,EAAE,CAACpH,KAAH,IAAYqH,EAAE,CAACrH;IALO,GAAxB,CAAP;IAOD;IACD;;;;;;;;;;;;;;;;AAcA,iBAAoBoH,IAASC,IAASC,IAAYC;IAChD,MAAIA,EAAE,KAAK,CAAX,EAAc;IACZ,WAAOF,EAAP;IACD,GAFD,MAEO,IAAIC,EAAE,KAAK,CAAP,IAAYA,EAAE,GAAGC,EAAL,KAAY,CAA5B,EAA+B;IACpC;IACA,WAAOH,EAAP;IACD;;;IAGD,MAAMgB,KAAK,GAAGhC,OAAO,CAACgB,EAAD,CAArB;IACA,MAAMiB,KAAK,GAAGjC,OAAO,CAACiB,EAAD,CAArB;IACA,MAAMiB,WAAW,GAAGF,KAAK,KAAK/S,UAA9B;IACA,MAAMkT,WAAW,GAAGF,KAAK,KAAKhT,UAA9B;;IAEA,MAAIiT,WAAW,IAAIC,WAAnB,EAAgC;IAC9B,WAAO;IACL,aAAOd,GAAG,CAACa,WAAW,GAAG9C,gBAAgB,CAAC4B,EAAE,EAAH,CAAnB,GAA4BA,EAAxC,EAA4CmB,WAAW,GAAG/C,gBAAgB,CAAC6B,EAAE,EAAH,CAAnB,GAA4BA,EAAnF,EAAuFC,EAAvF,EAA2FC,EAA3F,CAAV;IACD,KAFD;IAGD,GAJD,MAIO,IAAIa,KAAK,KAAKC,KAAd,EAAqB;IAC1B,QAAID,KAAK,KAAK9S,UAAd,EAAwB;IACtB,aAAOkT,SAAS,CAACpB,EAAD,EAAKC,EAAL,EAASC,EAAT,EAAaC,EAAb,CAAhB;IACD,KAFD,MAEO,IAAIa,KAAK,KAAK7S,OAAd,EAAqB;IAC1B,aAAOyS,QAAQ,CAACZ,EAAD,EAAKC,EAAL,EAASC,EAAT,EAAaC,EAAb,CAAf;IACD,KAFM,MAEA,IAAIa,KAAK,KAAK,OAAd,EAAuB;IAC5B,aAAOhB,EAAP;IACD;IACF,GARM,MAQA;IACL,WAAOA,EAAP;IACD;;IACD,MAAMI,EAAE,GAAG7iB,WAAS,CAAC,KAAGyiB,EAAJ,CAApB;IACA,MAAMqB,EAAE,GAAG9jB,WAAS,CAAC,KAAG0iB,EAAJ,CAApB;IACA,MAAIzT,CAAJ;;IAGA,MAAIqD,KAAK,CAACuQ,EAAE,CAACviB,KAAJ,CAAL,IAAmBgS,KAAK,CAACwR,EAAE,CAACxjB,KAAJ,CAA5B,EAAwC;IACtC,WAAOmiB,EAAP;IACD,GAFD,MAEO;IACLxT,IAAAA,CAAC,GAAG8U,SAAS,CAAClB,EAAE,CAACviB,KAAJ,EAAWwjB,EAAE,CAACxjB,KAAd,EAAqBqiB,EAArB,EAAyBC,EAAzB,CAAb;IACD;;IACD,MAAMxiB,MAAM,GAAGyiB,EAAE,CAACziB,MAAH,IAAa0jB,EAAE,CAAC1jB,MAA/B;IACA,MAAMC,IAAI,GAAGwiB,EAAE,CAACxiB,IAAH,IAAWyjB,EAAE,CAACzjB,IAA3B;;IAEA,MAAI,CAACD,MAAD,IAAW,CAACC,IAAhB,EAAsB;IACpB,WAAO4O,CAAP;IACD;;IACD,SAAO7O,MAAM,GAAG6O,CAAT,GAAa5O,IAApB;IACD;AACD,uBAA0BoiB,IAAYC,IAAYC,IAAYC;IAC5D,SAAO,CAACH,EAAE,GAAGG,EAAL,GAAUF,EAAE,GAAGC,EAAhB,KAAuBA,EAAE,GAAGC,EAA5B,CAAP;IACD;AACD,sBACEpE,MACAF,UACA0F,UACAC,WACAC,WACA7O;IACA,MAAImJ,IAAI,KAAKF,QAAb,EAAuB;IACrB,WAAO2F,SAAP;IACD,GAFD,MAEO,IAAIzF,IAAI,KAAKwF,QAAb,EAAuB;IAC5B,WAAOE,SAAP;IACD,GAFM,MAEA,IAAI,CAAC7O,MAAL,EAAa;IAClB,WAAOyN,GAAG,CAACmB,SAAD,EAAYC,SAAZ,EAAuB1F,IAAI,GAAGF,QAA9B,EAAwC0F,QAAQ,GAAGxF,IAAnD,CAAV;IACD;;IACD,MAAM2F,KAAK,GAAG9O,MAAM,CAAC,CAACmJ,IAAI,GAAGF,QAAR,KAAqB0F,QAAQ,GAAG1F,QAAhC,CAAD,CAApB;IACA,MAAMhe,KAAK,GAAGwiB,GAAG,CAACmB,SAAD,EAAYC,SAAZ,EAAuBC,KAAvB,EAA8B,IAAIA,KAAlC,CAAjB;IAEA,SAAO7jB,KAAP;IACD;;ICnHD,yBAAA,CAA0B8jB,KAA1B,EAA2C5F,IAA3C;IACI,MAAMhf,MAAM,GAAG4kB,KAAK,CAAC5kB,MAArB;;IAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;IAC7B,QAAI2kB,KAAK,CAAC3kB,CAAD,CAAL,KAAa+e,IAAjB,EAAuB;IACnB,aAAO,CAAC/e,CAAD,EAAIA,CAAJ,CAAP;IACH,KAFD,MAEO,IAAI2kB,KAAK,CAAC3kB,CAAD,CAAL,GAAW+e,IAAf,EAAqB;IACxB,aAAO,CAAC/e,CAAC,GAAG,CAAJ,GAAQA,CAAC,GAAG,CAAZ,GAAgB,CAAjB,EAAoBA,CAApB,CAAP;IACH;IACJ;;IACD,SAAO,CAACD,MAAM,GAAG,CAAV,EAAaA,MAAM,GAAG,CAAtB,CAAP;IACH;;IACD,gCAAA,CAAiCoU,UAAjC;IACI,MAAM4O,QAAQ,GAAG,EAAjB;;IAEA,OAAK,IAAM9iB,IAAX,IAAmBkU,UAAnB,EAA+B;IAC3B4O,IAAAA,QAAQ,CAAC9e,IAAT,CAAiB7D,WAAS,MAAT,GAAa2R,YAAU,CAAC9R,IAAD,CAAvB,MAAA,GAAiCkU,UAAU,CAAClU,IAAD,CAA3C,MAAjB;IACH;;IACD,SAAO8iB,QAAQ,CAAC7e,IAAT,CAAc,EAAd,CAAP;IACH;;IACD,qBAAA,CAAsBid,GAAtB;IACI,SAAO9U,UAAQ,CAAC8U,GAAD,CAAR,IAAiBA,GAAG,CAAC9T,WAAJ,KAAoB9K,MAA5C;IACH;;IACD,iBAAA,CAAkB2Z,KAAlB,EAAuC5M,KAAvC;IACI,MAAI0D,GAAG,GAAe,EAAtB;;IAEA,MAAI4R,YAAY,CAAC1I,KAAD,CAAhB,EAAyB;IACrB,SAAK,IAAMjc,IAAX,IAAmBic,KAAnB,EAA0B;IACtB5M,MAAAA,KAAK,CAACrL,IAAN,CAAWhE,IAAX;IACA+S,MAAAA,GAAG,GAAGA,GAAG,CAACtI,MAAJ,CAAWma,QAAQ,CAAC3I,KAAK,CAACjc,IAAD,CAAN,EAAcqP,KAAd,CAAnB,CAAN;IACAA,MAAAA,KAAK,CAACG,GAAN;IACH;IACJ,GAND,MAMO;IACHuD,IAAAA,GAAG,CAAC/O,IAAJ,CAASqL,KAAK,CAAC8C,KAAN,EAAT;IACH;;IACD,SAAOY,GAAP;IACH;;IACD,oBAAA,CAAqBkJ,KAArB,EAA0C/H,UAA1C;IACI,OAAK,IAAMlU,IAAX,IAAmBkU,UAAnB,EAA+B;IAC3B,QAAMtT,KAAK,GAAGsT,UAAU,CAAClU,IAAD,CAAxB;;IAEA,QAAI,CAAC2kB,YAAY,CAAC/jB,KAAD,CAAjB,EAA0B;IACtBqb,MAAAA,KAAK,CAACjc,IAAD,CAAL,GAAc,IAAd;IACA;IACH;;IACD,QAAI,CAACoM,UAAQ,CAAC6P,KAAK,CAACjc,IAAD,CAAN,CAAb,EAA4B;IACxBic,MAAAA,KAAK,CAACjc,IAAD,CAAL,GAAc,EAAd;IACH;;IACD6kB,IAAAA,WAAW,CAAC5I,KAAK,CAACjc,IAAD,CAAN,EAAckU,UAAU,CAAClU,IAAD,CAAxB,CAAX;IACH;;IACD,SAAOic,KAAP;IACH;;IACD,gBAAA,CAAiByI,KAAjB,EAAkC5F,IAAlC;IACI,MAAMhf,MAAM,GAAG4kB,KAAK,CAAC5kB,MAArB;;IACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;IAC7B,QAAI+e,IAAI,GAAG4F,KAAK,CAAC3kB,CAAD,CAAhB,EAAqB;IACjB2kB,MAAAA,KAAK,CAACzY,MAAN,CAAalM,CAAb,EAAgB,CAAhB,EAAmB+e,IAAnB;IACA;IACH;IACJ;;IACD4F,EAAAA,KAAK,CAAC5kB,MAAD,CAAL,GAAgBgf,IAAhB;IACH;;IACD,iBAAA,CAAkBgG,OAAlB,EAAuChG,IAAvC,EAAqDiG,OAArD;IACI,MAAMC,SAAS,GAAGF,OAAO,CAACA,OAAO,CAAChlB,MAAR,GAAiB,CAAlB,CAAzB;IAEA,GAAC,CAACklB,SAAD,IAAcA,SAAS,CAAC,CAAD,CAAT,KAAiBlG,IAA/B,IAAuCkG,SAAS,CAAC,CAAD,CAAT,KAAiBD,OAAzD,KACID,OAAO,CAAC9gB,IAAR,CAAa,CAAC2T,OAAO,CAACmH,IAAD,CAAR,EAAgBnH,OAAO,CAACoN,OAAD,CAAvB,CAAb,CADJ;IAEH;;AACD,wBAA2BL,OAAiBO;IACxC,MAAIH,OAAO,GAAGJ,KAAK,CAAChf,GAAN,CAAU,UAAAoZ,IAAA;IAAQ,WAAC,CAACA,IAAD,EAAOA,IAAP,CAAD;IAAc,GAAhC,CAAd;IACA,MAAIoG,WAAW,GAAG,EAAlB;IAEAD,EAAAA,MAAM,CAACzf,OAAP,CAAe,UAAA2I,KAAA;IACX,QAAMyI,cAAc,GAAGzI,KAAK,CAAC2K,eAAD,CAA5B;IACA,QAAMtD,KAAK,GAAGrH,KAAK,CAAC4K,KAAD,CAAnB;IACA,QAAM3C,SAAS,GAAGjI,KAAK,CAAC8K,UAAD,CAAvB;IACA,QAAMtC,SAAS,GAAGxI,KAAK,CAAC0K,SAAD,CAAvB;IACA,QAAMsM,QAAQ,GAAGrf,IAAI,CAACsf,IAAL,CAAUxO,cAAV,CAAjB;IACA,QAAMyO,eAAe,GAAGP,OAAO,CAACA,OAAO,CAAChlB,MAAR,GAAiB,CAAlB,CAAP,CAA4B,CAA5B,CAAxB;IACA,QAAMA,MAAM,GAAGglB,OAAO,CAAChlB,MAAvB;IACA,QAAMwlB,QAAQ,GAAGD,eAAe,GAAGzO,cAAnC;;IAEA,SAAK,IAAI7W,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGolB,QAApB,EAA8B,EAAEplB,CAAhC,EAAmC;IAC/B,UAAM4gB,SAAS,GACXhK,SAAS,KAAKkD,OAAd,IACAlD,SAAS,KAAKiD,SAAd,IAA2B7Z,CAAC,GAAG,CAD/B,IAEA4W,SAAS,KAAKmD,iBAAd,IAAmC,EAAE/Z,CAAC,GAAG,CAAN,CAHvC;;IAKA,WAAK,IAAI4I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG7I,MAApB,EAA4B,EAAE6I,CAA9B,EAAiC;IAC7B,YAAM4c,KAAK,GAAGT,OAAO,CAACnE,SAAS,GAAG7gB,MAAM,GAAG6I,CAAT,GAAa,CAAhB,GAAoBA,CAA9B,CAArB;IACA,YAAMmW,IAAI,GAAGyG,KAAK,CAAC,CAAD,CAAlB;IACA,YAAMlH,WAAW,GAAGgH,eAAe,GAAGtlB,CAAlB,IAAuB4gB,SAAS,GAAG0E,eAAe,GAAGE,KAAK,CAAC,CAAD,CAA1B,GAAgCA,KAAK,CAAC,CAAD,CAArE,CAApB;IACA,YAAMP,SAAS,GAAGF,OAAO,CAACnE,SAAS,GAAG7gB,MAAM,GAAG6I,CAAZ,GAAgBA,CAAC,GAAG,CAA9B,CAAzB;;IAEA,YAAI0V,WAAW,GAAGiH,QAAlB,EAA4B;IACxB,cAAI3c,CAAC,KAAK,CAAV,EAAa;IACT,gBAAMiW,QAAQ,GAAGyG,eAAe,GAAGtlB,CAAlB,IACZ4gB,SAAS,GAAG0E,eAAe,GAAGL,SAAS,CAAC,CAAD,CAA9B,GAAoCA,SAAS,CAAC,CAAD,CAD1C,CAAjB;IAEA,gBAAMQ,UAAU,GAAGnB,SAAS,CAACW,SAAS,CAAC,CAAD,CAAV,EAAelG,IAAf,EAAqBwG,QAAQ,GAAG1G,QAAhC,EAA0CP,WAAW,GAAGiH,QAAxD,CAA5B;IAEAG,YAAAA,QAAQ,CAACP,WAAD,EAAc,CAAC1P,KAAK,GAAG6P,eAAe,GAAGzO,cAA3B,IAA6CR,SAA3D,EAAsEoP,UAAtE,CAAR;IACH;;IACD;IACH,SATD,MASO,IAAInH,WAAW,KAAKiH,QAAhB,IAA4BJ,WAAW,CAACA,WAAW,CAACplB,MAAZ,GAAqB,CAAtB,CAAX,CAAoC,CAApC,MAA2CwlB,QAAQ,GAAG9P,KAAtF,EAA6F;IAChG;IACH;;IACDiQ,QAAAA,QAAQ,CAACP,WAAD,EAAc,CAAC1P,KAAK,GAAG6I,WAAT,IAAwBjI,SAAtC,EAAiD0I,IAAjD,CAAR;IACH;IACJ;;;IAEDtJ,IAAAA,KAAK,IAAI0P,WAAW,CAACQ,OAAZ,CAAoB,CAAC,CAAD,EAAIR,WAAW,CAAC,CAAD,CAAX,CAAe,CAAf,CAAJ,CAApB,CAAT;IAEAJ,IAAAA,OAAO,GAAGI,WAAV;IACAA,IAAAA,WAAW,GAAG,EAAd;IACH,GA1CD;IA4CA,SAAOJ,OAAP;IACH;IACD;;;;;;;;;;;;;;;;;;IAiBA;;;IAAwB1F,EAAAA,SAAA,UAAA,QAAA;IAUpB;;;;;;;;;;;;;;;;;;;IAiBA,oBAAA,CAAYlL,UAAZ,EAAuC5K,OAAvC;IAAA,gBACIsE,WAAA,KAAA,SADJ;;IA1BOC,IAAAA,WAAA,GAAkB,EAAlB;IACAA,IAAAA,WAAA,GAAwB,EAAxB;IACAA,IAAAA,WAAA,GAAoB,EAApB;IACAA,IAAAA,cAAA,GAA6B,EAA7B;IAECA,IAAAA,gBAAA,GAAsB,KAAtB;;IAuBJA,IAAAA,KAAI,CAAC8X,IAAL,CAAUzR,UAAV,EAAsB5K,OAAtB;;;IACH;;;;IACM,qBAAA,GAAP;IACI,QAAMob,KAAK,GAAG,KAAKA,KAAnB;IACA,QAAM5kB,MAAM,GAAG4kB,KAAK,CAAC5kB,MAArB;IAEA,WAAOgG,IAAI,CAACC,GAAL,CAAS,KAAKoI,KAAL,CAAWwK,QAAX,CAAT,EAA+B7Y,MAAM,KAAK,CAAX,GAAe,CAAf,GAAmB4kB,KAAK,CAAC5kB,MAAM,GAAG,CAAV,CAAvD,CAAP;IACH,GALM;IAMP;;;;;;IAIO,cAAA,GAAP;IACI,WAAO,KAAK4kB,KAAL,CAAW5kB,MAAlB;IACH,GAFM;;IAGA,qBAAA,GAAP,UAAmBge,QAAnB;IACI,QAAI,CAACA,QAAL,EAAe;IACX,aAAO,IAAP;IACH;;IACD,QAAM8H,gBAAgB,GAAG,KAAK1P,WAAL,EAAzB;;IAEA,QAAI0P,gBAAgB,GAAG,CAAvB,EAA0B;IACtB,UAAMC,OAAK,GAAG/H,QAAQ,GAAG8H,gBAAzB;;IACM,UAAAphB,SAAA;IAAA,UAAEkgB,gBAAF;IAAA,UAASoB,kBAAT;;IACN,UAAMC,KAAG,GAAmB,EAA5B;IAEA,WAAKrB,KAAL,GAAaA,KAAK,CAAChf,GAAN,CAAU,UAAAoZ,IAAA;IACnB,YAAMkH,KAAK,GAAGrO,OAAO,CAACmH,IAAI,GAAG+G,OAAR,CAArB;IAEAE,QAAAA,KAAG,CAACC,KAAD,CAAH,GAAaF,OAAK,CAAChH,IAAD,CAAlB;IAEA,eAAOkH,KAAP;IACH,OANY,CAAb;IAOA,WAAKC,KAAL,GAAaF,KAAb;IACH;;IACDnY,IAAAA,gBAAA,CAAM8R,WAAN,KAAA,KAAA,EAAkB/H,OAAO,CAACmG,QAAD,CAAzB;;IACA,WAAO,IAAP;IACH,GAtBM;;IAuBA,eAAA,GAAP,UAAapc,EAAb;IACI,QAAMyM,KAAK,GAAG,KAAKA,KAAnB;IAEAA,IAAAA,KAAK,CAACzM,EAAN,GAAWA,EAAE,IAAIyb,MAAM,CAAC,CAAC,CAACrd,MAAH,CAAvB;IACA,QAAMmU,QAAQ,GAAG,KAAKA,QAAtB;;IAEA,QAAIA,QAAQ,CAACnU,MAAT,IAAmB,CAACqO,KAAK,CAACmM,QAAD,CAA7B,EAAyC;IACrC,UAAM4L,SAAO,GAAGvJ,IAAI,CAAC,KAAKM,KAAL,EAAD,CAApB;IAEA9O,MAAAA,KAAK,CAACmM,QAAD,CAAL,GAAkB,MAAIpC,aAAJ,QAAA,GAAsBgO,SAAtB,QAAlB;IACAjS,MAAAA,QAAQ,CAACzO,OAAT,CAAiB,UAAA3D,OAAA;IACbA,QAAAA,OAAO,CAACgC,YAAR,CAAqBqU,aAArB,EAAoCgO,SAApC;IACH,OAFD;IAGH;;IACD,WAAO,IAAP;IACH,GAfM;IAiBP;;;;;;;;;;;IASO,aAAA,GAAP,UAAWpH,IAAX;IAAA,oBAAA;;IAAsB,iBAAA;;aAAA,YAAApE,uBAAAA;IAAAC,MAAAA,YAAA,gBAAA;;;IAClB,QAAItO,SAAO,CAACyS,IAAD,CAAX,EAAmB;IACf,UAAMhf,MAAM,GAAGgf,IAAI,CAAChf,MAApB;;IAEA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;IAC7B,YAAMyC,CAAC,GAAG1C,MAAM,KAAK,CAAX,GAAe,CAAf,GAAmB,KAAKqgB,WAAL,CAAoBpgB,CAAC,IAAID,MAAM,GAAG,CAAb,CAAD,GAAmB,GAAnB,MAApB,CAA7B;IAEA,aAAKmiB,GAAL,CAASzf,CAAT,EAAYsc,IAAI,CAAC/e,CAAD,CAAhB;IACH;IACJ,KARD,MAQO,IAAIqM,UAAQ,CAAC0S,IAAD,CAAZ,EAAoB;kCACZtc;IACP,YAAM5B,KAAK,GAAGke,IAAI,CAACtc,CAAD,CAAlB;IACA,YAAM2jB,QAAQ,GAAGC,OAAKjG,WAAL,CAAiB3d,CAAjB,CAAjB;;IAEA,YAAIoQ,KAAK,CAACuT,QAAD,CAAT,EAAqB;IACjBvB,UAAAA,QAAQ,CAAChkB,KAAD,EAAQ,CAAC4B,CAAD,CAAR,CAAR,CAAqBgD,OAArB,CAA6B,UAAAyW,KAAA;IACzB,gBAAMoK,UAAU,GAAGjE,eAAe,CAACnG,KAAK,CAAC9J,KAAN,CAAY,CAAZ,CAAD,EAAiBvR,KAAjB,CAAlC;IACA,gBAAMmS,GAAG,GAAG1G,SAAO,CAACga,UAAD,CAAP,GACZA,UADY,GACC,CAACjE,eAAe,CAACnG,KAAD,EAAQpO,KAAI,CAACkB,MAAb,CAAhB,EAAsCsX,UAAtC,CADb;IAEA,gBAAMvmB,MAAM,GAAGiT,GAAG,CAACjT,MAAnB;;IAEA,iBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;IAC7B8N,cAAAA,KAAI,CAACyY,QAAL,CAAiBvmB,CAAC,IAAID,MAAM,GAAG,CAAb,CAAD,GAAmB,GAAnB,MAAjB,EAA4CmiB,GAA5C,CAAgDhG,KAAhD,EAAuDlJ,GAAG,CAAChT,CAAD,CAA1D;IACH;IACJ,WATD;IAUH,SAXD,MAWO;IACHqmB,UAAAA,OAAKnE,GAAL,CAASkE,QAAT,EAAmBvlB,KAAnB;IACH;IACJ;;;;IAlBD,WAAK,IAAM4B,CAAX,IAAgBsc,IAAhB;oBAAWtc;IAkBV;IACJ,KApBM,MAoBA;IACH,UAAM5B,KAAK,GAAG+Z,IAAI,CAAC,CAAD,CAAlB;;IAEA,UAAI/Z,KAAK,YAAY8hB,KAArB,EAA4B;IACxB,aAAK6D,QAAL,CAAczH,IAAd,EAAoBle,KAApB;IACH,OAFD,MAEO,IAAIA,KAAK,YAAY4lB,SAArB,EAAgC;IACnC,YAAMhR,KAAK,GAAG5U,KAAK,CAAC6lB,QAAN,EAAd;IACA,YAAMN,QAAQ,GAAG,KAAKhG,WAAL,CAAiBrB,IAAjB,CAAjB;IACA,YAAM4H,MAAM,GAAG9lB,KAAK,CAAC+gB,QAAN,CAAe,CAAC,KAAKgF,QAAL,CAAcR,QAAQ,GAAG3Q,KAAzB,CAAhB,EAAiD2Q,QAAjD,CAAf;;IAEA,aAAK,IAAMS,SAAX,IAAwBF,MAAxB,EAAgC;IAC5B,eAAKzE,GAAL,CAAS2E,SAAT,EAAoBF,MAAM,CAACE,SAAD,CAA1B;IACH;IACJ,OARM,MAQA,IAAIjM,IAAI,CAAC7a,MAAL,KAAgB,CAAhB,IAAqBuM,SAAO,CAACzL,KAAD,CAAhC,EAAyC;IAC5CA,QAAAA,KAAK,CAAC4E,OAAN,CAAc,UAAC8W,IAAD;IACVzO,UAAAA,KAAI,CAACoU,GAAL,CAASnD,IAAT,EAAexC,IAAf;IACH,SAFD;IAGH,OAJM,MAIA;IACH,YAAM7E,KAAK,GAAG,KAAK6O,QAAL,CAAcxH,IAAd,CAAd;IAEArH,QAAAA,KAAK,CAACwK,GAAN,MAAA,CAAAxK,KAAA,EAAakD,IAAb;IACH;IACJ;;IACD,SAAKkM,UAAL,GAAkB,IAAlB;IACA,WAAO,IAAP;IACH,GAtDM;IAuDP;;;;;;;;;;;IASO,aAAA,GAAP,UAAW/H,IAAX;IAAkC,iBAAA;;aAAA,YAAApE,uBAAAA;IAAAC,MAAAA,YAAA,gBAAA;;;IAC9B,QAAMlD,KAAK,GAAG,KAAKqP,QAAL,CAAchI,IAAd,CAAd;IAEA,WAAOrH,KAAK,IAAIA,KAAK,CAACC,GAAN,MAAA,CAAAD,KAAA,EAAakD,IAAb,CAAhB;IACH,GAJM;IAKP;;;;;;;;;;IAQO,gBAAA,GAAP,UAAcmE,IAAd;IAA4B,iBAAA;;aAAA,YAAApE,uBAAAA;IAAAC,MAAAA,YAAA,gBAAA;;;IACxB,QAAMlD,KAAK,GAAG,KAAKqP,QAAL,CAAchI,IAAd,CAAd;IAEArH,IAAAA,KAAK,IAAIA,KAAK,CAAC3D,MAAN,MAAA,CAAA2D,KAAA,EAAgBkD,IAAhB,CAAT;IACA,SAAKkM,UAAL,GAAkB,IAAlB;IACA,WAAO,IAAP;IACH,GANM;IAOP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA8BO,gBAAA,GAAP,UAAcvK,IAAd;IACI,SAAK2F,GAAL,CAAS,KAAK/L,WAAL,EAAT,EAA6BoG,IAA7B;IACA,WAAO,IAAP;IACH,GAHM;IAIP;;;;;;;IAKO,iBAAA,GAAP,UAAeA,IAAf;IACI,QAAIA,IAAI,YAAYkK,SAApB,EAA+B;IAC3B,UAAMO,WAAW,GAAGzK,IAAI,CAACpG,WAAL,KAAqBoG,IAAI,CAACmK,QAAL,EAAzC;IACA,UAAMO,UAAU,GAAG,KAAKF,QAAL,CAAc,CAAd,CAAnB,CAF2B;;IAI3B,WAAKG,WAAL,CAAiB,CAAjB;IACA,WAAKvB,OAAL,CAAaqB,WAAb;IACA,WAAK9E,GAAL,CAAS,CAAT,EAAY3F,IAAZ;IACA,WAAK2F,GAAL,CAAS8E,WAAW,GAAGrO,SAAvB,EAAkCsO,UAAlC;IACH,KARD,MAQO;IACH,WAAKE,OAAL,CAAa,IAAIV,SAAJ,CAAclK,IAAd,CAAb;IACH;;IACD,WAAO,IAAP;IACH,GAbM;IAcP;;;;;;;;;;;IASO,iBAAA,GAAP,UAAewC,IAAf;IACU,QAAAta,SAAA;IAAA,QAAEkgB,gBAAF;IAAA,QAASuB,gBAAT;;IACN,QAAM/E,GAAG,GAAmB,EAA5B;IAEA,SAAKwD,KAAL,GAAaA,KAAK,CAAChf,GAAN,CAAU,UAAAlD,CAAA;IACnB,UAAMwjB,KAAK,GAAGrO,OAAO,CAACmH,IAAI,GAAGtc,CAAR,CAArB;IAEA0e,MAAAA,GAAG,CAAC8E,KAAD,CAAH,GAAaC,KAAK,CAACzjB,CAAD,CAAlB;IACA,aAAOwjB,KAAP;IACH,KALY,CAAb;IAMA,SAAKC,KAAL,GAAa/E,GAAb;IACH,GAXM;IAYP;;;;;;;;;IAOO,kBAAA,GAAP,UAAgBiG,WAAhB,EAAoCC,SAApC;IAAgB,8BAAA,EAAA;IAAAD,MAAAA,kBAAA;;;IAAoB,4BAAA,EAAA;IAAAC,MAAAA,aAAA;;;IAChC,QAAMlG,GAAG,GAAmB,EAA5B;IACA,QAAM1L,KAAK,GAAG,KAAKiR,QAAL,EAAd;IAEA,SAAKjhB,OAAL,CAAa,UAACiS,KAAD,EAAeqH,IAAf;IACToC,MAAAA,GAAG,CAAC,CAAC,CAACpC,IAAD,IAAS,CAACqI,WAAV,GAAwBzO,SAAxB,GAAoC,CAArC,IAA0ClD,KAA1C,GAAkD4R,SAAlD,GAA8DtI,IAA/D,CAAH,GAA0ErH,KAAK,CAACoE,KAAN,EAA1E;IACH,KAFD;IAGA,WAAOqF,GAAP;IACH,GARM;IASP;;;;;;;;;IAOO,qBAAA,GAAP,UAAmBnS,MAAnB;IACI,SAAKsY,UAAL,CAAgBtY,MAAhB;IACH,GAFM;IAGP;;;;;;;;;;;IASO,oBAAA,GAAP,UAAkBA,MAAlB;IACI,QAAMZ,KAAK,GAAG,KAAKA,KAAnB;IACA,QAAI8F,QAAQ,GAAqB,EAAjC;;IAEA,QAAI,CAAClF,MAAL,EAAa;IACT,aAAO,IAAP;IACH,KAFD,MAEO,IAAIA,MAAM,KAAK,IAAX,IAAmBsC,UAAQ,CAACtC,MAAD,CAA/B,EAAyC;IAC5C,UAAM+G,QAAQ,GAAG/G,MAAM,KAAK,IAAX,GAAkB,KAAGZ,KAAK,CAACzM,EAA3B,GAAkCqN,MAAnD;IACA,UAAMvO,OAAO,GAAG,2BAA2BC,IAA3B,CAAgCqV,QAAhC,CAAhB;IAEA7B,MAAAA,QAAQ,GAAG/B,OAAO,CAACzF,GAAC,CAACjM,OAAO,GAAGA,OAAO,CAAC,CAAD,CAAV,GAAgBsV,QAAxB,EAAkC,IAAlC,CAAF,CAAlB;IACA3H,MAAAA,KAAK,CAACmM,QAAD,CAAL,GAAkBxE,QAAlB;IACH,KANM,MAMA;IACH7B,MAAAA,QAAQ,GAAIlF,MAAM,YAAYoF,OAAnB,GAA8B,CAACpF,MAAD,CAA9B,GAAyCmD,OAAO,CAACnD,MAAD,CAA3D;IACH;;IACD,QAAI,CAACkF,QAAQ,CAACnU,MAAd,EAAsB;IAClB,aAAO,IAAP;IACH;;IACD,SAAKmU,QAAL,GAAgBA,QAAhB;IACA,SAAKiJ,KAAL,CAAW,KAAKD,KAAL,EAAX;IACA,SAAKlO,MAAL,GAAckF,QAAQ,CAAC,CAAD,CAAR,CAAYpU,KAA1B;;IACA,SAAKynB,UAAL,GAAkB,UAAC7P,KAAD;IACd,UAAM7T,UAAU,GAAG6T,KAAK,CAACC,GAAN,CAAU,WAAV,CAAnB;;IAEA,UAAI9T,UAAJ,EAAgB;oCACD5D;IACPiU,UAAAA,QAAQ,CAACzO,OAAT,CAAiB,UAAA9B,EAAA;IACbA,YAAAA,EAAE,CAACG,YAAH,CAAgB7D,IAAhB,EAAsB4D,UAAU,CAAC5D,IAAD,CAAhC;IACH,WAFD;IAGH;;IAJD,aAAK,IAAMA,IAAX,IAAmB4D,UAAnB;sBAAW5D;IAIV;IACJ;;IACD,UAAM+D,OAAO,GAAG0T,KAAK,CAAC8P,KAAN,EAAhB;;IAEA,UAAIpZ,KAAK,CAACpK,OAAN,KAAkBA,OAAtB,EAA+B;IAC3BoK,QAAAA,KAAK,CAACpK,OAAN,GAAgBA,OAAhB;IAEAkQ,QAAAA,QAAQ,CAACzO,OAAT,CAAiB,UAAA9B,EAAA;IACbA,UAAAA,EAAE,CAAC7D,KAAH,CAASkE,OAAT,IAAoBA,OAApB;IACH,SAFD;IAGA,eAAO0T,KAAP;IACH;IACJ,KApBD;;IAqBA,WAAO,IAAP;IACH,GA3CM;;IA4CA,mBAAA,GAAP,UAAiB1I,MAAjB;IACI,SAAKA,MAAL,GAAcA,MAAd;;IACA,SAAKuY,UAAL,GAAkB,UAAC7P,KAAD;IACd,UAAMyJ,GAAG,GAAGzJ,KAAK,CAACC,GAAN,EAAZ;;IAEA,WAAK,IAAM1X,IAAX,IAAmBkhB,GAAnB,EAAwB;IACpBnS,QAAAA,MAAM,CAAC/O,IAAD,CAAN,GAAekhB,GAAG,CAAClhB,IAAD,CAAlB;IACH;IACJ,KAND;;IAOA,WAAO,IAAP;IACH,GAVM;IAWP;;;;;;;;;;;IASO,gBAAA,GAAP,UAAc8e,IAAd,EAA4B5K,UAA5B;IACI,SAAK+N,GAAL,CAASnD,IAAT,EAAe9K,SAAO,CAAC,KAAKC,QAAN,EAAgBC,UAAhB,CAAtB;IACA,WAAO,IAAP;IACH,GAHM;;IAIA,iBAAA,GAAP,UAAe4K,IAAf,EAAsCmB,MAAtC,EAAwDuH,YAAxD;IACI5Z,IAAAA,gBAAA,CAAMiJ,OAAN,KAAA,KAAA,EAAciI,IAAd,EAAoBmB,MAApB;;IAEA,QAAMX,aAAa,GAAG,KAAKgB,gBAAL,EAAtB;IACA,QAAM3K,MAAM,GAAG,KAAK8R,SAAL,MAAoBD,YAAnC;IACA,QAAM/P,KAAK,GAAG,KAAKiQ,WAAL,CAAiBpI,aAAjB,EAAgC3J,MAAhC,CAAd;IACA,QAAM0I,WAAW,GAAG,KAAKpd,OAAL,EAApB;IAEA,SAAK0mB,IAAL,GAAYlQ,KAAZ;IACA;;;;;;;;IAOA,SAAKrN,OAAL,CAAa,SAAb,EAAwB;IACpBqN,MAAAA,KAAK,OADe;IAEpB4G,MAAAA,WAAW,aAFS;IAGpBS,MAAAA,IAAI,EAAEQ;IAHc,KAAxB;IAKA,SAAKgI,UAAL,IAAmB,KAAKA,UAAL,CAAgB7P,KAAhB,CAAnB;IACA,WAAO,IAAP;IACH,GAvBM;IAwBP;;;;;;;;IAMO,gBAAA,GAAP;IACI,QAAMwE,KAAK,GAAG,KAAKA,KAAnB;IACA,SAAKzW,OAAL,CAAa,UAAAiS,KAAA;IACToN,MAAAA,WAAW,CAAC5I,KAAD,EAAQxE,KAAK,CAACvD,UAAd,CAAX;IACH,KAFD;IAGA,SAAK2S,UAAL,GAAkB,KAAlB;IACA,WAAO,IAAP;IACH,GAPM;IAQP;;;;;;;;;IAOO,kBAAA,GAAP,UAAgB/H,IAAhB;IACI,QAAIrH,KAAK,GAAG,KAAKqP,QAAL,CAAchI,IAAd,CAAZ;;IAEA,QAAIrH,KAAJ,EAAW;IACP,aAAOA,KAAP;IACH;;IACDA,IAAAA,KAAK,GAAG,IAAIiL,KAAJ,EAAR;IACA,SAAK6D,QAAL,CAAczH,IAAd,EAAoBrH,KAApB;IACA,WAAOA,KAAP;IACH,GATM;IAUP;;;;;;;;;IAOO,kBAAA,GAAP,UAAgBqH,IAAhB,EAAuCrH,KAAvC;IACI,QAAM0O,QAAQ,GAAG,KAAKhG,WAAL,CAAiBrB,IAAjB,CAAjB;IAEA,SAAKmH,KAAL,CAAWE,QAAX,IAAuB1O,KAAvB;IACAmQ,IAAAA,OAAO,CAAC,KAAKlD,KAAN,EAAayB,QAAb,CAAP;IACA,SAAKU,UAAL,GAAkB,IAAlB;IACA,WAAO,IAAP;IACH,GAPM;IAQP;;;;;;;;;IAOO,kBAAA,GAAP,UAAgB/H,IAAhB;IACI,WAAO,KAAKmH,KAAL,CAAW,KAAK9F,WAAL,CAAiBrB,IAAjB,CAAX,CAAP;IACH,GAFM;IAGP;;;;;;;;;;;;;IAWO,kBAAA,GAAP,UAAgBA,IAAhB;IACI,WAAO,KAAKqB,WAAL,CAAiBrB,IAAjB,KAA0B,KAAKmH,KAAtC;IACH,GAFM;IAGP;;;;;;;;;IAOO,iBAAA,GAAP,UAAetL,IAAf;IACI,SAAKkM,UAAL,IAAmB,KAAKgB,MAAL,EAAnB;IACA,WAAOxL,cAAc,CAAC,KAAKJ,KAAN,EAAatB,IAAb,EAAmB,IAAnB,CAArB;IACH,GAHM;IAIP;;;;;;;;;IAOO,qBAAA,GAAP,UAAmBmE,IAAnB;IACI,QAAMmH,KAAK,GAAG,KAAKA,KAAnB;IACA,QAAMxQ,KAAK,GAAG,KAAKiP,KAAL,CAAWvhB,OAAX,CAAmB2b,IAAnB,CAAd;IAEA,WAAOmH,KAAK,CAACnH,IAAD,CAAZ;;IAGA,QAAIrJ,KAAK,GAAG,CAAC,CAAb,EAAgB;IACZ,WAAKiP,KAAL,CAAWzY,MAAX,CAAkBwJ,KAAlB,EAAyB,CAAzB;IACH;;IACD,WAAO,IAAP;IACH,GAXM;IAYP;;;;;;;;;;;IASO,oBAAA,GAAP,UAAkBqJ,IAAlB,EAAyCrH,KAAzC;IACI,QAAIA,KAAJ,EAAW;IACP,UAAMqQ,OAAO,GAAG,KAAKxB,QAAL,CAAcxH,IAAd,CAAhB;IAEAgJ,MAAAA,OAAO,CAACjG,KAAR,CAAcpK,KAAd;IACH;;IACD,WAAO,IAAP;IACH,GAPM;IAQP;;;;;;;;;;;;;;;;;;;;;;;IAqBO,qBAAA,GAAP,UAAmBqH,IAAnB,EAAiCnJ,MAAjC,EAAsDoS,UAAtD;IAAA,oBAAA;;IACI,SAAKlB,UAAL,IAAmB,KAAKgB,MAAL,EAAnB;IACA,QAAMpQ,KAAK,GAAG,IAAIiL,KAAJ,EAAd;;IACM,QAAAle,uCAAA;IAAA,QAACG,YAAD;IAAA,QAAOU,aAAP;;IACN,QAAI2iB,UAAU,GAAG,KAAKP,SAAL,MAAoB9R,MAArC;IACA,QAAIsS,UAAU,GAAG,KAAKhM,KAAtB;;IAEA,QAAI,KAAKiM,OAAL,CAAa,CAAC/P,eAAD,CAAb,CAAJ,EAAqC;IACjC,UAAMgQ,SAAS,GAAG,KAAKC,YAAL,CAAkBtJ,IAAlB,EAAwB,CAAC3G,eAAD,CAAxB,EAA2CxT,IAA3C,EAAiDU,KAAjD,EAAwD,KAAxD,EAA+D,CAA/D,EAAkE,IAAlE,CAAlB;;IAEAiM,MAAAA,YAAU,CAAC6W,SAAD,CAAV,KAA0BH,UAAU,GAAGG,SAAvC;IACH;;IACD,QAAIJ,UAAJ,EAAgB;IACZ,UAAMM,SAAS,GAAG,KAAKvB,QAAL,CAAchI,IAAd,CAAlB;IACA,UAAMwJ,SAAS,GAAGzD,WAAW,CAAC,EAAD,EAAKwD,SAAS,CAACnU,UAAf,CAA7B;;IAEA,WAAK,IAAMlU,IAAX,IAAmBoY,KAAnB,EAA0B;IACtB,YAAIpY,IAAI,IAAIsoB,SAAZ,EAAuB;IACnBA,UAAAA,SAAS,CAACtoB,IAAD,CAAT,GAAkBioB,UAAU,CAACjoB,IAAD,CAA5B;IACH;IACJ;;IACDioB,MAAAA,UAAU,GAAGK,SAAb;IACH;;IACD,QAAMrM,KAAK,GAAG2I,QAAQ,CAACqD,UAAD,EAAa,EAAb,CAAtB;IAEAhM,IAAAA,KAAK,CAACzW,OAAN,CAAc,UAAA0O,UAAA;IACV,UAAMtT,KAAK,GAAGiN,KAAI,CAACua,YAAL,CAAkBtJ,IAAlB,EAAwB5K,UAAxB,EAAoCvP,IAApC,EAA0CU,KAA1C,EAAiD0iB,UAAjD,EAA6DC,UAA7D,EAAyExF,OAAO,CAACtO,UAAD,CAAhF,CAAd;;IAEA,UAAIlK,aAAW,CAACpJ,KAAD,CAAf,EAAwB;IACpB;IACH;;IACD6W,MAAAA,KAAK,CAACwK,GAAN,CAAU/N,UAAV,EAAsBtT,KAAtB;IACH,KAPD;IAQA,WAAO6W,KAAP;IACH,GAlCM;;IAmCA,cAAA,GAAP,UAAYvD,UAAZ,EAAkC5K,OAAlC;IAAY,6BAAA,EAAA;IAAA4K,MAAAA,eAAA;;;IAAsB,0BAAA,EAAA;IAAA5K,MAAAA,UAAU4K,UAAU,CAAC5K,OAArB;;;IAC9BA,IAAAA,OAAO,IAAI,KAAKmS,UAAL,CAAgBnS,OAAhB,CAAX;;IACA,QAAI+C,SAAO,CAAC6H,UAAD,CAAX,EAAyB;IACrB,WAAK+N,GAAL,CAAS/N,UAAT;IACH,KAFD,MAEO,IAAIA,UAAU,CAACqU,SAAf,EAA0B;IAC7B,WAAKtG,GAAL,CAAS/N,UAAU,CAACqU,SAApB;IACH,KAFM,MAEA;IACH,WAAK,IAAMzJ,IAAX,IAAmB5K,UAAnB,EAA+B;IAC3B,YAAI4K,IAAI,KAAK,SAAb,EAAwB;IACpB,eAAKmD,GAAL,WACIzd,GAACsa,KAAD,GAAQ5K,UAAU,CAAC4K,IAAD,KADtB;IAGH;IACJ;IACJ;;IACD,QAAIxV,OAAO,IAAIA,OAAO,CAACqP,QAAD,CAAtB,EAAkC;IAC9B,WAAK+G,WAAL,CAAiBpW,OAAO,CAACqP,QAAD,CAAxB;IACH;;IACD,WAAO,IAAP;;;IACH,GAnBM;IAoBP;;;;;;;;IAMO,eAAA,GAAP;IACI,QAAM2D,IAAI,GAAG,IAAIkK,SAAJ,EAAb;IAEAlK,IAAAA,IAAI,CAACb,UAAL,CAAgB,KAAKtN,KAArB;IACA,SAAK3I,OAAL,CAAa,UAACiS,KAAD,EAAeqH,IAAf;IACTxC,MAAAA,IAAI,CAACiK,QAAL,CAAczH,IAAd,EAAoBrH,KAAK,CAACoE,KAAN,EAApB;IACH,KAFD;IAGA,WAAOS,IAAP;IACH,GARM;IASP;;;;;;;IAKO,iBAAA,GAAP,UAAe9a,QAAf;IACI,QAAMkjB,KAAK,GAAG,KAAKA,KAAnB;IACA,QAAMuB,KAAK,GAAG,KAAKA,KAAnB;IAEAvB,IAAAA,KAAK,CAAClf,OAAN,CAAc,UAAAsZ,IAAA;IACVtd,MAAAA,QAAQ,CAACykB,KAAK,CAACnH,IAAD,CAAN,EAAcA,IAAd,EAAoBmH,KAApB,CAAR;IACH,KAFD;IAGA,WAAO,IAAP;IACH,GARM;;IASA,oBAAA,GAAP,UAAkB3c,OAAlB;IAAkB,0BAAA,EAAA;IAAAA,MAAAA,YAAA;;;IACdsE,IAAAA,gBAAA,CAAM6N,UAAN,KAAA,KAAA,EAAiBnS,OAAjB;;IACQ,QAAA5H,eAAA;IAAA,QAAIoU,2BAAJ;IAAA,QAAc7B,2BAAd;IAAA,QAAwBpS,yBAAxB;IAAA,QAAiCkN,uBAAjC;IAERrN,IAAAA,EAAE,IAAI,KAAKwb,KAAL,CAAWxb,EAAX,CAAN;;IACA,QAAIqN,MAAJ,EAAY;IACR,WAAKyZ,SAAL,CAAezZ,MAAf;IACH,KAFD,MAEO,IAAIkF,QAAQ,IAAIpS,OAAZ,IAAuBiU,QAA3B,EAAqC;IACxC,WAAKuR,UAAL,CAAgBpT,QAAQ,IAAIpS,OAAZ,IAAuBiU,QAAvC;IACH;;IACD,WAAO,IAAP;IACH,GAXM;;IAYA,eAAA,GAAP,UACI2S,aADJ,EAEIC,cAFJ,EAEyCzD,MAFzC;IACI,gCAAA,EAAA;IAAAwD,MAAAA;IAAiC3mB,QAAAA,SAAS,EAAE4X;WAA5C;;;IACA,iCAAA,EAAA;IAAAgP,MAAAA,iBAAiB,KAAKxS,WAAL,EAAjB;;;IAAqC,yBAAA,EAAA;IAAA+O,MAAAA,WAAA;;;IACrC,QAAM0D,SAAS,GAAG,KAAKxa,KAAvB;IACA,QAAM2H,QAAQ,GAAG6S,SAAS,CAACrO,QAAD,CAA1B;;IAEA,QAAI,CAACxE,QAAL,EAAe;IACX,aAAO,EAAP;IACH;;IACD,QAAM8P,gBAAgB,GAAG,KAAK1P,WAAL,EAAzB;IACAyS,IAAAA,SAAS,CAAChQ,QAAD,CAAT,GAAsBiN,gBAAtB;IACAX,IAAAA,MAAM,CAACjhB,IAAP,CAAY2kB,SAAZ;IAEA,QAAMC,cAAc,GAAG1W,OAAO,CAAC+S,MAAD,CAAP,CAAgB4D,OAAhB,EAAvB;IACA,QAAMnnB,EAAE,GAAGib,IAAI,CAACmM,SAAS,CAAC,IAAD,CAAV,CAAf;IACA,QAAMC,WAAW,GAAG9D,MAAM,CAAC,CAAD,CAA1B;IACA,QAAM+D,aAAa,GAAGnL,SAAS,CAAC+K,cAAD,EAAiB,UAAAza,KAAA;IAC5C,aAAOA,KAAK,CAAC2K,eAAD,CAAL,KAA2BkB,QAA3B,IAAuC,CAACgE,QAAQ,CAAC7P,KAAK,CAACwK,QAAD,CAAN,CAAvD;IACH,KAF8B,EAE5BsM,MAAM,CAACnlB,MAAP,GAAgB,CAFY,CAA/B;IAGA,QAAMmpB,YAAY,GAAGL,cAAc,CAACzW,KAAf,CAAqB,CAArB,EAAwB6W,aAAxB,CAArB;IACA,QAAMlL,QAAQ,GAAG4K,cAAc,IAAIO,YAAY,CAACvZ,MAAb,CAAoB,UAACC,IAAD,EAAOC,GAAP;IACnD,aAAO,CAACA,GAAG,CAACmJ,KAAD,CAAH,GAAapJ,IAAI,GAAIC,GAAG,CAACkJ,eAAD,CAAzB,IAAyDlJ,GAAG,CAACqJ,UAAD,CAAnE;IACH,KAFkC,EAEhC2M,gBAFgC,CAAnC;IAGA,QAAMpQ,KAAK,GAAGoT,cAAc,CAACzW,KAAf,CAAqB6W,aAArB,EAAoCtZ,MAApC,CAA2C,UAACC,IAAD,EAAOC,GAAP;IACrD,aAAO,CAACD,IAAI,GAAGC,GAAG,CAACmJ,KAAD,CAAX,IAAsBnJ,GAAG,CAACqJ,UAAD,CAAhC;IACH,KAFa,EAEX,CAFW,CAAd;IAGA,QAAMoC,UAAU,GAAG6N,IAAI,CAACN,cAAD,EAAiB,UAAAza,KAAA;IAAS,aAACA,KAAK,CAAC6K,MAAD,CAAL,IAAiB7K,KAAK,CAAC+K,WAAD,CAAvB;IAAqC,KAA/D,EAAiEyP,SAAjE,CAAJ,CAAgFzP,WAAhF,CAAnB;IACA,QAAMtC,cAAc,GAAGgS,cAAc,CAACI,aAAD,CAAd,CAA8BlQ,eAA9B,CAAvB;IACA,QAAMuG,QAAQ,GAAG0J,WAAW,CAACnQ,SAAD,CAA5B;IACA,QAAMjC,SAAS,GAAGiS,cAAc,CAACI,aAAD,CAAd,CAA8BnQ,SAA9B,CAAlB;IACA,QAAM9U,OAAO,GAAGolB,uBAAuB,CAAC;IACpC9J,MAAAA,QAAQ,UAD4B;IAEpC1I,MAAAA,SAAS,WAF2B;IAGpCC,MAAAA,cAAc,gBAHsB;IAIpCpB,MAAAA,KAAK,EAAKA,KAAK,MAJqB;IAKpCxV,MAAAA,IAAI,EAAKiY,MAAM,eAAN,GAAmBvW,EALQ;IAMpCoc,MAAAA,QAAQ,EAAKA,QAAQ,GAAGiL,WAAW,CAAC9P,UAAD,CAAtB,MANuB;IAOpCmQ,MAAAA,cAAc,EAAE/N;IAPoB,KAAD,CAAvC;IASA,QAAM3O,SAAS,GAAG6E,YAAU,CAACuE,QAAD,CAAV,CAAqBpQ,GAArB,CAAyB,UAAA2jB,GAAA;IACvC,UAAM7oB,OAAO,GAAG,2BAA2BC,IAA3B,CAAgC4oB,GAAhC,CAAhB;;IAEA,UAAI7oB,OAAJ,EAAa;IACT,eAAO,CAACA,OAAO,CAAC,CAAD,CAAR,EAAaA,OAAO,CAAC,CAAD,CAApB,CAAP;IACH,OAFD,MAEO;IACH,eAAO,CAAC6oB,GAAD,EAAM,EAAN,CAAP;IACH;IACJ,KARiB,CAAlB;IASA,QAAMvnB,SAAS,GAAG2mB,aAAa,CAAC3mB,SAAhC;IACA,QAAMwnB,gBAAgB,GAAGb,aAAa,CAAC3S,QAAvC;IACA,QAAMyT,WAAW,GAAGjY,YAAU,CAACgY,gBAAD,CAAV,GAA+BA,gBAAgB,CAAC,IAAD,EAAOxT,QAAP,CAA/C,GAAkEwT,gBAAtF;IAEA,WAAO,YACTC,WAAW,IAAI7c,SAAS,CAAChH,GAAV,CAAc,UAAClB,EAAD;cAAE6kB;cAAKG;IAAY,aAAGH,GAAG,MAAH,GAAOvnB,SAAP,GAAmB0nB,MAAtB;IAA8B,KAA/D,CADN,QAAA,GAC2EzlB,OAD3E,YAAA,GAET2I,SAAS,CAAChH,GAAV,CAAc,UAAClB,EAAD;cAAE6kB;cAAKG;IAAY,aAAGH,GAAG,MAAH,GAAO1P,eAAP,GAAyB6P,MAA5B;IAAoC,KAArE,CAFS,OAAA,GAEkErpB,WAFlE,iCAAA,GAGRC,WAHQ,MAAA,GAGK6X,MAHL,eAAA,GAGwBvW,EAHxB,MAAA,GAG8B,KAAK+nB,YAAL,CAAkB3L,QAAlB,EAA4BmL,YAA5B,EAA0CtS,SAA1C,CAH9B,MAAP;IAIH,GAxDM;IAyDP;;;;;;;IAKO,mBAAA,GAAP,UACI8R,aADJ,EAEI3K,QAFJ,EAEuBxU,OAFvB;IAGI,QAAI,CAAC,KAAK2K,QAAL,CAAcnU,MAAnB,EAA2B;IACvB,aAAO,EAAP;IACH;;IACD,QAAMqJ,GAAG,GAAG,KAAKoe,KAAL,CAAWkB,aAAX,EAA0B3K,QAA1B,EAAoCxU,OAApC,CAAZ;IACA,QAAMogB,QAAQ,GAAGpgB,OAAO,IAAI,CAACU,aAAW,CAACV,OAAO,CAACwP,eAAD,CAAR,CAAxC;IAEA,KAAC4Q,QAAD,IAAajT,SAAS,CAACqS,SAAS,CAAC,IAAD,CAAV,EAAkB3f,GAAlB,CAAtB;IACA,WAAO,IAAP;IACH,GAXM;;IAYA,eAAA,GAAP;IACIyE,IAAAA,gBAAA,CAAMiK,KAAN,KAAA,KAAA;;IACAyF,IAAAA,WAAW,CAAC,IAAD,CAAX,IAAqB,KAAKqM,QAAL,EAArB;IACA,WAAO,IAAP;IACH,GAJM;;IAKA,kBAAA,GAAP;IACI,SAAK1V,QAAL,CAAczO,OAAd,CAAsB,UAAA3D,OAAA;IAClBM,MAAAA,UAAQ,CAACN,OAAD,EAAU8X,eAAV,CAAR;IACH,KAFD;IAGA,WAAO,IAAP;IACH,GALM;;IAMA,gBAAA,GAAP;IACI,SAAK1F,QAAL,CAAczO,OAAd,CAAsB,UAAA3D,OAAA;IAClBgS,MAAAA,aAAW,CAAChS,OAAD,EAAU8X,eAAV,CAAX;IACA9F,MAAAA,aAAW,CAAChS,OAAD,EAAU6X,eAAV,CAAX;IACH,KAHD;IAIA+D,IAAAA,UAAU,CAAC,IAAD,EAAO,KAAP,CAAV;IACA,WAAO,IAAP;IACH,GAPM;;IAQA,aAAA,GAAP;IACImM,IAAAA,UAAU,CAAC,IAAD,CAAV,IAAoB,KAAKC,MAAL,EAApB;;IACAjc,IAAAA,gBAAA,CAAMoS,GAAN,KAAA,KAAA;;IACA,WAAO,IAAP;IACH,GAJM;IAKP;;;;;;;;;;;;;;;IAaO,iBAAA,GAAP,UAAe5C,WAAf,EAAmCC,aAAnC,EAA2DnJ,UAA3D;IAAe,8BAAA,EAAA;IAAAkJ,MAAAA,kBAAA;;;IAA4C,6BAAA,EAAA;IAAAlJ,MAAAA,eAAA;;;IACvDoC,IAAAA,OAAO,CAAC,IAAD,EAAO8G,WAAP,EAAoBC,aAApB,EAAmCnJ,UAAnC,CAAP;IACA,WAAO,IAAP;IACH,GAHM;;IAIA,sBAAA,GAAP,UAAoBsI,QAApB,EAAuCa,aAAvC,EAA+DnJ,UAA/D;IAA+D,6BAAA,EAAA;IAAAA,MAAAA,eAAA;;;IAC3D,QAAMD,QAAQ,GAAG,KAAKA,QAAtB;IACA,QAAMnU,MAAM,GAAGmU,QAAQ,CAACnU,MAAxB;IACA,QAAMiE,OAAO,GAAGolB,uBAAuB,CAACjV,UAAD,CAAvC;;IAEA,QAAI,CAACpU,MAAL,EAAa;IACT;IACH;;IACD,QAAI0c,QAAJ,EAAc;IACVvI,MAAAA,QAAQ,CAACzO,OAAT,CAAiB,UAAA3D,OAAA;IACbgS,QAAAA,aAAW,CAAChS,OAAD,EAAU8X,eAAV,CAAX;IACH,OAFD;IAGH,KAJD,MAIO;IACH1F,MAAAA,QAAQ,CAACzO,OAAT,CAAiB,UAAA3D,OAAA;IACbA,QAAAA,OAAO,CAAChC,KAAR,CAAckE,OAAd,IAAyBA,OAAzB;;IACA,YAAInC,UAAQ,CAACC,OAAD,EAAU6X,eAAV,CAAZ,EAAwC;IACpC7F,UAAAA,aAAW,CAAChS,OAAD,EAAU6X,eAAV,CAAX;IACAxY,UAAAA,uBAAqB,CAAC;IAClBA,YAAAA,uBAAqB,CAAC;IAClBiB,cAAAA,UAAQ,CAACN,OAAD,EAAU6X,eAAV,CAAR;IACH,aAFoB,CAArB;IAGH,WAJoB,CAArB;IAKH,SAPD,MAOO;IACHvX,UAAAA,UAAQ,CAACN,OAAD,EAAU6X,eAAV,CAAR;IACH;IACJ,OAZD;IAaH;;IACD,WAAOzF,QAAQ,CAAC,CAAD,CAAf;IACH,GA5BM;;IA6BC,sBAAA,GAAR,UAAqB6J,QAArB,EAAuCmH,MAAvC,EAAgEtO,SAAhE;IAAA,oBAAA;;IACI,QAAM+P,MAAM,GAAoB,EAAhC;IACA,QAAMhC,KAAK,GAAG,KAAKA,KAAL,CAAWvS,KAAX,EAAd;;IAEA,QAAI,CAACuS,KAAK,CAAC5kB,MAAX,EAAmB;IACf,aAAO,EAAP;IACH;;IACD,QAAM8lB,gBAAgB,GAAG,KAAK1P,WAAL,EAAzB;IACC,KAAC,KAAK4Q,QAAL,CAAc,CAAd,CAAF,IAAuBpC,KAAK,CAACgB,OAAN,CAAc,CAAd,CAAvB;IACC,KAAC,KAAKoB,QAAL,CAAclB,gBAAd,CAAF,IAAsClB,KAAK,CAAC1gB,IAAN,CAAW4hB,gBAAX,CAAtC;IACA,QAAMd,OAAO,GAAGgF,UAAU,CAACpF,KAAD,EAAQO,MAAR,CAA1B;IACA,QAAM8E,SAAS,GAAGjF,OAAO,CAACA,OAAO,CAAChlB,MAAR,GAAiB,CAAlB,CAAzB;;IAGAiqB,IAAAA,SAAS,CAAC,CAAD,CAAT,GAAejM,QAAf,IAA2B2H,QAAQ,CAACX,OAAD,EAAUhH,QAAV,EAAoBiM,SAAS,CAAC,CAAD,CAA7B,CAAnC;IACA,QAAInL,QAAQ,GAAG,CAAC,CAAhB;IAEA,WAAOkG,OAAO,CAACpf,GAAR,CAAY,UAAClB,EAAD;cAAEsa;cAAMiG;;IACvB,UAAI,CAAC2B,MAAM,CAAC3B,OAAD,CAAX,EAAsB;IAClB2B,QAAAA,MAAM,CAAC3B,OAAD,CAAN,GACI,CAAC,CAAClX,KAAI,CAAC8Y,QAAL,CAAc5B,OAAd,CAAD,IAA2BA,OAAO,KAAK,CAAvC,IAA4CA,OAAO,KAAKa,gBAAxD,GACG/X,KAAI,CAAC6Z,WAAL,CAAiB3C,OAAjB,CADH,GAC+BlX,KAAI,CAAC6Z,WAAL,CAAiB3C,OAAjB,EAA0B,CAA1B,EAA6B,IAA7B,CADhC,EACoEwC,KADpE,EADJ;IAGH;;IAED,UAAIX,SAAS,GAAG9H,IAAI,GAAGhB,QAAP,GAAkB,GAAlC;;IAEA,UAAI8I,SAAS,GAAGhI,QAAZ,GAAuBlG,SAA3B,EAAsC;IAClCkO,QAAAA,SAAS,IAAIlO,SAAb;IACH;;IACDkG,MAAAA,QAAQ,GAAGgI,SAAX;IACA,aAAU9gB,IAAI,CAACuB,GAAL,CAASuf,SAAT,EAAoB,GAApB,0BAAA,IACJ9H,IAAI,KAAK,CAAT,IAAc,CAAC8B,kBAAkB,CAAC,CAAD,EAAI,CAAJ,EAAOjK,SAAP,CAAjC,GAAqD,EAArD,GAA0D+P,MAAM,CAAC3B,OAAD,CAD5D,qBAAV;IAGH,KAhBM,EAgBJ9gB,IAhBI,CAgBC,EAhBD,CAAP;IAiBH,GAlCO;;IAmCA,sBAAA,GAAR,UACI6a,IADJ,EAEI5K,UAFJ,EAGIvP,IAHJ,EAIIU,KAJJ,EAKI0iB,UALJ,EAMIpS,MANJ,EAOIqU,YAPJ;IASI,QAAMtF,KAAK,GAAG,KAAKA,KAAnB;IACA,QAAM5kB,MAAM,GAAG4kB,KAAK,CAAC5kB,MAArB;IAEA,QAAI8e,QAAJ;IACA,QAAI0F,QAAJ;IACA,QAAI+D,SAAJ;IACA,QAAI4B,SAAJ;;IAEA,SAAK,IAAIlqB,CAAC,GAAG4E,IAAb,EAAmB5E,CAAC,IAAI,CAAxB,EAA2B,EAAEA,CAA7B,EAAgC;IAC5B,UAAM0X,KAAK,GAAG,KAAKqP,QAAL,CAAcpC,KAAK,CAAC3kB,CAAD,CAAnB,CAAd;;IAEA,UAAI0X,KAAK,CAACyS,GAAN,MAAA,CAAAzS,KAAA,EAAavD,UAAb,CAAJ,EAA8B;IAC1B0K,QAAAA,QAAQ,GAAG8F,KAAK,CAAC3kB,CAAD,CAAhB;IACAsoB,QAAAA,SAAS,GAAG5Q,KAAZ;IACA;IACH;IACJ;;IACD,QAAM8M,SAAS,GAAG8D,SAAS,IAAIA,SAAS,CAACnG,GAAV,MAAA,CAAAmG,SAAA,EAAiBnU,UAAjB,CAA/B;;IAEA,QAAI6T,UAAU,IAAI,CAACxF,MAAM,CAAC,CAACrO,UAAU,CAAC,CAAD,CAAX,CAAD,CAAzB,EAA4C;IACxC,aAAO0K,QAAQ,KAAKE,IAAb,GAAoByF,SAApB,GAAgCzY,SAAvC;IACH;;IACD,QAAIke,YAAJ,EAAkB;IACd,aAAOzF,SAAP;IACH;;IACD,SAAK,IAAIxkB,CAAC,GAAGsF,KAAb,EAAoBtF,CAAC,GAAGD,MAAxB,EAAgC,EAAEC,CAAlC,EAAqC;IACjC,UAAM0X,KAAK,GAAG,KAAKqP,QAAL,CAAcpC,KAAK,CAAC3kB,CAAD,CAAnB,CAAd;;IAEA,UAAI0X,KAAK,CAACyS,GAAN,MAAA,CAAAzS,KAAA,EAAavD,UAAb,CAAJ,EAA8B;IAC1BoQ,QAAAA,QAAQ,GAAGI,KAAK,CAAC3kB,CAAD,CAAhB;IACAkqB,QAAAA,SAAS,GAAGxS,KAAZ;IACA;IACH;IACJ;;IACD,QAAM+M,SAAS,GAAGyF,SAAS,IAAIA,SAAS,CAAC/H,GAAV,MAAA,CAAA+H,SAAA,EAAiB/V,UAAjB,CAA/B;;IAEA,QAAI,CAACmU,SAAD,IAAcre,aAAW,CAACua,SAAD,CAA7B,EAA0C;IACtC,aAAOC,SAAP;IACH;;IACD,QAAI,CAACyF,SAAD,IAAcjgB,aAAW,CAACwa,SAAD,CAAzB,IAAwCD,SAAS,KAAKC,SAA1D,EAAqE;IACjE,aAAOD,SAAP;IACH;;IACD,QAAI3F,QAAQ,GAAG,CAAf,EAAkB;IACdA,MAAAA,QAAQ,GAAG,CAAX;IACH;;IACD,WAAOuL,QAAQ,CAACrL,IAAD,EAAOF,QAAP,EAAiB0F,QAAjB,EAA2BC,SAA3B,EAAsCC,SAAtC,EAAiD7O,MAAjD,CAAf;IACH,GAvDO;;IAwDZ,kBAAA;IA/0BA,EAAwBoL,SAAxB;;IClKA;;;;;IAIA;;;IAAoB3B,EAAAA,SAAA,MAAA,QAAA;IAUhB;;;;;;;;;;;;;;;;;;;;;;;;;;IAwBA,gBAAA,CAAYlL,UAAZ,EAAuC5K,OAAvC;IAAA,gBACIsE,WAAA,KAAA,SADJ;;IAEIC,IAAAA,KAAI,CAACoY,KAAL,GAAa,EAAb;;IACApY,IAAAA,KAAI,CAAC8X,IAAL,CAAUzR,UAAV,EAAsB5K,OAAtB;;;IACH;;;;IACM,qBAAA,GAAP;IACI,QAAM2c,KAAK,GAAG,KAAKA,KAAnB;IACA,QAAInH,IAAI,GAAG,CAAX;;IAEA,SAAK,IAAMpd,EAAX,IAAiBukB,KAAjB,EAAwB;IACpB,UAAM3J,IAAI,GAAG2J,KAAK,CAACvkB,EAAD,CAAlB;IAEAod,MAAAA,IAAI,GAAGhZ,IAAI,CAACC,GAAL,CAAS+Y,IAAT,EAAexC,IAAI,CAAC8N,gBAAL,KAA0B9N,IAAI,CAAC+N,YAAL,EAAzC,CAAP;IACH;;IACD,WAAOvkB,IAAI,CAACC,GAAL,CAAS+Y,IAAT,EAAe,KAAK3Q,KAAL,CAAWwK,QAAX,CAAf,CAAP;IACH,GAVM;;IAWA,qBAAA,GAAP,UAAmBmF,QAAnB;IACI,QAAMmI,KAAK,GAAG,KAAKA,KAAnB;IACA,QAAMqE,aAAa,GAAG,KAAKpU,WAAL,EAAtB;;IAEA,QAAI4H,QAAQ,KAAK,CAAb,IAAkB,CAACE,QAAQ,CAACsM,aAAD,CAA/B,EAAgD;IAC5C,aAAO,IAAP;IACH;;IACD,QAAIA,aAAa,KAAK,CAAtB,EAAyB;IACrB,WAAK,IAAM5oB,EAAX,IAAiBukB,KAAjB,EAAwB;IACpB,YAAM3J,IAAI,GAAG2J,KAAK,CAACvkB,EAAD,CAAlB;IAEA4a,QAAAA,IAAI,CAACoD,WAAL,CAAiB5B,QAAjB;IACH;IACJ,KAND,MAMO;IACH,UAAM2G,KAAK,GAAG3G,QAAQ,GAAGwM,aAAzB;;IAEA,WAAK,IAAM5oB,EAAX,IAAiBukB,KAAjB,EAAwB;IACpB,YAAM3J,IAAI,GAAG2J,KAAK,CAACvkB,EAAD,CAAlB;IAEA4a,QAAAA,IAAI,CAACiO,QAAL,CAAcjO,IAAI,CAACmK,QAAL,KAAkBhC,KAAhC;IACAnI,QAAAA,IAAI,CAACoD,WAAL,CAAiBpD,IAAI,CAACpG,WAAL,KAAqBuO,KAAtC;IACH;IACJ;;IACD7W,IAAAA,gBAAA,CAAM8R,WAAN,KAAA,KAAA,EAAkB5B,QAAlB;;IACA,WAAO,IAAP;IACH,GAzBM;IA4BP;;;;;;;;;;IAQO,iBAAA,GAAP,UAAe9d,IAAf,EAAsCyV,KAAtC;IACI,QAAIA,KAAK,IAAI,IAAb,EAAmB;IACf,aAAQ,KAAKwQ,KAAL,CAAWjmB,IAAX,EAA2BuX,OAA3B,CAAmC9B,KAAnC,CAAR;IACH;;IACD,WAAO,KAAKwQ,KAAL,CAAWjmB,IAAX,CAAP;IACH,GALM;IAMP;;;;;;;;;;IAQO,iBAAA,GAAP,UAAeA,IAAf,EAAsCsJ,OAAtC;IAAsC,0BAAA,EAAA;IAAAA,MAAAA,YAAA;;;IAClC,QAAItJ,IAAI,IAAI,KAAKimB,KAAjB,EAAwB;IACpB;IACH;;IACD,QAAM3J,IAAI,GAAG,IAAIkK,SAAJ,EAAb;IAEA,SAAKgE,OAAL,CAAaxqB,IAAb,EAAmBsc,IAAnB;IACAA,IAAAA,IAAI,CAACb,UAAL,CAAgBnS,OAAhB;IAEA,WAAOgT,IAAP;IACH,GAVM;IAWP;;;;;;;;;IAOO,iBAAA,GAAP,UAAetc,IAAf,EAAsCsc,IAAtC;IACIA,IAAAA,IAAI,CAACY,KAAL,CAAWld,IAAX;IACA,SAAKimB,KAAL,CAAWjmB,IAAX,IAAmBsc,IAAnB;IACA,WAAO,IAAP;IACH,GAJM;;IAKA,iBAAA,GAAP,UAAewC,IAAf,EAAsCmB,MAAtC,EAAwDuH,YAAxD;IACI5Z,IAAAA,gBAAA,CAAMiJ,OAAN,KAAA,KAAA,EAAciI,IAAd,EAAoBmB,MAApB;;IAEA,QAAMX,aAAa,GAAG,KAAKgB,gBAAL,EAAtB;IACA,QAAM2F,KAAK,GAAG,KAAKA,KAAnB;IACA,QAAMtQ,MAAM,GAAG,KAAK8R,SAAL,MAAoBD,YAAnC;IACA,QAAMd,MAAM,GAAiB,EAA7B;;IAEA,SAAK,IAAMhlB,EAAX,IAAiBukB,KAAjB,EAAwB;IACpB,UAAM3J,IAAI,GAAG2J,KAAK,CAACvkB,EAAD,CAAlB;IAEA4a,MAAAA,IAAI,CAACzF,OAAL,CAAayI,aAAa,GAAGhD,IAAI,CAAC+N,YAAL,EAAhB,GAAsC/N,IAAI,CAACmK,QAAL,EAAnD,EAAoExG,MAApE,EAA4EtK,MAA5E;IAEA+Q,MAAAA,MAAM,CAACpK,IAAI,CAACW,KAAL,EAAD,CAAN,GAAuBX,IAAI,CAACqL,IAA5B;IACH;;IACD,SAAKA,IAAL,GAAYjB,MAAZ;IAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA+BA,SAAKtc,OAAL,CAAa,SAAb,EAAwB;IACpBsc,MAAAA,MAAM,QADc;IAEpBrI,MAAAA,WAAW,EAAE,KAAKpd,OAAL,EAFO;IAGpB6d,MAAAA,IAAI,EAAEQ;IAHc,KAAxB;IAMA,WAAO,IAAP;IACH,GAvDM;IAwDP;;;;;;;IAKO,iBAAA,GAAP,UAAe3K,IAAf;IACI,QAAMsR,KAAK,GAAG,KAAKA,KAAnB;;IAEA,SAAK,IAAMjmB,IAAX,IAAmBimB,KAAnB,EAA0B;IACtBtR,MAAAA,IAAI,CAACsR,KAAK,CAACjmB,IAAD,CAAN,EAAcA,IAAd,EAAoBimB,KAApB,CAAJ;IACH;;IACD,WAAO,IAAP;IACH,GAPM;;IAQA,eAAA,GAAP,UACIwC,aADJ,EAEI3K,QAFJ,EAE2C2M,YAF3C;IAEI,2BAAA,EAAA;IAAA3M,MAAAA,WAAmB,KAAK5H,WAAL,EAAnB;;;IAAuC,+BAAA,EAAA;IAAAuU,MAAAA,iBAAA;;;IACvC,QAAMC,aAAa,GAAG,CAAC5M,QAAD,IAAa,CAACE,QAAQ,CAACF,QAAD,CAAtB,GAAmC,CAAnC,GAAuCA,QAA7D;IACA,QAAMpe,MAAM,GAAa,EAAzB;IACA,QAAMyO,KAAK,GAAG,KAAKA,KAAnB;IAEAA,IAAAA,KAAK,CAACwK,QAAD,CAAL,GAAkB,KAAKzC,WAAL,EAAlB;IAEA,SAAK1Q,OAAL,CAAa,UAAA8W,IAAA;IACT5c,MAAAA,MAAM,CAACsE,IAAP,CAAYsY,IAAI,CAACiL,KAAL,CAAWkB,aAAX,EAA0BiC,aAA1B,EAAyCD,YAAY,CAAChgB,MAAb,CAAoB0D,KAApB,CAAzC,CAAZ;IACH,KAFD;IAGA,WAAOzO,MAAM,CAACuE,IAAP,CAAY,EAAZ,CAAP;IACH,GAbM;IAcP;;;;;;;IAKO,mBAAA,GAAP,UACIwkB,aADJ,EACmC3K,QADnC,EACsD2M,YADtD;IAEI,QAAMthB,GAAG,GAAG,KAAKoe,KAAL,CAAWkB,aAAX,EAA0B3K,QAA1B,EAAoC2M,YAApC,CAAZ;IAEA,KAAC,CAACA,YAAD,IAAiB,CAACA,YAAY,CAAC3qB,MAAhC,KAA2C2W,SAAS,CAACqS,SAAS,CAAC,IAAD,CAAV,EAAkB3f,GAAlB,CAApD;IACA,WAAO,IAAP;IACH,GANM;;IAOA,gBAAA,GAAP,UAAcmT,IAAd;IACIA,IAAAA,IAAI,CAACiO,QAAL,CAAcjO,IAAI,CAACmK,QAAL,KAAkB,KAAKvQ,WAAL,EAAhC;IACA,SAAKsU,OAAL,CAAa1B,SAAS,CAACxM,IAAD,CAAtB,EAA8BA,IAA9B;IACH,GAHM;;IAIA,kBAAA,GAAP;IACI,WAAO,KAAK9W,OAAL,CAAa,UAAA8W,IAAA;IAChBA,MAAAA,IAAI,CAACqN,QAAL;IACH,KAFM,CAAP;IAGH,GAJM;;IAKA,eAAA,GAAP;IACI/b,IAAAA,gBAAA,CAAMiK,KAAN,KAAA,KAAA;;IAEAyF,IAAAA,WAAW,CAAC,IAAD,CAAX,IAAqB,KAAKqM,QAAL,EAArB;IACA,SAAKnkB,OAAL,CAAa,UAAA8W,IAAA;IACTA,MAAAA,IAAI,CAACzE,KAAL;IACH,KAFD;IAGA,WAAO,IAAP;IACH,GARM;;IASA,gBAAA,GAAP;IACI,QAAMoO,KAAK,GAAG,KAAKA,KAAnB;;IAEA,SAAK,IAAMvkB,EAAX,IAAiBukB,KAAjB,EAAwB;IACpBA,MAAAA,KAAK,CAACvkB,EAAD,CAAL,CAAUmoB,MAAV;IACH;;IACDpM,IAAAA,UAAU,CAAC,IAAD,EAAO,KAAP,CAAV;IACH,GAPM;;IAQA,aAAA,GAAP;IACImM,IAAAA,UAAU,CAAC,IAAD,CAAV,IAAoB,KAAKC,MAAL,EAApB;;IACAjc,IAAAA,gBAAA,CAAMoS,GAAN,KAAA,KAAA;;IACA,WAAO,IAAP;IACH,GAJM;;IAKA,sBAAA,GAAP,UAAoBxD,QAApB,EAAuCa,aAAvC,EAA+DnJ,UAA/D;IAA+D,6BAAA,EAAA;IAAAA,MAAAA,eAAA;;;IAC3D,QAAM+R,KAAK,GAAG,KAAKA,KAAnB;IACA,QAAI0E,eAAJ;;IAEA,SAAK,IAAMjpB,EAAX,IAAiBukB,KAAjB,EAAwB;IACpB,UAAMviB,EAAE,GAAGuiB,KAAK,CAACvkB,EAAD,CAAL,CAAU6b,YAAV,CAAuBf,QAAvB,EAAiCa,aAAjC,EAAgDnJ,UAAhD,CAAX;IAEA,OAACyW,eAAD,KAAqBA,eAAe,GAAGjnB,EAAvC;IACH;;IACD,WAAOinB,eAAP;IACH,GAVM;IAWP;;;;;;;;;;;;;;;;IAcO,iBAAA,GAAP,UAAevN,WAAf,EAAmCC,aAAnC,EAA2DnJ,UAA3D;IAAe,8BAAA,EAAA;IAAAkJ,MAAAA,kBAAA;;;IAA4C,6BAAA,EAAA;IAAAlJ,MAAAA,eAAA;;;IACvDoC,IAAAA,OAAO,CAAC,IAAD,EAAO8G,WAAP,EAAoBC,aAApB,EAAmCnJ,UAAnC,CAAP;IACA,WAAO,IAAP;IACH,GAHM;;IAKA,aAAA,GAAP,UAAWA,UAAX;IACI,SAAKyR,IAAL,CAAUzR,UAAV;IACA,WAAO,IAAP;IACH,GAHM;;IAIA,cAAA,GAAP,UAAYA,UAAZ,EAAkC5K,OAAlC;IAAY,6BAAA,EAAA;IAAA4K,MAAAA,eAAA;;;IAAsB,0BAAA,EAAA;IAAA5K,MAAAA,UAAU4K,UAAU,CAAC5K,OAArB;;;IAC9B,QAAI,CAAC4K,UAAL,EAAiB;IACb,aAAO,IAAP;IACH;;IACD,QAAM0W,UAAU,GAAGthB,OAAO,IAAIA,OAAO,CAACgR,QAAD,CAAlB,IAAgC,KAAKnM,KAAL,CAAWmM,QAAX,CAAnD;;IAEA,SAAK,IAAMta,IAAX,IAAmBkU,UAAnB,EAA+B;IAC3B,UAAIlU,IAAI,KAAK,SAAb,EAAwB;IACpB;IACH;;IACD,UAAM0hB,MAAM,GAAGxN,UAAU,CAAClU,IAAD,CAAzB;IACA,UAAIsc,IAAI,SAAR;;IAEA,UAAIoF,MAAM,YAAYrM,KAAlB,IAA2BqM,MAAM,YAAY8E,SAAjD,EAA4D;IACxD,aAAKgE,OAAL,CAAaxqB,IAAb,EAAmB0hB,MAAnB;IACApF,QAAAA,IAAI,GAAGoF,MAAP;IACH,OAHD,MAGO,IAAIpQ,YAAU,CAACoQ,MAAD,CAAV,IAAsBkJ,UAA1B,EAAsC;IACzC,YAAM3W,QAAQ,GAAG9U,WAAS,GAAGsN,GAAC,CAACzM,IAAD,EAAO,IAAP,CAAJ,GAAoD,EAA9E;IACA,YAAMF,MAAM,GAAGmU,QAAQ,CAACnU,MAAxB;IACA,YAAMwV,KAAK,GAAG,IAAID,KAAJ,EAAd;;IAEA,aAAK,IAAItV,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;IAC7B,cAAM2B,EAAE,GAAGyb,MAAM,EAAjB;IAEA7H,UAAAA,KAAK,CAACuV,OAAN,CAAc,KAAG9qB,CAAjB,EAAsB;IAClB2B,YAAAA,EAAE,IADgB;IAElBoU,YAAAA,QAAQ,EAAE,MAAIoC,aAAJ,QAAA,GAAsBxW,EAAtB,QAFQ;IAGlBuS,YAAAA,QAAQ,EAAEA,QAAQ,CAAClU,CAAD;IAHA,WAAtB,EAIG4lB,IAJH,CAIQjE,MAAM,CAAC3hB,CAAD,EAAIkU,QAAQ,CAAClU,CAAD,CAAZ,CAJd;IAKH;;IACD,aAAKyqB,OAAL,CAAaxqB,IAAb,EAAmBsV,KAAnB;IACA;IACH,OAhBM,MAgBA;IACHgH,QAAAA,IAAI,GAAG,KAAKuO,OAAL,CAAa7qB,IAAb,CAAP;IACAsc,QAAAA,IAAI,CAACqJ,IAAL,CAAUjE,MAAV;IACH;;IACDkJ,MAAAA,UAAU,IAAItO,IAAI,CAACwO,WAAL,CAAiB9qB,IAAjB,CAAd;IACH;;IACD,SAAKyb,UAAL,CAAgBnS,OAAhB;IACH,GAvCM;;IAwCA,oBAAA,GAAP,UAAkBA,OAAlB;IAAkB,0BAAA,EAAA;IAAAA,MAAAA,YAAA;;;IACdsE,IAAAA,gBAAA,CAAM6N,UAAN,KAAA,KAAA,EAAiBnS,OAAjB;;IAEA,QAAIA,OAAO,CAACwM,QAAZ,EAAsB;IAClB,WAAK3H,KAAL,CAAWmM,QAAX,IAAuB,IAAvB;IACH;;IACD,WAAO,IAAP;IACH,GAPM;;IAQA,qBAAA,GAAP,UAAmBvL,MAAnB;IACI,QAAMZ,KAAK,GAAG,KAAKA,KAAnB;IACA,QAAMyc,UAAU,GAAG7b,MAAM,IAAIZ,KAAK,CAACmM,QAAD,CAAlC;IAEAnM,IAAAA,KAAK,CAACmM,QAAD,CAAL,GAAkBvL,MAAlB;IACA,SAAKvJ,OAAL,CAAa,UAAC8W,IAAD,EAAOtc,IAAP;IACTsc,MAAAA,IAAI,CAACwO,WAAL,CAAiBF,UAAU,GAAG5qB,IAAH,GAAU,KAArC;IACH,KAFD;IAGH,GARM;;IASA,eAAA,GAAP,UAAawV,KAAb;IACI5H,IAAAA,gBAAA,CAAMmS,KAAN,KAAA,KAAA,EAAYvK,KAAZ;;IACA,SAAKhQ,OAAL,CAAa,UAAA8W,IAAA;IACTA,MAAAA,IAAI,CAACyD,KAAL,CAAWvK,KAAX;IACH,KAFD;IAGH,GALM;IAnVP;;;;;;;;IAMcH,EAAAA,aAAA,GAAkB,eAAlB;IAmVlB,cAAA;IAAC,EA1VmB0L,SAApB;;sBCbuBpC;IACrB,SAAO,IAAI6H,SAAJ,CAAc;IACnBtW,IAAAA,SAAS,EAAEyO;IADQ,GAAd,EAEJ;IACD5P,IAAAA,MAAM,EAAEzP,QAAQ,CAACM,eADhB;IAEDke,IAAAA,QAAQ,EAAE,CAFT;IAGDnI,IAAAA,MAAM,EAAE4F;IAHP,GAFI,EAMJhF,IANI,EAAP;IAOD;;ICND,IAAMwU,MAAM,GAAGte,GAAC,CAAC,QAAD,CAAhB;IACA,IAAMue,KAAK,GAAGve,GAAC,CAAC,sBAAD,EAAyB,IAAzB,CAAf;IAEAyF,OAAO,CAAC8Y,KAAD,CAAP,CAAexlB,OAAf,CAAuB,UAACylB,IAAD,EAAOlrB,CAAP;IACnB,MAAM+O,IAAI,GAAGZ,KAAK,CAACnO,CAAD,CAAlB;IAEA+O,EAAAA,IAAI,CAACJ,KAAL,CAAW,CAAC,YAAD,EAAe,QAAf,CAAX,EAAqCnD,EAArC,CAAwC;IACpC6C,IAAAA,KAAK,EAAE,UAAAlL,CAAA;IACHf,MAAAA,UAAQ,CAAC8oB,IAAD,EAAO,OAAP,CAAR;IACH,KAHmC;IAIpCC,IAAAA,IAAI,EAAE,UAAAhoB,CAAA;IACF2Q,MAAAA,aAAW,CAACoX,IAAD,EAAO,OAAP,CAAX;IACH;IANmC,GAAxC;IAQAA,EAAAA,IAAI,CAACxd,gBAAL,CAAsB,OAAtB,EAA+B,UAAAvK,CAAA;IAC3BA,IAAAA,CAAC,CAACioB,cAAF;IACA5c,IAAAA,QAAM,CAACO,IAAI,CAAC9I,OAAL,CAAa,IAAb,EAAmBpB,GAApB,CAAN;IACH,GAHD;IAIH,CAfD;IAgBAsJ,KAAK,CAAC1I,OAAN,CAAc,UAACsJ,IAAD,EAAO/O,CAAP;IACV,MAAIA,CAAC,GAAG,CAAJ,KAAU,CAAd,EAAiB;IACb;IACH;;IACD+O,EAAAA,IAAI,CAACJ,KAAL,CAAW,CAAC,aAAD,EAAgB,WAAhB,CAAX,EAAyCnD,EAAzC,CAA4C;IACxC6C,IAAAA,KAAK,EAAE,UAAAlL,CAAA;IACHf,MAAAA,UAAQ,CAAC4oB,MAAD,EAAS,OAAT,CAAR;IACH,KAHuC;IAIxCG,IAAAA,IAAI,EAAE,UAAAhoB,CAAA;IACF2Q,MAAAA,aAAW,CAACkX,MAAD,EAAS,OAAT,CAAX;IACH;IANuC,GAA5C;IAQH,CAZD;;ICXAxc,MAAM;;;;"}