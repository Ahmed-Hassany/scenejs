/*
Copyright (c) 2017 Daybrush
name: scenejs
license: MIT
author: Daybrush
repository: https://github.com/daybrush/scenejs.git
version: 1.0.0-rc5
*/
!function(){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var t="undefined";typeof document!==t&&document;function m(t,e){t.classList?t.classList.add(e):t.className+=" "+e}var F=function(){return(F=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function I(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}var y="__shape-svg";function j(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function D(){var t=j("svg");return m(t,y),t}function A(t,e){for(var n in e)t.setAttribute(n,e[n])}function L(t,e,n){var r=function(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var n=e[1],r=e[2];return{prefix:n,unit:e[3],value:parseFloat(r)}}(t);return"%"===r.unit?e+n*r.value/100+"px":"px"===r.unit?e+r.value+"px":"calc("+e+"px + "+t+")"}function z(e,t){var n,r,i=t.width,a=t.height,o=t.left,s=t.right,u=t.bottom,f=t.top,c=t.strokeWidth,h=t.className;if(e&&(r=y,(n=e).classList?n.classList.contains(r):n.className.match(new RegExp("(\\s|^)"+r+"(\\s|$)")))){h&&h.split(" ").forEach(function(t){m(e,t)});var l=(e.getAttribute("viewBox")||"").split(" ").map(function(t){return parseFloat(t||"0")}),p=l[2],v=void 0===p?0:p,d=l[3],g=void 0===d?0:d;e.setAttribute("viewBox","0 0 "+Math.max(o+i+s+c,v)+" "+Math.max(f+a+u+c,g))}}function i(t,e,n){var r=e.left,i=void 0===r?0:r,a=e.top,o=void 0===a?0:a,s=e.right,u=void 0===s?0:s,f=e.bottom,c=void 0===f?0:f,h=e.side,l=e.split,p=e.rotate,v=e.innerRadius,d=e.height,g=e.width,m=e.fill,y=void 0===m?"transparent":m,S=e.strokeLinejoin,w=void 0===S?"round":S,x=e.strokeWidth,E=void 0===x?0:x,b=e.css,_=void 0!==b&&b,T=e.className,k=I(e,["left","top","right","bottom","side","split","rotate","innerRadius","height","width","fill","strokeLinejoin","strokeWidth","css","className"]),C=function(t){for(var e=t.left,n=void 0===e?0:e,r=t.top,i=void 0===r?0:r,a=t.side,o=void 0===a?3:a,s=t.rotate,u=void 0===s?0:s,f=t.innerRadius,c=void 0===f?100:f,h=t.height,l=void 0===h?0:h,p=t.split,v=void 0===p?1:p,d=t.width,g=void 0===d?l?0:100:d,m=t.strokeLinejoin,y=void 0===m?"round":m,S=t.strokeWidth,w=void 0===S?0:S,x=[],E=[],b=Math.cos(Math.PI/o),_=Math.PI/180*u+Math.PI*((o%2?0:1/o)-.5),T=0;T<o;++T){var k=Math.PI*(1/o*2*T)+_,C=Math.cos(k),O=Math.sin(k);if(x.push(C),E.push(O),100!==c){if(b<=c/100)continue;x.push(c/100*Math.cos(k+Math.PI/o)),E.push(c/100*Math.sin(k+Math.PI/o))}}var M=Math.min.apply(Math,x),N=Math.min.apply(Math,E),F=Math.max.apply(Math,x),I=Math.max.apply(Math,E),j=g?g/(F-M):l/(I-N),D="miter"===y||"arcs"===y||"miter-clip"===y,A=Math.sin(Math.PI/o),L=Math.min(b,c/100),z=j*L,P=w/2/(b===L?1:Math.sin(Math.atan(A/(b-L)))),R=D?(z+P)/z:1,U=D?0:w/2;x=x.map(function(t){return(t-M*R)*j+U}),E=E.map(function(t){return(t-N*R)*j+U});var H=(F-M)*R*j+2*U,W=(I-N)*R*j+2*U,V=x.length,q=[];for(q.push([n+x[0],i+E[0]]),T=1;T<=V;++T)for(var $=x[T-1],Y=E[T-1],X=x[T===V?0:T],Z=E[T===V?0:T],K=1;K<=v;++K){var B=($*(v-K)+X*K)/v,J=(Y*(v-K)+Z*K)/v;q.push([n+B,i+J])}return{points:q,width:H,height:W}}({left:i,top:o,split:l,side:h,rotate:p,width:g,height:d,innerRadius:v,strokeLinejoin:w,strokeWidth:E}),O=C.points;z(n,{left:i,top:o,bottom:c,right:u,className:T,strokeWidth:0,width:C.width,height:C.height});var M=O.map(function(t,e){return(0===e?"M":"L")+" "+t.join(" ")}).join(" ")+" Z";_?function(t,e){var n=[];for(var r in e)n.push(r+":"+e[r]+";");t.style.cssText+=n.join("")}(t,{d:"path('"+M+"')"}):A(t,{d:M}),A(t,F({fill:y,"stroke-linejoin":w,"stroke-width":""+E},k))}function e(t,e){void 0===e&&(e=D());var n=j("path");return i(n,t,e),e.appendChild(n),e}function n(t,e){void 0===e&&(e=D());var n=t.left,r=void 0===n?0:n,i=t.top,a=void 0===i?0:i,o=t.right,s=void 0===o?0:o,u=t.bottom,f=void 0===u?0:u,c=t.fill,h=void 0===c?"transparent":c,l=t.strokeLinejoin,p=void 0===l?"round":l,v=t.strokeWidth,d=void 0===v?0:v,g=t.className,m=t.r,y=void 0===m?0:m,S=t.rx,w=void 0===S?y:S,x=t.ry,E=void 0===x?y:x,b=t.width,_=void 0===b?2*w:b,T=t.height,k=void 0===T?2*E:T,C=t.origin,O=I(t,["left","top","right","bottom","fill","strokeLinejoin","strokeWidth","className","r","rx","ry","width","height","origin"]),M=j("ellipse"),N=d/2;return z(e,{strokeWidth:d,left:r,top:a,bottom:f,right:s,className:g,width:_,height:k}),function(t,e){var n=e.width,r=e.height,i=e.left,a=e.top,o=e.origin;if(o){var s=(""+o).split(" "),u=s[0],f=s[1],c=void 0===f?u:f;u=L(u,i,n),c=L(c,a,r),t.style.transformOrigin=u+" "+c}}(M,{left:r+N,top:a+N,width:_,height:k,origin:C}),A(M,F({fill:h,cx:r+N+_/2,cy:a+N+k/2,rx:_/2-N,ry:k/2-N,"stroke-linejoin":p,"stroke-width":""+d},O)),e.appendChild(M),e}function u(t){return void 0===t}var a=function(){var t=function(){function t(){this._eventHandler={},this.options={}}var e=t.prototype;return e.trigger=function(t,e){void 0===e&&(e={});var n=this._eventHandler[t]||[];if(!(0<n.length))return!0;n=n.concat(),e.eventType=t;var r=!1,i=[e],a=0;e.stop=function(){r=!0},e.currentTarget=this;for(var o=arguments.length,s=new Array(2<o?o-2:0),u=2;u<o;u++)s[u-2]=arguments[u];for(1<=s.length&&(i=i.concat(s)),a=0;n[a];a++)n[a].apply(this,i);return!r},e.once=function(i,a){if("object"==typeof i&&u(a)){var t,e=i;for(t in e)this.once(t,e[t]);return this}if("string"==typeof i&&"function"==typeof a){var o=this;this.on(i,function t(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];a.apply(o,n),o.off(i,t)})}return this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,e){if("object"==typeof t&&u(e)){var n,r=t;for(n in r)this.on(n,r[n]);return this}if("string"==typeof t&&"function"==typeof e){var i=this._eventHandler[t];u(i)&&(this._eventHandler[t]=[],i=this._eventHandler[t]),i.push(e)}return this},e.off=function(t,e){if(u(t))return this._eventHandler={},this;if(u(e)){if("string"==typeof t)return this._eventHandler[t]=void 0,this;var n,r=t;for(n in r)this.off(n,r[n]);return this}var i,a,o=this._eventHandler[t];if(o)for(i=0;void 0!==(a=o[i]);i++)if(a===e){o=o.splice(i,1);break}return this},t}();return t.VERSION="2.1.2",t}(),c="object",f="undefined",h=typeof document!==f&&document;function l(t){return Array.isArray(t)}var p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function v(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var d=0,g=0;function S(){d=window.innerWidth,g=window.innerHeight}window.addEventListener("resize",S),S();var w={get width(){return d},get height(){return g}},x=function(f){function a(t,e){void 0===e&&(e={});var n,r,i,a=f.call(this)||this;if(a.ranges={},a._range=[0,"100%"],a.horizontal=!1,a.margin=[0,0],a.pages=[],a.state={enter:!1,firstEnter:!1,firstExit:!1},a.scroll=function(){a.triggerEvent("scroll"),a.onCheck()},a.resize=function(){a.triggerEvent("resize"),a.onCheck()},a.el=t?(i=t)&&typeof i===c?t:(n=t,r?h.querySelectorAll(n):h.querySelector(n)):null,"range"in e){var o=e.range,s=l(o)?o:[o,o];a._range=s}if("margin"in e){var u=e.margin;l(u)?a.margin=u:a.margin=[u,u]}return"events"in e&&e.events.forEach(function(t){"resize"===t?window.addEventListener("resize",a.resize):"scroll"===t?window.addEventListener("scroll",a.scroll):a.el&&a.el.addEventListener(t,a.scroll)}),"horizontal"in e&&(a.horizontal=e.horizontal),a}v(a,f);var t=a.prototype;return t.add=function(t){return this.pages.push(t),this},t.range=function(t,e){void 0===t&&(t=[0,"100%"]);var n=l(t)?t:[t,t],r="["+n.join(",")+"]";if(this.ranges[r])return this.ranges[r];var i=new a(this.el,{range:n,horizontal:e});return this.ranges[r]=i,this.add(i),i},t.triggerEvent=function(t){this.trigger(t,{target:this.el})},t.onEnter=function(e){var n=this,t=this.state;t.enter||(t.enter=!0,t.firstEnter||(t.firstEnter=!0,this.triggerEvent("firstEnter")),this.triggerEvent("enter")),this.pages.forEach(function(t){t.onCheck(t.el===n.el?e:void 0)})},t.onExit=function(){var t=this.state;t.enter&&(t.enter=!1,t.firstExit||(t.firstExit=!0,this.triggerEvent("firstExit")),this.triggerEvent("exit")),this.pages.forEach(function(t){t.onExit()})},t.calcSize=function(t,e){if("number"==typeof t)return t;var n=t.match(/("[^"]*")|('[^']*')|([^\s()]*(?:\((?:[^()]*|\([^()]*\))*\))[^\s()]*)|\S+/g)||[];if(!n)return 0;for(var r=n.length,i=[],a=1,o=0;o<r;++o){var s=n[o];"+"===s?a=1:"-"===s?a=-1:"*"===s?(i.push((i.pop()||0)*this._calcSize(n[o+1],e)),++o):"/"===s?(i.push((i.pop()||0)/this._calcSize(n[o+1],e)),++o):(i.push(a*this._calcSize(s,e)),a=1)}return i.reduce(function(t,e){return t+e},0)},t.getRect=function(t){var e=this.el?this.el.getBoundingClientRect():void 0;if(e){var n=e.width,r=e.height,i=e.left+(t?document.body.scrollLeft||document.documentElement.scrollLeft:0);return{top:e.top+(t?document.body.scrollTop||document.documentElement.scrollTop:0),left:i,width:n,height:r}}},t.onCheck=function(t){if(void 0===t&&(t=this.getRect()),t){var e=this.horizontal,n=t[e?"left":"top"],r=w[e?"width":"height"],i=this.calcSize(this._range[0],t),a=this.calcSize(this._range[1],t),o=this.calcSize(this.margin[0],t);n+a+this.calcSize(this.margin[1],t)<=0||r<=n+i-o?this.onExit():this.onEnter(t)}else this.pages.forEach(function(t){t.onCheck()})},t._calcSize=function(t,e){if(!t)return 0;if("number"==typeof t)return t;var n,r,i=this.horizontal?"width":"height";if("window"===t)return w[i];if(-1<t.indexOf("("))return this.calcSize((n=t,r=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(n),!r||r.length<4?{}:{prefix:r[1],value:r[2],suffix:r[3]}).value,e);var a=function(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var n=e[1],r=e[2];return{prefix:n,unit:e[3],value:parseFloat(r)}}(t);return"%"===a.unit?e[i]*a.value/100:a.value},a}(a),E=function(e){function t(t){return void 0===t&&(t={}),e.call(this,void 0,t)||this}return v(t,e),t}(x);x.s=E;var b=new x.s({events:["resize","scroll"]}),_=[];function T(t){_.push(t),b.add(t)}var k="rgb",C="rgba",O="hsl",M="hsla",N=[k,C,O,M],P="function",R="property",U="array",H="object",W="string",V="number",q="undefined",$=typeof window!==q,Y=typeof document!==q&&document,X=["webkit","ms","moz","o"],Z=function(t){if(!Y)return"";var e=(Y.body||Y.documentElement).style,n=X.length;if(typeof e[t]!==q)return t;for(var r=0;r<n;++r){var i="-"+X[r]+"-"+t;if(typeof e[i]!==q)return i}return""},K=Z("transform"),B=Z("filter"),J=Z("animation"),G=J.replace("animation","keyframes");function Q(t){return typeof t===q}function tt(t){return t&&typeof t===H}function et(t){return Array.isArray(t)}function nt(t){return typeof t===W}function rt(t){return typeof t===P}function it(t){var e=t.match(/("[^"]*"|'[^']*'|[^,\s()]*\((?:[^()]*|\([^()]*\))*\)[^,\s()]*|[^,])+/g);return e?e.map(function(t){return t.trim()}):[]}function at(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function ot(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var n=e[1],r=e[2];return{prefix:n,unit:e[3],value:parseFloat(r)}}function st(t){return t.replace(/[\s-_]([a-z])/g,function(t,e){return e.toUpperCase()})}function ut(t,r){return void 0===r&&(r="-"),t.replace(/([a-z])([A-Z])/g,function(t,e,n){return""+e+r+n.toLowerCase()})}function ft(t){return[].slice.call(t)}function ct(){return Date.now?Date.now():(new Date).getTime()}var ht=function(){var n=ct(),t=$&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame);return t?t.bind(window):function(t){var e=ct();return window.setTimeout(function(){t(e-n)},1e3/60)}}();function lt(t){var e=t.replace("#",""),n=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),i=parseInt(e.substring(4,6),16),a=parseInt(e.substring(6,8),16)/255;return isNaN(a)&&(a=1),[n,r,i,a]}function pt(t){if("#"===t.charAt(0))return 4===t.length||5===t.length?lt((f=(u=t).charAt(1),c=u.charAt(2),h=u.charAt(3),l=u.charAt(4),["#",f,f,c,c,h,h,l,l].join(""))):lt(t);if(-1!==t.indexOf("(")){var e=at(t),n=e.prefix,r=e.value;if(!n||!r)return;var i=it(r),a=[],o=i.length;switch(n){case k:case C:for(var s=0;s<o;++s)a[s]=parseFloat(i[s]);return a;case O:case M:for(s=0;s<o;++s)-1!==i[s].indexOf("%")?a[s]=parseFloat(i[s])/100:a[s]=parseFloat(i[s]);return function(t){var e=t[0],n=t[1],r=t[2];e<0&&(e+=360*Math.floor((Math.abs(e)+360)/360)),e%=360;var i,a=(1-Math.abs(2*r-1))*n,o=a*(1-Math.abs(e/60%2-1)),s=r-a/2;return e<60?i=[a,o,0]:e<120?i=[o,a,0]:e<180?i=[0,a,o]:e<240?i=[0,o,a]:e<300?i=[o,0,a]:e<360&&(i=[a,0,o]),[Math.round(255*(i[0]+s)),Math.round(255*(i[1]+s)),Math.round(255*(i[2]+s)),3<t.length?t[3]:1]}(a)}}var u,f,c,h,l}function vt(t,e){return e?Y.querySelectorAll(t):Y.querySelector(t)}function dt(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function gt(t,e){if(t.classList)t.classList.remove(e);else{var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}function mt(t,e,n,r){t.addEventListener(e,n,r)}function yt(t,e,n){t.removeEventListener(e,n)}var St=document.querySelector(".clapper");function wt(t,e,n,r,i){void 0===r&&(r=10),void 0===i&&(i=15);var a=e(s({left:r,top:i,opacity:1},n));return e(s({left:2*r,top:2*i,opacity:.2},n),a),t.appendChild(a),a}for(var xt=1;xt<=6;++xt){var Et=170-20*(xt-1),bt=600/Et;wt(St,n,{className:"svg_circle svg_circle"+xt+" center",r:50-bt,strokeWidth:bt,strokeLinejoin:"round","stroke-linecap":"round",stroke:"#333",rotate:-360,origin:"50% 50%"},5,5).style.cssText="width: "+Et+"px; height: "+Et+"px;"}wt(St,e,{className:"play_btn back",side:3,width:60,strokeWidth:8,strokeLinejoin:"round",rotate:90,stroke:"#333",fill:"#333",origin:"50% 50%"}),wt(St,e,{className:"play_btn front",side:3,width:60,strokeWidth:8,strokeLinejoin:"round",rotate:90,stroke:"#333",fill:"#333",origin:"50% 50%"});var _t=5.6+1.6,Tt=Scene.EASE_IN_OUT,kt=new Scene({".logo1 .scene1.circle":function(t){return{0:{transform:"scale(0)"},.2:{"border-width":"50px"},.5:{opacity:1},1:{transform:"scale(1)","border-width":"0px",opacity:0},options:{delay:.4*t}}},".logo1 ellipse":function(t,e){var n,r=e.getAttribute("opacity"),i=Math.floor(t/2);return(n={0:{opacity:0,"stroke-dasharray":"0 1000",transform:"scaleX("+(i%2?-1:1)+") rotate("+(180*i-90)+"deg)"},.1:{opacity:r},.6:{"stroke-dasharray":"70 1000","stroke-dashoffset":0}})[1.1-.06*i]={opacity:r},n[1.2-.06*i]={"stroke-dashoffset":-76,"stroke-dasharray":"0 1000",transform:"rotate("+(180+180*i)+"deg)",opacity:0},n.options={delay:2.6+.16*i},n},".play_btn.back":{0:{transform:"translate(-50%, -50%) translate2(3px) scale(1)"},1:{transform:"scale(0.5)"},2:{transform:"scale(1)"},options:{delay:3.6}},".play_btn.front":{0:{transform:"translate(-50%, -50%) translate2(3px) scale(0)"},1:{transform:"scale(1)"},options:{delay:5}},".play_circle":{0:{transform:"translate(-50%, -50%) scale(0)"},1:{transform:"scale(1)"},options:{delay:4.7}},".background":{0:{transform:"translate(-50%, -50%) scale(0)"},1:{transform:"scale(1)"},options:{delay:4.4}},".stick1 .rect":function(t){return{0:{transform:{scale:0,skew:"15deg"}},.7:{transform:{scale:1}},options:{delay:5.6-.2+.22*t}}},".stick2 .rect":function(t){return{0:{transform:{scale:0,skew:"-15deg"}},.7:{transform:{scale:1}},options:{delay:5.6+.22*t}}},".stick1":{0:{transform:{rotate:"0deg"}},.5:{transform:{rotate:"-20deg"}},1:{transform:{rotate:"0deg"}},1.5:{transform:{rotate:"-10deg"}},options:{delay:_t,easing:Tt}},".logo1 .clapper":{0:{transform:"rotate(0deg)"},.5:{transform:"rotate(-15deg)"},1:{transform:"rotate(0deg)"},1.5:{transform:"rotate(-10deg)"},options:{delay:_t,easing:Tt}},".logo1 .character .left":function(t){return{0:{transform:{translateX:"-100%"}},1:{transform:{translateX:"0%"}},options:{delay:5.6+.1*t}}},".logo1 .character .right":function(t){return{0:{transform:{translateX:"100%"}},1:{transform:{translateX:"0%"}},options:{delay:5.6+.1*t}}},".logo1 .description p span":function(t){return{0:{transform:{translateY:"-100%"}},1:{transform:{translateY:"0%"}},options:{delay:_t+.5+.2*t}}}},{easing:Tt,selector:!0}),Ct=document.querySelector("audio"),Ot=new MediaScene(kt.getDuration(),{"./clapper.mp3":(Mt={},Mt[8.1]={seek:[0,1],playSpeed:2,volume:.7},Mt.options={element:Ct},Mt)});mt(vt(".play_btn.front"),"click",function(){kt.playCSS(!1),Ot.play()});var Mt,Nt=new x(".page.page1");Nt.range(["10%","90%"]).on({firstEnter:function(){kt.exportCSS()},enter:function(){kt.playCSS(!1),Ot.play()}}),Nt.on("exit",function(){kt.finish(),Ot.finish()}),T(Nt),new Scene({".page2 .icon1 .lang":function(t){return{0:{"border-color":"#f55",color:"#f55"},.5:{"border-color":"#f55",color:"#f55"},1.5:{"border-color":"#fff",color:"#fff"},2:{"border-color":"#fff",color:"#fff"},options:{direction:t?"alternate-reverse":"alternate",iterationCount:"infinite"}}}},{easing:Scene.EASE_IN_OUT,selector:!0}).setTime(0).exportCSS({selector:function(t,e){return'.page2 [data-feature="play"]:hover .icon1 '+e}}),new Scene({".page2 .icon2 .thumb":{0:{transform:{translate:"-50%, -50%",translate2:"0px"}},1:{transform:{translate2:"100px"}}}},{iterationCount:"infinite",direction:"alternate",easing:Scene.EASE_IN_OUT,selector:!0}).exportCSS({selector:'.page2 [data-feature="progress"]:hover .icon2 .thumb'}),new Scene({".page2 .icon3 svg path":{0:{"stroke-dasharray":"4450 4450"},"0>":{"stroke-dasharray":"0 5000"},.8:{"stroke-dasharray":"1400 5000"},1.6:{"stroke-dasharray":"2500 4450"},2.7:{"stroke-dasharray":"4450 4450"},3:{}}},{iterationCount:"infinite",easing:Scene.EASE_IN,selector:!0}).exportCSS({selector:'.page2 [data-feature="svg"]:hover .icon3 path'}).setTime(0),new Scene({".page2 .icon4 .play_bar":{0:{left:"0%"},2:{left:"100%"}}},{iterationCount:"infinite",easing:Scene.LINEAR,selector:!0}).exportCSS({selector:'.page2 [data-feature="timeline"]:hover .icon4 .play_bar'});var Ft=vt('.page2 [data-feature="value"]');Scene.setRole(["text"],!0);var It=new Scene({".slide":function(t){return{1.5:{transform:"translateY(-50%) translate("+100*t+"%)"},2.5:{transform:"translate("+100*(t-1)+"%)"},4:{transform:"translateY(-50%) translate("+100*(t-1)+"%)"},5:{transform:"translate("+100*(t-2)+"%)"},options:{easing:Scene.EASE_IN_OUT}}},".slide:nth-child(1) .target":{0:{opacity:1},1:{opacity:0}},".slide:nth-child(2) .target":{0:{"background-color":"rgb(255, 255, 255)"},1:{"background-color":"rgb(255, 90, 90)"},options:{delay:2.5}},".slide:nth-child(3) .target":{0:{"font-weight":"bold",background:"transparent",text:""},.12:{text:"S"},.24:{text:"Sc"},.36:{text:"Sce"},.48:{text:"Scen"},.6:{text:"Scene"},.72:{text:"Scene."},.84:{text:"Scene.j"},.96:{text:"Scene.js"},2:{},options:{delay:5}}},{iterationCount:"infinite",selector:!0}).setTime(0),jt=ft(vt(".page2 .slide .sub_description",!0));It.getItem(".slide:nth-child(1) .target").on("animate",function(t){jt[0].innerHTML="opacity: "+t.frame.get("opacity").toFixed(2)}),It.getItem(".slide:nth-child(2) .target").on("animate",function(t){jt[1].innerHTML=""+t.frame.get("background-color")}),It.getItem(".slide:nth-child(3) .target").on("animate",function(t){t.currentTarget.elements[0].innerHTML=""+t.frame.get("text")}),mt(Ft,"mouseenter",function(){"running"!==It.getPlayState()&&It.play()}),mt(Ft,"mouseleave",function(){It.pause()}),T(new x(".page.page2")),T(new x(".page.page3")),T(new x(".page.page4"));var Dt,At="__SCENEJS_",Lt="data-scene-id",zt="animation-timing-function",Pt={transform:{},filter:{},attribute:{}},Rt={easing:[zt]},Ut=((Dt={})[zt]=!0,Dt.contents=!0,Dt),Ht=1e6,Wt=1e-6,Vt="duration",qt="fillMode",$t="direction",Yt="iterationCount",Xt="delay",Zt="easing",Kt="playSpeed",Bt="easingName",Jt="paused",Gt="ended",Qt="play",te="running",ee="iteration",ne="startAnimation",re="pauseAnimation",ie="alternate",ae="reverse",oe="alternate-reverse",se="infinite",ue="playState",fe="playCSS",ce="prevTime",he="tickTime",le="currentTime",pe="selector",ve=[Vt,qt,$t,Yt,Xt,Zt,Kt],de=function(){function t(){this.events={}}var e=t.prototype;return e._on=function(r,i,e){var n=this,t=this.events;if(tt(r))for(var a in r)this._on(a,r[a],e);else r in t||(t[r]=[]),i&&(et(i)?i.forEach(function(t){return n._on(r,t,e)}):t[r].push(e?function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];i.apply(void 0,e),this.off(r,t)}:i))},e.on=function(t,e){return this._on(t,e),this},e.off=function(t,e){if(t)if(e){var n=this.events[t];if(!n)return this;var r=n.indexOf(e);-1!==r&&n.splice(r,1)}else this.events[t]=[];else this.events={};return this},e.trigger=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.events;if(!(t in i))return this;var a=n||[];!a[0]&&(a[0]={});i[t];var o=a[0];return o.type=t,o.currentTarget=this,!o.target&&(o.target=this),ft(i[t]).forEach(function(t){t.apply(e,n)}),this},e.once=function(t,e){return this._on(t,e,!0),this},t}();function ge(t,e,n){var r=1-n;return n*n*n+3*n*n*r*e+3*n*r*r*t}function me(n,r,i,a){var t=function(t){var e=function(t,e,n){for(var r=n,i=1;.001<Math.abs(i);){if(i=ge(t,e,r)-n,Math.abs(i)<.001)return r;r-=i/2}return r}(n,i,Math.max(Math.min(1,t),0));return ge(r,a,e)};return t.easingName="cubic-bezier("+n+","+r+","+i+","+a+")",t}var ye=me(.25,.1,.25,1),Se=function(){function o(t,e){this.prefix="",this.suffix="",this.model="",this.type="",this.separator=",",e&&this.setOptions(e),this.value=nt(t)?t.split(this.separator):t}var t=o.prototype;return t.setOptions=function(t){for(var e in t)this[e]=t[e];return this},t.size=function(){return this.value.length},t.get=function(t){return this.value[t]},t.set=function(t,e){return this.value[t]=e,this},t.clone=function(){var t=this,e=t.separator,n=t.prefix,r=t.suffix,i=t.model,a=t.type;return new o(this.value.map(function(t){return t instanceof o?t.clone():t}),{separator:e,prefix:n,suffix:r,model:i,type:a})},t.toValue=function(){return this.prefix+this.join()+this.suffix},t.join=function(){return this.value.map(function(t){return t instanceof o?t.toValue():t}).join(this.separator)},t.forEach=function(t){return this.value.forEach(t),this},o}();function we(t){return t instanceof Se}function xe(t){var e=typeof t;if(e===H){if(et(t))return U;if(we(t))return R}else if(e===W||e===V)return"value";return e}function Ee(t){return Math.round(t*Ht)/Ht}function be(t,e,n){void 0===n&&(n=t.length);for(var r=e,i=0;i<n;++i){if(!tt(r))return;r=r[t[i]]}return r}function _e(t,e,n){var r=e.length,i=t;if(0===r)return!1;for(var a=0;a<r;++a){if(!0===i)return!1;if(!(i=i[e[a]])||!n&&!0===i)return!1}return!0}function Te(t,e){return _e(Pt,t,e)}function ke(t){return _e(Ut,t,!0)}function Ce(t,e){t.state[fe]=e}function Oe(t){return t.state[fe]&&t.isPaused()}function Me(t){return!t.isEnded()&&t.state[fe]}function Ne(t,e){var n=At+"STYLE_"+je(t),r=vt("#"+n);r?r.innerText=e:Y.body.insertAdjacentHTML("beforeend",'<style id="'+n+'">'+e+"</style>")}function Fe(t){for(;;){var e=""+Math.floor(1e7*Math.random());if(!$||!t)return e;if(!vt('[data-scene-id="'+e+'"]'))return e}}function Ie(t){return t.getId()||t.setId(Fe(!1)).getId()}function je(t){return(""+t).match(/[0-9a-zA-Z]+/g).join("")}function De(t,e,n,r){if(void 0===r&&(r={}),J&&t.getPlayState()!==te){var i=n||ne;if(Oe(t))t.addPlayClass(!0,i,r);else{t.isEnded()&&t.setTime(0),e&&t.exportCSS({className:i});var a=t.addPlayClass(!1,i,r);if(!a)return;!function(i,t){var a=i.state,o=i.getDuration(),s=!o||!isFinite(o),e=function(){Ce(i,!1),i.finish()},n=function(){i.trigger(Qt)};i.once(Gt,function(){yt(t,"animationcancel",e),yt(t,"animationend",e),yt(t,"animationiteration",r),yt(t,"animationstart",n)});var r=function(t){var e=t.elapsedTime,n=e,r=s?0:n/o;a[le]=n,i.setIteration(r)};mt(t,"animationcancel",e),mt(t,"animationend",e),mt(t,"animationiteration",r),mt(t,"animationstart",n)}(t,a),Ce(t,!0)}t.setPlayState(te)}}function Ae(t,e,n){void 0===n&&(n=-1);for(var r=t.length,i=0;i<r;++i)if(e(t[i]))return i;return n}function Le(t,e,n){return n===ae||(e!==se&&t===e&&e%1==0?n===(1<=t%2?oe:ie):n===(1<=t%2?ie:oe))}var ze=["id",Yt,Xt,qt,$t,Kt,Vt,Kt,"iterationTime",ue],Pe=ze.concat([Zt,Bt]),Re=function(n){function t(t){var e=n.call(this)||this;return e.state={id:"",easing:0,easingName:"linear",iterationCount:1,delay:0,fillMode:"forwards",direction:"normal",playSpeed:1,currentTime:0,iterationTime:-1,iteration:0,tickTime:0,prevTime:0,playState:Jt,duration:0},e.setOptions(t),e}o(t,n);var e,r,i,a=t.prototype;return a.setEasing=function(t){var e=et(t)?me(t[0],t[1],t[2],t[3]):t,n=e[Bt]||"linear",r=this.state;return r[Zt]=e,r[Bt]=n,this},a.setOptions=function(t){for(var e in void 0===t&&(t={}),t){var n=t[e];e!==Zt?e!==Vt?-1<ve.indexOf(e)&&(this.state[e]=n):n&&this.setDuration(n):this.setEasing(n)}return this},a.getTotalDuration=function(){return this.getActiveDuration(!0)},a.getActiveDuration=function(t){var e=this.state,n=e[Yt];return n===se?1/0:(t?e[Xt]:0)+this.getDuration()*n},a.isEnded=function(){return 0===this.state[he]&&this.state[ue]===Jt||!(this.getTime()<this.getActiveDuration())},a.isPaused=function(){return this.state[ue]===Jt},a.start=function(t){void 0===t&&(t=this.state[Xt]);var e=this.state;e[ue]=te,e[he]>=t&&this.trigger(Qt)},a.play=function(e){var n=this,r=this.state,t=r[Xt],i=this.getTime();return r[ue]=te,this.isEnded()&&(0===i||i>=this.getActiveDuration())&&this.setTime(-t,!0),r[he]=this.getTime(),ht(function(t){r[ce]=t,function e(n,t,r){if(!n.isPaused()){var i=n.state,a=i[Kt],o=i[ce],s=i[Xt],u=i[he]+Math.min(1e3,t-o)/1e3*a;i[ce]=t,n.setTime(u-s,!0),r&&1e3*r<t&&n.pause(),i[ue]!==Jt&&ht(function(t){e(n,t,r)})}}(n,t,e)}),this.start(),this},a.pause=function(){var t=this.state;return t[ue]!==Jt&&(t[ue]=Jt,this.trigger(Jt)),this},a.finish=function(){return this.setTime(0),this.state[he]=0,this.end(),this},a.end=function(){return this.pause(),this.trigger(Gt),this},a.setTime=function(t,e){var n=this.getActiveDuration(),r=this.state,i=r[he],a=r[Xt],o=e?t:this.getUnitTime(t);if(r[he]=a+o,o<0?o=0:n<o&&(o=n),r[le]=o,this.calculate(),e){var s=r[he];if((i<a&&0<=t||r[ue]!==te&&a<=s&&!this.isEnded())&&this.start(0),s<i||this.isEnded())return void this.end()}return this.isDelay()||this.trigger("timeupdate",{currentTime:o,time:this.getIterationTime(),iterationCount:r[ee]}),this},a.getTime=function(){return this.state[le]},a.getUnitTime=function(t){if(nt(t)){var e=this.getDuration()||100;if("from"===t)return 0;if("to"===t)return e;var n=ot(t),r=n.unit,i=n.value;return"%"===r?(!this.getDuration()&&(this.state[Vt]=e),Ee(parseFloat(t)/100*e)):">"===r?i+Wt:i}return Ee(t)},a.isDelay=function(){var t=this.state,e=t[Xt],n=t[he];return 0<e&&n<e},a.setIteration=function(t){var e=this.state,n=Math.floor(t),r=e[Yt]===se?1/0:e[Yt];return e[ee]<n&&n<r&&this.trigger("iteration",{currentTime:e[le],iterationCount:n}),e[ee]=t,this},a.calculate=function(){var t=this.state,e=t[Yt],n=t[qt],r=t[$t],i=this.getDuration(),a=this.getTime(),o=0===i?0:a/i,s=i?a%i:0;if(!i)return this.setIterationTime(0),this;this.setIteration(o);var u=Le(o,e,r),f=isFinite(i);(f&&u&&(s=i-s),f&&e!==se)&&(e<=o&&(s=i*("both"===n||"forwards"===n?e%1||1:0),u&&(s=i-s)));return this.setIterationTime(s),this},t=function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(o=(a<3?i(o):3<a?i(e,n,o):i(e,n))||o);return 3<a&&o&&Object.defineProperty(e,n,o),o}([(e=Pe,r=ze,i="state",function(t){var n=t.prototype;e.forEach(function(t){n[st("get "+t)]=function(){return this[i][t]}}),r.forEach(function(e){n[st("set "+e)]=function(t){return this[i][e]=t,this}})})],t)}(de);function Ue(t){var e=C;return 3===t.length&&(t[3]=1),new Se(t,{model:e,separator:",",type:"color",prefix:e+"(",suffix:")"})}function He(t,e){return new Se(t,{type:"array",separator:e})}function We(t){if(!nt(t))return et(t)?He(t,","):t;var e,n,r=it(t);return 1<r.length?He(r.map(function(t){return We(t)}),","):1<(r=t.match(/("[^"]*")|('[^']*')|([^\s()]*(?:\((?:[^()]*|\([^()]*\))*\))[^\s()]*)|\S+/g)||[]).length?He(r.map(function(t){return We(t)})," "):(r=/^(['"])([^'"]*)(['"])$/g.exec(t))&&r[1]===r[3]?new Se([We(r[2])],{prefix:r[1],suffix:r[1]}):-1!==t.indexOf("(")?function(t){var e=at(t),n=e.prefix,r=e.value,i=e.suffix;if(void 0===r)return t;if(-1!==N.indexOf(n))return Ue(pt(t));var a=We(r),o=[r],s=",",u=n+"(",f=")"+i;return a instanceof Se&&(s=a.separator,o=a.value,u+=a.prefix,f=a.suffix+f),new Se(o,{separator:s,model:n,prefix:u,suffix:f})}(t):"#"===t.charAt(0)?(n=pt(e=t))?Ue(n):e:t}function Ve(t){if(!t)return"";var e=[];for(var n in t)e.push(n.replace(/\d/g,"")+"("+t[n]+")");return e.join(" ")}function qe(t,e){return void 0===e&&(e=!1),$e({},t,e)}function $e(t,e,n){for(var r in void 0===n&&(n=!1),e){var i=e[r],a=xe(i);a===R?t[r]=n?i.toValue():i.clone():a===P?t[r]=n?Xe([r],i):i:a===U?t[r]=i.slice():a===H?tt(t[r])&&!we(t[r])?$e(t[r],i,n):t[r]=qe(i,n):t[r]=e[r]}return t}function Ye(t){return t[0]in Rt?Rt[t[0]]:t}function Xe(t,e){var n=xe(e);if(n===R)return e.toValue();if(n===P){if(t[0]!==zt)return Xe(t,e())}else if(n===H)return qe(e,!0);return e}var Ze=function(){function t(t){void 0===t&&(t={}),this.properties={},this.set(t)}var e=t.prototype;return e.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.raw.apply(this,t);return Xe(Ye(t),n)},e.raw=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return be(Ye(t),this.properties)},e.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ye(t),r=n.length;if(!r)return this;var i=be(n,this.properties,r-1);return tt(i)&&delete i[n[r-1]],this},e.set=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this,r=t.length,i=t.slice(0,-1),a=t[r-1];if(i[0]in Rt)n._set(Rt[i[0]],a);else if(2===r&&et(i[0]))n._set(i[0],a);else if(et(a))n._set(i,a);else if(we(a))Te(i)?n.set.apply(n,i.concat([function e(t,n){void 0===n&&(n={});var r=t.model;if(r){t.setOptions({model:"",suffix:"",prefix:""});var i=1<t.size()?t:t.get(0);n[r]=i}else t.forEach(function(t){e(t,n)});return n}(a)])):n._set(i,a);else if(tt(a))for(var o in a)n.set.apply(n,i.concat([o,a[o]]));else if(nt(a)){if(Te(i,!0)){if(ke(i)||!Te(i))this._set(i,a);else{var s=We(a);tt(s)&&n.set.apply(n,i.concat([s]))}return this}var u=function(t){for(var e=t.split(";"),n={},r=e.length,i=0;i<r;++i){var a=/([^:]*):([\S\s]*)/g.exec(e[i]);!a||a.length<3||!a[1]?--r:n[a[1].trim()]=We(a[2].trim())}return{styles:n,length:r}}(a),f=u.styles,c=u.length;for(var o in f)n.set.apply(n,i.concat([o,f[o]]));if(c)return this;n._set(i,a)}else n._set(i,a);return n},e.has=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ye(t),r=n.length;return!!r&&!Q(be(n,this.properties,r))},e.clone=function(){return(new t).merge(this)},e.merge=function(t){var e=this.properties,n=t.properties;return n&&$e(e,n),this},e.toCSSObject=function(){var t=this.get(),e={};for(var n in t)if(!Te([n],!0)){var r=t[n];n!==zt?e[n]=r:e[zt.replace("animation",J)]=(nt(r)?r:r[Bt])||"initial"}var i=Ve(t.transform),a=Ve(t.filter);return K&&i&&(e[K]=i),B&&a&&(e[B]=a),e},e.toCSS=function(){var t=this.toCSSObject(),e=[];for(var n in t)e.push(n+":"+t[n]+";");return e.join("")},e._set=function(t,e){for(var n=this.properties,r=t.length,i=0;i<r-1;++i){var a=t[i];!(a in n)&&(n[a]={}),n=n[a]}r&&(n[t[r-1]]=nt(e)?We(e):e)},t}();function Ke(t,n,r,i){var a=n.length;return t.map(function(t,e){return a<=e?t:Je(t,n[e],r,i)})}function Be(t,e,n,r){var i=t.type;if("color"===i)return function(t,e,n,r){var i=t.value,a=e.value,o=t.model;if(o!==e.model)return Je(t.toValue(),e.toValue(),n,r);3===i.length&&(i[3]=1),3===a.length&&(a[3]=1);for(var s=Ke(i,a,n,r),u=o,f=0;f<3;++f)s[f]=parseInt(s[f],10);return new Se(s,{type:"color",model:u,prefix:u+"(",suffix:")"})}(t,e,n,r);var a=Ke(t.value,e.value,n,r);return new Se(a,{type:i,separator:t.separator||e.separator,prefix:t.prefix||e.prefix,suffix:t.suffix||e.suffix,model:t.model||e.model})}function Je(t,e,n,r){if(0===r)return e;if(0===n||n+r===0)return t;var i=xe(t),a=xe(e),o=i===P,s=a===P;if(o||s)return function(){return Je(o?We(t()):t,s?We(e()):e,n,r)};if(i!==a)return t;if(i===R)return Be(t,e,n,r);if(i===U)return Ke(t,e,n,r);if("value"!==i)return t;var u,f=ot(""+t),c=ot(""+e);if(isNaN(f.value)||isNaN(c.value))return t;u=Ge(f.value,c.value,n,r);var h=f.prefix||c.prefix,l=f.unit||c.unit;return h||l?h+u+l:u}function Ge(t,e,n,r){return(t*r+e*n)/(n+r)}function Qe(t){var e=[];for(var n in t)e.push(J+"-"+ut(n)+":"+t[n]+";");return e.join("")}function tn(t){return tt(t)&&t.constructor===Object}function en(t,e){var n=[];if(tn(t))for(var r in t)e.push(r),n=n.concat(en(t[r],e)),e.pop();else n.push(e.slice());return n}function nn(t,e){for(var n in e){tn(e[n])?(tt(t[n])||(t[n]={}),nn(t[n],e[n])):t[n]=!0}return t}function rn(t,e,n){var r=t[t.length-1];(!r||r[0]!==e||r[1]!==n)&&t.push([Ee(e),Ee(n)])}var an=function(s){function d(t,e){var n=s.call(this)||this;return n.times=[],n.items={},n.names={},n.elements=[],n.needUpdate=!1,n.load(t,e),n}o(d,s);var t=d.prototype;return t.getDuration=function(){var t=this.times,e=t.length;return Math.max(this.state[Vt],0===e?0:t[e-1])},t.size=function(){return this.times.length},t.setDuration=function(t){if(!t)return this;var e=this.getDuration();if(0<e){var n=t/e,r=this.times,i=this.items,a={};this.times=r.map(function(t){var e=Ee(t*n);return a[e]=i[t],e}),this.items=a}return s.prototype.setDuration.call(this,Ee(t)),this},t.setId=function(t){var e=this.state;e.id=t||Fe(!!length);var n=this.elements;if(n.length&&!e[pe]){var r=je(this.getId());e[pe]="["+Lt+'="'+r+'"]',n.forEach(function(t){t.setAttribute(Lt,r)})}return this},t.set=function(n){for(var o=this,t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(et(n))for(var r=n.length,i=0;i<r;++i){var a=1===r?0:this.getUnitTime(i/(r-1)*100+"%");this.set(a,n[i])}else if(tt(n)){var s=function(t){var a=n[t],e=u.getUnitTime(t);isNaN(e)?en(a,[t]).forEach(function(t){for(var e=be(t.slice(1),a),n=et(e)?e:[be(t,o.target),e],r=n.length,i=0;i<r;++i)o.newFrame(i/(r-1)*100+"%").set(t,n[i])}):u.set(e,a)},u=this;for(var a in n)s(a)}else{var f=t[0];if(f instanceof Ze)this.setFrame(n,f);else if(f instanceof d){var c=f.getDelay(),h=this.getUnitTime(n),l=f.toObject(!this.hasFrame(h+c),h);for(var p in l)this.set(p,l[p])}else if(1===t.length&&et(f))f.forEach(function(t){o.set(n,t)});else{var v=this.newFrame(n);v.set.apply(v,t)}}return this.needUpdate=!0,this},t.get=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.getFrame(t);return r&&r.get.apply(r,e)},t.remove=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.getFrame(t);return r&&r.remove.apply(r,e),this.needUpdate=!0,this},t.append=function(t){return this.set(this.getDuration(),t),this},t.prepend=function(t){if(t instanceof d){var e=t.getDuration()+t.getDelay(),n=this.getFrame(0);this.removeFrame(0),this.unshift(e),this.set(0,t),this.set(e+Wt,n)}else this.prepend(new d(t));return this},t.unshift=function(n){var t=this.times,r=this.items,i={};this.times=t.map(function(t){var e=Ee(n+t);return i[e]=r[t],e}),this.items=i},t.toObject=function(n,r){void 0===n&&(n=!0),void 0===r&&(r=0);var i={},a=this.getDelay();return this.forEach(function(t,e){i[(e||n?0:Wt)+a+r+e]=t.clone()}),i},t.setSelector=function(t){this.setElement(t)},t.setElement=function(t){var a=this.state,o=[];if(!t)return this;if(!0===t||nt(t)){var e=!0===t?""+a.id:t,n=/([\s\S]+)(:+[a-zA-Z]+)$/g.exec(e);o=ft(vt(n?n[1]:e,!0)),a[pe]=e}else o=t instanceof Element?[t]:ft(t);return o.length&&(this.elements=o,this.setId(this.getId()),this.target=o[0].style,this.targetFunc=function(t){var n=t.get("attribute");if(n){var e=function(e){o.forEach(function(t){t.setAttribute(e,n[e])})};for(var r in n)e(r)}var i=t.toCSS();if(a.cssText!==i)return a.cssText=i,o.forEach(function(t){t.style.cssText+=i}),t}),this},t.setTarget=function(r){return this.target=r,this.targetFunc=function(t){var e=t.get();for(var n in e)r[n]=e[n]},this},t.setCSS=function(t,e){return this.set(t,function(t,e){if(!t||!e||!e.length)return{};var n;if(t instanceof Element)n=t;else{if(!t.length)return{};n=t[0]}for(var r={},i=window.getComputedStyle(n),a=e.length,o=0;o<a;++o)r[e[o]]=i[e[o]];return r}(this.elements,e)),this},t.setTime=function(t,e,n){s.prototype.setTime.call(this,t,e);var r=this.getIterationTime(),i=this.getEasing()||n,a=this.getNowFrame(r,i),o=this.getTime();return this.temp=a,this.trigger("animate",{frame:a,currentTime:o,time:r}),this.targetFunc&&this.targetFunc(a),this},t.update=function(){var e=this.names;return this.forEach(function(t){nn(e,t.properties)}),this.needUpdate=!1,this},t.newFrame=function(t){var e=this.getFrame(t);return e||(e=new Ze,this.setFrame(t,e),e)},t.setFrame=function(t,e){var n=this.getUnitTime(t);return this.items[n]=e,function(t,e){for(var n=t.length,r=0;r<n;++r)if(e<t[r])return t.splice(r,0,e);t[n]=e}(this.times,n),this.needUpdate=!0,this},t.getFrame=function(t){return this.items[this.getUnitTime(t)]},t.hasFrame=function(t){return this.getUnitTime(t)in this.items},t.hasName=function(t){return this.needUpdate&&this.update(),_e(this.names,t,!0)},t.removeFrame=function(t){var e=this.items,n=this.times.indexOf(t);return delete e[t],-1<n&&this.times.splice(n,1),this},t.mergeFrame=function(t,e){e&&this.newFrame(t).merge(e);return this},t.getNowFrame=function(n,t,r){var i=this;this.needUpdate&&this.update();var a=new Ze,e=function(t,e){for(var n=t.length,r=0;r<n;++r){if(t[r]===e)return[r,r];if(t[r]>e)return[0<r?r-1:0,r]}return[n-1,n-1]}(this.times,n),o=e[0],s=e[1],u=this.getEasing()||t,f=this.names;if(this.hasName([zt])){var c=this._getNowValue(n,[zt],o,s,!1,0,!0);rt(c)&&(u=c)}if(r){var h=nn({},this.getFrame(n).properties);for(var l in Pt)l in h&&(h[l]=f[l]);f=h}return en(f,[]).forEach(function(t){var e=i._getNowValue(n,t,o,s,r,u,ke(t));Q(e)||a.set(t,e)}),a},t.load=function(t,e){if(void 0===t&&(t={}),void 0===e&&(e=t.options),e&&this.setOptions(e),et(t))this.set(t);else if(t.keyframes)this.set(t.keyframes);else for(var n in t)"options"!==n&&this.set(((r={})[n]=t[n],r));return e&&e[Vt]&&this.setDuration(e[Vt]),this;var r},t.clone=function(){var n=new d;return n.setOptions(this.state),this.forEach(function(t,e){n.setFrame(e,t.clone())}),n},t.forEach=function(e){var t=this.times,n=this.items;return t.forEach(function(t){e(n[t],t,n)}),this},t.setOptions=function(t){void 0===t&&(t={}),s.prototype.setOptions.call(this,t);var e=t.id,n=t.selector,r=t.elements,i=t.element,a=t.target;return e&&this.setId(e),a?this.setTarget(a):(r||i||n)&&this.setElement(r||i||n),this},t.toCSS=function(t,e,n){void 0===t&&(t={className:ne}),void 0===e&&(e=this.getDuration()),void 0===n&&(n=[]);var r=this.state,i=r[pe];if(!i)return"";var a=this.getDuration();r[Vt]=a,n.push(r);var o,s,u,f,c=ft(n).reverse(),h=je(Ie(this)),l=n[0],p=Ae(c,function(t){return t[Yt]===se||!isFinite(t[Vt])},n.length-1),v=c.slice(0,p),d=e||v.reduce(function(t,e){return(e[Xt]+t*e[Yt])/e[Kt]},a),g=c.slice(p).reduce(function(t,e){return(t+e[Xt])/e[Kt]},0),m=(o=c,s=function(t){return t[Zt]&&t[Bt]},u=r,f=Ae(o,s),-1<f?o[f]:u)[Bt],y=c[p][Yt],S=l[qt],w=c[p][$t],x=Qe({fillMode:S,direction:w,iterationCount:y,delay:g+"s",name:At+"KEYFRAMES_"+h,duration:d/l[Kt]+"s",timingFunction:m}),E=it(i).map(function(t){var e=/([\s\S]+)(:+[a-zA-Z]+)$/g.exec(t);return e?[e[0],e[1]]:[t,""]}),b=t.className,_=t.selector;return"\n    "+((rt(_)?_(this,i):_)||E.map(function(t){var e=t[0],n=t[1];return e+"."+b+n}))+" {"+x+"}\n    "+E.map(function(t){var e=t[0],n=t[1];return e+"."+re+n})+" {"+J+"-play-state: paused;}\n    @"+G+" "+At+"KEYFRAMES_"+h+"{"+this._toKeyframes(d,v,w)+"}"},t.exportCSS=function(t,e,n){if(!this.elements.length)return"";var r=this.toCSS(t,e,n);return!(n&&!Q(n[Yt]))&&Ne(Ie(this),r),this},t.pause=function(){return s.prototype.pause.call(this),Oe(this)&&this.pauseCSS(),this},t.pauseCSS=function(){return this.elements.forEach(function(t){dt(t,re)}),this},t.endCSS=function(){return this.elements.forEach(function(t){gt(t,re),gt(t,ne)}),Ce(this,!1),this},t.end=function(){return Me(this)&&this.endCSS(),s.prototype.end.call(this),this},t.playCSS=function(t,e,n){return void 0===t&&(t=!0),void 0===n&&(n={}),De(this,t,e,n),this},t.addPlayClass=function(t,e,n){void 0===n&&(n={});var r=this.elements,i=r.length,a=Qe(n);if(i)return t?r.forEach(function(t){gt(t,re)}):r.forEach(function(t){var e,n;t.style.cssText+=a,n=ne,((e=t).classList?e.classList.contains(n):e.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)")))?(gt(t,ne),ht(function(){ht(function(){dt(t,ne)})})):dt(t,ne)}),r[0]},t._toKeyframes=function(i,t,a){var o=this,s={},e=this.times.slice();if(!e.length)return"";var u=this.getDuration();!this.getFrame(0)&&e.unshift(0),!this.getFrame(u)&&e.push(u);var n,y,S,r=(n=t,y=e.map(function(t){return[t,t]}),S=[],n.forEach(function(t){for(var e=t[Yt],n=t[Xt],r=t[Kt],i=t[$t],a=Math.ceil(e),o=y[y.length-1][0],s=y.length,u=o*e,f=0;f<a;++f)for(var c=i===ae||i===ie&&f%2||i===oe&&!(f%2),h=0;h<s;++h){var l=y[c?s-h-1:h],p=l[1],v=o*f+(c?o-l[0]:l[0]),d=y[c?s-h:h-1];if(u<v){if(0!==h){var g=o*f+(c?o-d[0]:d[0]),m=Ge(d[1],p,u-g,v-u);rn(S,(n+o*e)/r,m)}break}if(v===u&&S[S.length-1][0]===u+n)break;rn(S,(n+v)/r,p)}n&&S.unshift([0,S[0][1]]),y=S,S=[]}),y),f=r[r.length-1];f[0]<i&&rn(r,i,f[1]);var c=-1;return r.map(function(t){var e=t[0],n=t[1];s[n]||(s[n]=(o.hasFrame(n)&&0!==n&&n!==u?o.getNowFrame(n,0,!0):o.getNowFrame(n)).toCSS());var r=e/i*100;return r-c<Wt&&(r+=Wt),c=r,Math.min(r,100)+"%{\n                "+(0!==e||Le(0,1,a)?s[n]:"")+"\n            }"}).join("")},t._getNowValue=function(t,e,n,r,i,a,o){for(var s,u,f,c,h=this.times,l=h.length,p=n;0<=p;--p){if((d=this.getFrame(h[p])).has.apply(d,e)){s=h[p],f=d;break}}var v=f&&f.raw.apply(f,e);if(i&&!Te([e[0]]))return s===t?v:void 0;if(o)return v;for(p=r;p<l;++p){var d;if((d=this.getFrame(h[p])).has.apply(d,e)){u=h[p],c=d;break}}var g=c&&c.raw.apply(c,e);return!f||Q(v)?g:!c||Q(g)||v===g?v:(s<0&&(s=0),function(t,e,n,r,i,a){if(t===e)return r;if(t===n)return i;if(!a)return Je(r,i,t-e,n-t);var o=a((t-e)/(n-e));return Je(r,i,o,1-o)}(t,s,u,v,g,a))},d}(Re);!function(f){function h(t,e){var n=f.call(this)||this;return n.items={},n.load(t,e),n}o(h,f);var t=h.prototype;t.getDuration=function(){var t=this.items,e=0;for(var n in t){var r=t[n];e=Math.max(e,r.getTotalDuration()/r.getPlaySpeed())}return Math.max(e,this.state[Vt])},t.setDuration=function(t){var e=this.items,n=this.getDuration();if(0===t||!isFinite(n))return this;if(0===n)for(var r in e){(a=e[r]).setDuration(t)}else{var i=t/n;for(var r in e){var a;(a=e[r]).setDelay(a.getDelay()*i),a.setDuration(a.getDuration()*i)}}return f.prototype.setDuration.call(this,t),this},t.getItem=function(t,e){return null!=e?this.items[t].getItem(e):this.items[t]},t.newItem=function(t,e){if(void 0===e&&(e={}),!(t in this.items)){var n=new an;return this.setItem(t,n),n.setOptions(e),n}},t.setItem=function(t,e){return e.setId(t),this.items[t]=e,this},t.setTime=function(t,e,n){f.prototype.setTime.call(this,t,e);var r=this.getIterationTime(),i=this.items,a=this.getEasing()||n,o={};for(var s in i){var u=i[s];u.setTime(r*u.getPlaySpeed()-u.getDelay(),e,a),o[u.getId()]=u.temp}return this.temp=o,this.trigger("animate",{frames:o,currentTime:this.getTime(),time:r}),this},t.forEach=function(t){var e=this.items;for(var n in e)t(e[n],n,e);return this},t.toCSS=function(e,t,n){void 0===t&&(t=this.getDuration()),void 0===n&&(n=[]);var r=t&&isFinite(t)?t:0,i=[],a=this.state;return a[Vt]=this.getDuration(),this.forEach(function(t){i.push(t.toCSS(e,r,n.concat(a)))}),i.join("")},t.exportCSS=function(t,e,n){var r=this.toCSS(t,e,n);return(!n||!n.length)&&Ne(Ie(this),r),this},t.append=function(t){t.setDelay(t.getDelay()+this.getDuration()),this.setItem(Ie(t),t)},t.pauseCSS=function(){return this.forEach(function(t){t.pauseCSS()})},t.pause=function(){return f.prototype.pause.call(this),Oe(this)&&this.pauseCSS(),this.forEach(function(t){t.pause()}),this},t.endCSS=function(){var t=this.items;for(var e in t)t[e].endCSS();Ce(this,!1)},t.end=function(){return Me(this)&&this.endCSS(),f.prototype.end.call(this),this},t.addPlayClass=function(t,e,n){void 0===n&&(n={});var r,i=this.items;for(var a in i){var o=i[a].addPlayClass(t,e,n);!r&&(r=o)}return r},t.playCSS=function(t,e,n){return void 0===t&&(t=!0),void 0===n&&(n={}),De(this,t,e,n),this},t.set=function(t){return this.load(t),this},t.load=function(t,e){if(void 0===t&&(t={}),void 0===e&&(e=t.options),!t)return this;var n=e&&e[pe]||this.state[pe];for(var r in t)if("options"!==r){var i=t[r],a=void 0;if(i instanceof h||i instanceof an)this.setItem(r,i),a=i;else{if(rt(i)&&n){for(var o=$?vt(r,!0):[],s=o.length,u=new h,f=0;f<s;++f){var c=Fe();u.newItem(""+f,{id:c,selector:"["+Lt+'="'+c+'"]',elements:o[f]}).load(i(f,o[f]))}this.setItem(r,u);continue}(a=this.newItem(r)).load(i)}n&&a.setSelector(r)}this.setOptions(e)},t.setOptions=function(t){return void 0===t&&(t={}),f.prototype.setOptions.call(this,t),t.selector&&(this.state[pe]=!0),this},t.setSelector=function(t){var e=this.state,n=t||e[pe];e[pe]=t,this.forEach(function(t,e){t.setSelector(!!n&&e)})},t.start=function(e){f.prototype.start.call(this,e),this.forEach(function(t){t.start(e)})},h.VERSION="#__VERSION__#"}(Re);var on=vt("header");ft(vt("header [data-item] a",!0)).forEach(function(e,t){var n=_[t];n.range(["window - 1","window"]).on({enter:function(t){dt(e,"enter")},exit:function(t){gt(e,"enter")}}),e.addEventListener("click",function(t){var e;t.preventDefault(),e=n.getRect(!0).top,new an({scrollTop:e},{target:document.documentElement,duration:1,easing:ye}).play()})}),_.forEach(function(t,e){e%2!=0&&t.range(["window - 80","100% - 80"]).on({enter:function(t){dt(on,"white")},exit:function(t){gt(on,"white")}})}),b.scroll()}();
//# sourceMappingURL=index.js.map
