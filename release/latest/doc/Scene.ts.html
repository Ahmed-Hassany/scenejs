<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Scene.ts - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/custom.css">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta name="description" content="Scene.ts - Documentation"/>

</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><ul class="classes"><li file="scene"><a href="Scene.html">Scene</a><h4><a href="Scene.html#static members">Static Members</a></h4><ul class='static members'><li data-type='member'><a href="Scene.html#.EVENTS">EVENTS</a></li><li data-type='member'><a href="Scene.html#.OPTIONS">OPTIONS</a></li><li data-type='member'><a href="Scene.html#.VERSION">VERSION</a></li></ul><h4><a href="Scene.html#methods">Methods</a></h4><ul class='methods'><li data-type='method'><a href="Scene.html#end">end</a></li><li data-type='method'><a href="Scene.html#exportCSS">exportCSS</a></li><li data-type='method'><a href="Scene.html#finish">finish</a></li><li data-type='method'><a href="Scene.html#forEach">forEach</a></li><li data-type='method'><a href="Scene.html#getActiveDuration">getActiveDuration</a></li><li data-type='method'><a href="Scene.html#getDelay">getDelay</a></li><li data-type='method'><a href="Scene.html#getDirection">getDirection</a></li><li data-type='method'><a href="Scene.html#getDuration">getDuration</a></li><li data-type='method'><a href="Scene.html#getEasing">getEasing</a></li><li data-type='method'><a href="Scene.html#getEasingName">getEasingName</a></li><li data-type='method'><a href="Scene.html#getFillMode">getFillMode</a></li><li data-type='method'><a href="Scene.html#getItem">getItem</a></li><li data-type='method'><a href="Scene.html#getIterationCount">getIterationCount</a></li><li data-type='method'><a href="Scene.html#getIterationTime">getIterationTime</a></li><li data-type='method'><a href="Scene.html#getPlaySpeed">getPlaySpeed</a></li><li data-type='method'><a href="Scene.html#getPlayState">getPlayState</a></li><li data-type='method'><a href="Scene.html#getTime">getTime</a></li><li data-type='method'><a href="Scene.html#getTotalDuration">getTotalDuration</a></li><li data-type='method'><a href="Scene.html#isDelay">isDelay</a></li><li data-type='method'><a href="Scene.html#isEnded">isEnded</a></li><li data-type='method'><a href="Scene.html#isPaused">isPaused</a></li><li data-type='method'><a href="Scene.html#newItem">newItem</a></li><li data-type='method'><a href="Scene.html#off">off</a></li><li data-type='method'><a href="Scene.html#on">on</a></li><li data-type='method'><a href="Scene.html#pause">pause</a></li><li data-type='method'><a href="Scene.html#play">play</a></li><li data-type='method'><a href="Scene.html#playCSS">playCSS</a></li><li data-type='method'><a href="Scene.html#setDelay">setDelay</a></li><li data-type='method'><a href="Scene.html#setDirection">setDirection</a></li><li data-type='method'><a href="Scene.html#setDuration">setDuration</a></li><li data-type='method'><a href="Scene.html#setEasing">setEasing</a></li><li data-type='method'><a href="Scene.html#setFillMode">setFillMode</a></li><li data-type='method'><a href="Scene.html#setItem">setItem</a></li><li data-type='method'><a href="Scene.html#setIterationCount">setIterationCount</a></li><li data-type='method'><a href="Scene.html#setOptions">setOptions</a></li><li data-type='method'><a href="Scene.html#setPlaySpeed">setPlaySpeed</a></li><li data-type='method'><a href="Scene.html#setPlayState">setPlayState</a></li><li data-type='method'><a href="Scene.html#setTime">setTime</a></li><li data-type='method'><a href="Scene.html#trigger">trigger</a></li></ul><h4><a href="Scene.html#events">Events</a></h4><ul class='events'><li data-type='event'><a href="Scene.html#event:ended">ended</a></li><li data-type='event'><a href="Scene.html#event:iteration">iteration</a></li><li data-type='event'><a href="Scene.html#event:paused">paused</a></li><li data-type='event'><a href="Scene.html#event:play">play</a></li><li data-type='event'><a href="Scene.html#event:timeupdate">timeupdate</a></li></ul></li><li file="animator"><a href="Scene.Animator.html">Animator</a><h4><a href="Scene.Animator.html#methods">Methods</a></h4><ul class='methods'><li data-type='method'><a href="Scene.Animator.html#end">end</a></li><li data-type='method'><a href="Scene.Animator.html#finish">finish</a></li><li data-type='method'><a href="Scene.Animator.html#getActiveDuration">getActiveDuration</a></li><li data-type='method'><a href="Scene.Animator.html#getDelay">getDelay</a></li><li data-type='method'><a href="Scene.Animator.html#getDirection">getDirection</a></li><li data-type='method'><a href="Scene.Animator.html#getDuration">getDuration</a></li><li data-type='method'><a href="Scene.Animator.html#getEasing">getEasing</a></li><li data-type='method'><a href="Scene.Animator.html#getEasingName">getEasingName</a></li><li data-type='method'><a href="Scene.Animator.html#getFillMode">getFillMode</a></li><li data-type='method'><a href="Scene.Animator.html#getIterationCount">getIterationCount</a></li><li data-type='method'><a href="Scene.Animator.html#getIterationTime">getIterationTime</a></li><li data-type='method'><a href="Scene.Animator.html#getPlaySpeed">getPlaySpeed</a></li><li data-type='method'><a href="Scene.Animator.html#getPlayState">getPlayState</a></li><li data-type='method'><a href="Scene.Animator.html#getTime">getTime</a></li><li data-type='method'><a href="Scene.Animator.html#getTotalDuration">getTotalDuration</a></li><li data-type='method'><a href="Scene.Animator.html#isDelay">isDelay</a></li><li data-type='method'><a href="Scene.Animator.html#isEnded">isEnded</a></li><li data-type='method'><a href="Scene.Animator.html#isPaused">isPaused</a></li><li data-type='method'><a href="Scene.Animator.html#off">off</a></li><li data-type='method'><a href="Scene.Animator.html#on">on</a></li><li data-type='method'><a href="Scene.Animator.html#pause">pause</a></li><li data-type='method'><a href="Scene.Animator.html#play">play</a></li><li data-type='method'><a href="Scene.Animator.html#setDelay">setDelay</a></li><li data-type='method'><a href="Scene.Animator.html#setDirection">setDirection</a></li><li data-type='method'><a href="Scene.Animator.html#setDuration">setDuration</a></li><li data-type='method'><a href="Scene.Animator.html#setEasing">setEasing</a></li><li data-type='method'><a href="Scene.Animator.html#setFillMode">setFillMode</a></li><li data-type='method'><a href="Scene.Animator.html#setIterationCount">setIterationCount</a></li><li data-type='method'><a href="Scene.Animator.html#setOptions">setOptions</a></li><li data-type='method'><a href="Scene.Animator.html#setPlaySpeed">setPlaySpeed</a></li><li data-type='method'><a href="Scene.Animator.html#setPlayState">setPlayState</a></li><li data-type='method'><a href="Scene.Animator.html#setTime">setTime</a></li><li data-type='method'><a href="Scene.Animator.html#trigger">trigger</a></li></ul><h4><a href="Scene.Animator.html#events">Events</a></h4><ul class='events'><li data-type='event'><a href="Scene.Animator.html#event:ended">ended</a></li><li data-type='event'><a href="Scene.Animator.html#event:iteration">iteration</a></li><li data-type='event'><a href="Scene.Animator.html#event:paused">paused</a></li><li data-type='event'><a href="Scene.Animator.html#event:play">play</a></li><li data-type='event'><a href="Scene.Animator.html#event:timeupdate">timeupdate</a></li></ul></li><li file="eventtrigger"><a href="Scene.EventTrigger.html">EventTrigger</a><h4><a href="Scene.EventTrigger.html#methods">Methods</a></h4><ul class='methods'><li data-type='method'><a href="Scene.EventTrigger.html#off">off</a></li><li data-type='method'><a href="Scene.EventTrigger.html#on">on</a></li><li data-type='method'><a href="Scene.EventTrigger.html#trigger">trigger</a></li></ul></li><li file="frame"><a href="Scene.Frame.html">Frame</a><h4><a href="Scene.Frame.html#methods">Methods</a></h4><ul class='methods'><li data-type='method'><a href="Scene.Frame.html#clone">clone</a></li><li data-type='method'><a href="Scene.Frame.html#get">get</a></li><li data-type='method'><a href="Scene.Frame.html#has">has</a></li><li data-type='method'><a href="Scene.Frame.html#merge">merge</a></li><li data-type='method'><a href="Scene.Frame.html#remove">remove</a></li><li data-type='method'><a href="Scene.Frame.html#set">set</a></li><li data-type='method'><a href="Scene.Frame.html#toCSS">toCSS</a></li><li data-type='method'><a href="Scene.Frame.html#toCSSObject">toCSSObject</a></li></ul></li><li file="keyframes"><a href="Scene.Keyframes.html">Keyframes</a><h4><a href="Scene.Keyframes.html#methods">Methods</a></h4><ul class='methods'><li data-type='method'><a href="Scene.Keyframes.html#add">add</a></li><li data-type='method'><a href="Scene.Keyframes.html#forEach">forEach</a></li><li data-type='method'><a href="Scene.Keyframes.html#get">get</a></li><li data-type='method'><a href="Scene.Keyframes.html#getDuration">getDuration</a></li><li data-type='method'><a href="Scene.Keyframes.html#getNames">getNames</a></li><li data-type='method'><a href="Scene.Keyframes.html#has">has</a></li><li data-type='method'><a href="Scene.Keyframes.html#hasName">hasName</a></li><li data-type='method'><a href="Scene.Keyframes.html#remove">remove</a></li><li data-type='method'><a href="Scene.Keyframes.html#setDuration">setDuration</a></li><li data-type='method'><a href="Scene.Keyframes.html#size">size</a></li><li data-type='method'><a href="Scene.Keyframes.html#unshift">unshift</a></li><li data-type='method'><a href="Scene.Keyframes.html#update">update</a></li><li data-type='method'><a href="Scene.Keyframes.html#updateFrame">updateFrame</a></li></ul></li><li file="propertyobject"><a href="Scene.PropertyObject.html">PropertyObject</a><h4><a href="Scene.PropertyObject.html#methods">Methods</a></h4><ul class='methods'><li data-type='method'><a href="Scene.PropertyObject.html#clone">clone</a></li><li data-type='method'><a href="Scene.PropertyObject.html#forEach">forEach</a></li><li data-type='method'><a href="Scene.PropertyObject.html#get">get</a></li><li data-type='method'><a href="Scene.PropertyObject.html#join">join</a></li><li data-type='method'><a href="Scene.PropertyObject.html#set">set</a></li><li data-type='method'><a href="Scene.PropertyObject.html#size">size</a></li><li data-type='method'><a href="Scene.PropertyObject.html#toValue">toValue</a></li></ul></li><li file="sceneitem"><a href="Scene.SceneItem.html">SceneItem</a><h4><a href="Scene.SceneItem.html#methods">Methods</a></h4><ul class='methods'><li data-type='method'><a href="Scene.SceneItem.html#append">append</a></li><li data-type='method'><a href="Scene.SceneItem.html#clone">clone</a></li><li data-type='method'><a href="Scene.SceneItem.html#copyFrame">copyFrame</a></li><li data-type='method'><a href="Scene.SceneItem.html#end">end</a></li><li data-type='method'><a href="Scene.SceneItem.html#finish">finish</a></li><li data-type='method'><a href="Scene.SceneItem.html#get">get</a></li><li data-type='method'><a href="Scene.SceneItem.html#getActiveDuration">getActiveDuration</a></li><li data-type='method'><a href="Scene.SceneItem.html#getDelay">getDelay</a></li><li data-type='method'><a href="Scene.SceneItem.html#getDirection">getDirection</a></li><li data-type='method'><a href="Scene.SceneItem.html#getDuration">getDuration</a></li><li data-type='method'><a href="Scene.SceneItem.html#getEasing">getEasing</a></li><li data-type='method'><a href="Scene.SceneItem.html#getEasingName">getEasingName</a></li><li data-type='method'><a href="Scene.SceneItem.html#getFillMode">getFillMode</a></li><li data-type='method'><a href="Scene.SceneItem.html#getFrame">getFrame</a></li><li data-type='method'><a href="Scene.SceneItem.html#getId">getId</a></li><li data-type='method'><a href="Scene.SceneItem.html#getIterationCount">getIterationCount</a></li><li data-type='method'><a href="Scene.SceneItem.html#getIterationTime">getIterationTime</a></li><li data-type='method'><a href="Scene.SceneItem.html#getNowFrame">getNowFrame</a></li><li data-type='method'><a href="Scene.SceneItem.html#getPlaySpeed">getPlaySpeed</a></li><li data-type='method'><a href="Scene.SceneItem.html#getPlayState">getPlayState</a></li><li data-type='method'><a href="Scene.SceneItem.html#getTime">getTime</a></li><li data-type='method'><a href="Scene.SceneItem.html#getTotalDuration">getTotalDuration</a></li><li data-type='method'><a href="Scene.SceneItem.html#hasFrame">hasFrame</a></li><li data-type='method'><a href="Scene.SceneItem.html#isDelay">isDelay</a></li><li data-type='method'><a href="Scene.SceneItem.html#isEnded">isEnded</a></li><li data-type='method'><a href="Scene.SceneItem.html#isPaused">isPaused</a></li><li data-type='method'><a href="Scene.SceneItem.html#mergeFrame">mergeFrame</a></li><li data-type='method'><a href="Scene.SceneItem.html#newFrame">newFrame</a></li><li data-type='method'><a href="Scene.SceneItem.html#off">off</a></li><li data-type='method'><a href="Scene.SceneItem.html#on">on</a></li><li data-type='method'><a href="Scene.SceneItem.html#pause">pause</a></li><li data-type='method'><a href="Scene.SceneItem.html#play">play</a></li><li data-type='method'><a href="Scene.SceneItem.html#playCSS">playCSS</a></li><li data-type='method'><a href="Scene.SceneItem.html#prepend">prepend</a></li><li data-type='method'><a href="Scene.SceneItem.html#remove">remove</a></li><li data-type='method'><a href="Scene.SceneItem.html#removeFrame">removeFrame</a></li><li data-type='method'><a href="Scene.SceneItem.html#set">set</a></li><li data-type='method'><a href="Scene.SceneItem.html#setCSS">setCSS</a></li><li data-type='method'><a href="Scene.SceneItem.html#setDelay">setDelay</a></li><li data-type='method'><a href="Scene.SceneItem.html#setDirection">setDirection</a></li><li data-type='method'><a href="Scene.SceneItem.html#setDuration">setDuration</a></li><li data-type='method'><a href="Scene.SceneItem.html#setEasing">setEasing</a></li><li data-type='method'><a href="Scene.SceneItem.html#setElement">setElement</a></li><li data-type='method'><a href="Scene.SceneItem.html#setFillMode">setFillMode</a></li><li data-type='method'><a href="Scene.SceneItem.html#setFrame">setFrame</a></li><li data-type='method'><a href="Scene.SceneItem.html#setId">setId</a></li><li data-type='method'><a href="Scene.SceneItem.html#setIterationCount">setIterationCount</a></li><li data-type='method'><a href="Scene.SceneItem.html#setOptions">setOptions</a></li><li data-type='method'><a href="Scene.SceneItem.html#setPlaySpeed">setPlaySpeed</a></li><li data-type='method'><a href="Scene.SceneItem.html#setPlayState">setPlayState</a></li><li data-type='method'><a href="Scene.SceneItem.html#setSelector">setSelector</a></li><li data-type='method'><a href="Scene.SceneItem.html#setTime">setTime</a></li><li data-type='method'><a href="Scene.SceneItem.html#toCSS">toCSS</a></li><li data-type='method'><a href="Scene.SceneItem.html#trigger">trigger</a></li><li data-type='method'><a href="Scene.SceneItem.html#update">update</a></li><li data-type='method'><a href="Scene.SceneItem.html#updateFrame">updateFrame</a></li></ul><h4><a href="Scene.SceneItem.html#events">Events</a></h4><ul class='events'><li data-type='event'><a href="Scene.SceneItem.html#event:animate">animate</a></li><li data-type='event'><a href="Scene.SceneItem.html#event:ended">ended</a></li><li data-type='event'><a href="Scene.SceneItem.html#event:iteration">iteration</a></li><li data-type='event'><a href="Scene.SceneItem.html#event:paused">paused</a></li><li data-type='event'><a href="Scene.SceneItem.html#event:play">play</a></li><li data-type='event'><a href="Scene.SceneItem.html#event:timeupdate">timeupdate</a></li></ul></li></ul><ul class="namespaces"><li file="easing"><a href="easing.html">easing</a><h4><a href="easing.html#static members">Static Members</a></h4><ul class='static members'><li data-type='member'><a href="easing.html#.EASE">EASE</a></li><li data-type='member'><a href="easing.html#.EASE_IN">EASE_IN</a></li><li data-type='member'><a href="easing.html#.EASE_IN_OUT">EASE_IN_OUT</a></li><li data-type='member'><a href="easing.html#.EASE_OUT">EASE_OUT</a></li><li data-type='member'><a href="easing.html#.LINEAR">LINEAR</a></li><li data-type='member'><a href="easing.html#.STEP_END">STEP_END</a></li><li data-type='member'><a href="easing.html#.STEP_START">STEP_START</a></li></ul><h4><a href="easing.html#static methods">Static Methods</a></h4><ul class='static methods'><li data-type='method'><a href="easing.html#.bezier">bezier</a></li><li data-type='method'><a href="easing.html#.steps">steps</a></li></ul></li><li file="presets"><a href="presets.html">presets</a><h4><a href="presets.html#static methods">Static Methods</a></h4><ul class='static methods'><li data-type='method'><a href="presets.html#.blink">blink</a></li><li data-type='method'><a href="presets.html#.fadeIn">fadeIn</a></li><li data-type='method'><a href="presets.html#.fadeOut">fadeOut</a></li><li data-type='method'><a href="presets.html#.set">set</a></li><li data-type='method'><a href="presets.html#.transition">transition</a></li><li data-type='method'><a href="presets.html#.wipeIn">wipeIn</a></li><li data-type='method'><a href="presets.html#.wipeOut">wipeOut</a></li><li data-type='method'><a href="presets.html#.zoomIn">zoomIn</a></li><li data-type='method'><a href="presets.html#.zoomOut">zoomOut</a></li></ul></li></ul><ul class="global"><li file="global"><a href="global.html">Global</a><h4><a href="global.html#type definitions">Type Definitions</a></h4><ul class='type definitions'><li data-type='typedef'><a href="global.html#AnimatorOptions">AnimatorOptions</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">Scene.ts</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import Animator, { StateInterface, EasingType } from "./Animator";
import SceneItem from "./SceneItem";
import { ObjectInterface, ANIMATE } from "./consts";
import Frame from "./Frame";
import { playCSS, exportCSS, getRealId } from "./utils";
import { isFunction } from "@daybrush/utils";

/**
* manage sceneItems and play Scene.
* @extends Scene.Animator
*/
class Scene extends Animator {

  public items: ObjectInterface&lt;Scene | SceneItem>;
  /**
	* @param {Object} [properties] - properties
	* @param {AnimatorOptions} [options] - options
	* @example
	const scene = new Scene({
		item1: {
			0: {
				display: "none",
			},
			1: {
				display: "block",
				opacity: 0,
			},
			2: {
				opacity: 1,
			},
		},
		item2: {
			2: {
				opacity: 1,
			},
		}
	});
	 */
  constructor(properties?: ObjectInterface&lt;any>, options?: ObjectInterface&lt;any>) {
    super();
    this.items = {};
    this.load(properties, options);
  }
  public setId(id: number | string = `scene${Math.floor(Math.random() * 100000)}`) {
    this.state.id = id;
    return this;
  }
  public getId() {
    return this.state.id;
  }
  public getDuration() {
    const items = this.items;
    let time = 0;

    for (const id in items) {
      const item = items[id];

      time = Math.max(time, item.getTotalDuration() / item.getPlaySpeed());
    }
    return time;
  }
  public setDuration(duration: number) {
    const items = this.items;
    const sceneDuration = this.getDuration();

    if (duration === 0 || !isFinite(sceneDuration)) {
      return this;
    }
    if (sceneDuration === 0) {
      for (const id in items) {
        const item = items[id];

        item.setDuration(duration);
      }
    } else {
      const ratio = duration / sceneDuration;

      for (const id in items) {
        const item = items[id];

        item.setDelay(item.getDelay() * ratio);
        item.setDuration(item.getDuration() * ratio);
      }
    }
    return this;
  }
  /**
	* get item in scene by name
	* @method Scene#getItem
  * @param {string} name - The item's name
  * @param {number} [index] - If item is added as function, it can be imported via index.
  * @return {Scene | Scene.SceneItem} item
  * @example
const item = scene.getItem("item1")
  */
  public getItem(name: number | string) {
    return this.items[name];
  }
  /**
	* create item in scene
	* @method Scene#newItem
	* @param {String} name - name of item to create
	* @param {StateOptions} options - The option object of SceneItem
	* @return {Sceme.SceneItem} Newly created item
	* @example
const item = scene.newItem("item1")
	*/
  public newItem(name: number | string, options = {}) {
    if (name in this.items) {
      return;
    }
    const item = new SceneItem();

    this.setItem(name, item);
    item.setOptions(options);

    return item;
  }
  /**
	* add a sceneItem to the scene
	* @param {String} name - name of item to create
	* @param {Scene.SceneItem} item - sceneItem
	* @example
const item = scene.newItem("item1")
	*/
  public setItem(name: number | string, item: Scene | SceneItem) {
    item.setId(name);
    this.items[name] = item;
    return this;
  }
  public animate(time: number, parentEasing?: EasingType) {
    super.setTime(time, true);
    return this._animate(parentEasing);
  }
  public setTime(time: number | string, isNumber?: boolean, parentEasing?: EasingType) {
    super.setTime(time, isNumber);
    this._animate(parentEasing);
    return this;
  }
  /**
	 * executes a provided function once for each scene item.
	 * @param {Function} func Function to execute for each element, taking three arguments
	 * @param {Scene | Scene.SceneItem} [func.item] The value of the item being processed in the scene.
	 * @param {string} [func.name] The name of the item being processed in the scene.
	 * @param {object} [func.items] The object that forEach() is being applied to.
	 * @return {Scene} An instance itself
	 */
  public forEach(func: (item?: Scene | SceneItem, name?: string, items?: ObjectInterface&lt;Scene | SceneItem>) => void) {
    const items = this.items;

    for (const name in items) {
      func(items[name], name, items);
    }
    return this;
  }
  /**
	 * Export the CSS of the items to the style.
	 * @return {Scene} An instance itself
	 */
  public exportCSS(duration: number = this.getDuration(), state?: StateInterface) {
    const items = this.items;
    let totalDuration = state ? this.getDuration() : duration;

    if (!totalDuration || !isFinite(totalDuration)) {
      totalDuration = 0;
    }
    const isParent = !!state;
    const styles = [];

    for (const id in items) {
      styles.push(items[id].exportCSS(totalDuration, this.state));
    }
    const css: string = styles.join("");
    !isParent &amp;&amp; exportCSS(getRealId(this), css);
    return css;
  }
  public append(item: SceneItem | Scene) {
    item.setDelay(item.getDelay() + this.getDuration());
    this.setItem(getRealId(item), item);
  }
  public isPausedCSS() {
    return this.state.playCSS &amp;&amp; this.isPaused();
  }
  public pauseCSS() {
    const items = this.items;

    for (const id in items) {
      items[id].pauseCSS();
    }
  }
  public pause() {
    super.pause();
    this.isPausedCSS() &amp;&amp; this.pauseCSS();
    return this;
  }
  public endCSS() {
    const items = this.items;

    for (const id in items) {
      items[id].endCSS();
    }
    this.setState({ playCSS: false });
  }
  public end() {
    !this.isEnded() &amp;&amp; this.state.playCSS &amp;&amp; this.endCSS();
    super.end();
    return this;
  }
  public addPlayClass(isPaused: boolean, properties = {}) {
    const items = this.items;
    let animtionElement: HTMLElement;

    for (const id in items) {
      const el = items[id].addPlayClass(isPaused, properties);

      !animtionElement &amp;&amp; (animtionElement = el);
    }
    return animtionElement;
  }
  /**
	* Play using the css animation and keyframes.
	* @param {boolean} [exportCSS=true] Check if you want to export css.
	* @param {Object} [properties={}] The shorthand properties for six of the animation properties.
	* @param {Object} [properties.duration] The duration property defines how long an animation should take to complete one cycle.
	* @param {Object} [properties.fillMode] The fillMode property specifies a style for the element when the animation is not playing (before it starts, after it ends, or both).
	* @param {Object} [properties.iterationCount] The iterationCount property specifies the number of times an animation should be played.
	* @param {String} [properties.easing] The easing(timing-function) specifies the speed curve of an animation.
	* @param {Object} [properties.delay] The delay property specifies a delay for the start of an animation.
	* @param {Object} [properties.direction] The direction property defines whether an animation should be played forwards, backwards or in alternate cycles.
	* @return {Scene} An instance itself
	* @see {@link https://www.w3schools.com/cssref/css3_pr_animation.asp}
	* @example
scene.playCSS();
scene.playCSS(false, {
	direction: "reverse",
	fillMode: "forwards",
});
	*/
  public playCSS(isExportCSS = true, properties = {}) {
    playCSS(this, isExportCSS, properties);
    return this;
  }
  public set(properties: any = {}) {
    this.load(properties);
  }
  public load(properties: any = {}, options = properties.options) {
    if (!properties) {
      return this;
    }
    const isSelector = options &amp;&amp; options.selector;

    for (const name in properties) {
      if (name === "options") {
        continue;
      }
      const object = properties[name];
      let item;

      if (object instanceof Scene || object instanceof SceneItem) {
        this.setItem(name, object);
        item = object;
      } else if (isFunction(object) &amp;&amp; isSelector) {
        const elements = document.querySelectorAll(name);
        const length = elements.length;
        const scene = new Scene();

        for (let i = 0; i &lt; length; ++i) {
          scene.newItem(`${i}`, {
            elements: elements[i],
          }).load(object(i));
        }
        this.setItem(name, scene);
        continue;
      } else {
        item = this.newItem(name);
        item.load(object);
      }
      isSelector &amp;&amp; item.setSelector(name);
    }
    this.setOptions(options);
  }
  public setSelector(_: string | boolean) {
    const isSelector = this.options.selector;

    this.forEach((item, name) => {
      item.setSelector(isSelector ? name : false);
    });
  }
  private _animate(parentEasing?: EasingType) {
    const iterationTime = this.getIterationTime();
    const items = this.items;
    const easing = this.getEasing() || parentEasing;
    const frames: ObjectInterface&lt;ObjectInterface&lt;any> | Frame> = {};

    for (const id in items) {
      const item = items[id];

      frames[id] = item.animate(Math.max(iterationTime * item.getPlaySpeed() - item.getDelay(), 0), easing);
    }
    /**
		 * This event is fired when timeupdate and animate.
		 * @param {Number} param.currentTime The total time that the animator is running.
		 * @param {Number} param.time The iteration time during duration that the animator is running.
		 * @param {Frame} param.frames frame of that time.
		 */
    this.trigger(ANIMATE, {
      currentTime: this.getTime(),
      time: iterationTime,
      frames,
    });
    return frames;
  }
}

export default Scene;
</code></pre>
        </article>
    </section>





<style>


nav li[file="scene"]:after {
    display: none;
}
nav li[file="scene"] h4, nav li[file="scene"] ul {
    display: block;
}
</style>

</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 0.2.1</a> on Wed Dec 05 2018 18:31:10 GMT+0900 (Korean Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
